(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var rt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tf(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var s=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return e[r]}})}),n}var Tu={exports:{}},Ti={},Pu={exports:{}},Q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=Symbol.for("react.element"),Pf=Symbol.for("react.portal"),Of=Symbol.for("react.fragment"),Lf=Symbol.for("react.strict_mode"),Af=Symbol.for("react.profiler"),If=Symbol.for("react.provider"),$f=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Mf=Symbol.for("react.memo"),Uf=Symbol.for("react.lazy"),Xl=Symbol.iterator;function Ff(e){return e===null||typeof e!="object"?null:(e=Xl&&e[Xl]||e["@@iterator"],typeof e=="function"?e:null)}var Ou={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Lu=Object.assign,Au={};function fr(e,t,n){this.props=e,this.context=t,this.refs=Au,this.updater=n||Ou}fr.prototype.isReactComponent={};fr.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fr.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Iu(){}Iu.prototype=fr.prototype;function qa(e,t,n){this.props=e,this.context=t,this.refs=Au,this.updater=n||Ou}var Va=qa.prototype=new Iu;Va.constructor=qa;Lu(Va,fr.prototype);Va.isPureReactComponent=!0;var Yl=Array.isArray,$u=Object.prototype.hasOwnProperty,Ka={current:null},Ru={key:!0,ref:!0,__self:!0,__source:!0};function Du(e,t,n){var r,s={},o=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(o=""+t.key),t)$u.call(t,r)&&!Ru.hasOwnProperty(r)&&(s[r]=t[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:ds,type:e,key:o,ref:a,props:s,_owner:Ka.current}}function Bf(e,t){return{$$typeof:ds,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ga(e){return typeof e=="object"&&e!==null&&e.$$typeof===ds}function Wf(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var ec=/\/+/g;function to(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Wf(""+e.key):t.toString(36)}function Bs(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case ds:case Pf:a=!0}}if(a)return a=e,s=s(a),e=r===""?"."+to(a,0):r,Yl(s)?(n="",e!=null&&(n=e.replace(ec,"$&/")+"/"),Bs(s,t,n,"",function(d){return d})):s!=null&&(Ga(s)&&(s=Bf(s,n+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(ec,"$&/")+"/")+e)),t.push(s)),1;if(a=0,r=r===""?".":r+":",Yl(e))for(var l=0;l<e.length;l++){o=e[l];var c=r+to(o,l);a+=Bs(o,t,n,c,s)}else if(c=Ff(e),typeof c=="function")for(e=c.call(e),l=0;!(o=e.next()).done;)o=o.value,c=r+to(o,l++),a+=Bs(o,t,n,c,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function ys(e,t,n){if(e==null)return e;var r=[],s=0;return Bs(e,r,"","",function(o){return t.call(n,o,s++)}),r}function Hf(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var $e={current:null},Ws={transition:null},qf={ReactCurrentDispatcher:$e,ReactCurrentBatchConfig:Ws,ReactCurrentOwner:Ka};function Mu(){throw Error("act(...) is not supported in production builds of React.")}Q.Children={map:ys,forEach:function(e,t,n){ys(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ys(e,function(){t++}),t},toArray:function(e){return ys(e,function(t){return t})||[]},only:function(e){if(!Ga(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Q.Component=fr;Q.Fragment=Of;Q.Profiler=Af;Q.PureComponent=qa;Q.StrictMode=Lf;Q.Suspense=Df;Q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qf;Q.act=Mu;Q.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Lu({},e.props),s=e.key,o=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,a=Ka.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)$u.call(t,c)&&!Ru.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:ds,type:e.type,key:s,ref:o,props:r,_owner:a}};Q.createContext=function(e){return e={$$typeof:$f,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:If,_context:e},e.Consumer=e};Q.createElement=Du;Q.createFactory=function(e){var t=Du.bind(null,e);return t.type=e,t};Q.createRef=function(){return{current:null}};Q.forwardRef=function(e){return{$$typeof:Rf,render:e}};Q.isValidElement=Ga;Q.lazy=function(e){return{$$typeof:Uf,_payload:{_status:-1,_result:e},_init:Hf}};Q.memo=function(e,t){return{$$typeof:Mf,type:e,compare:t===void 0?null:t}};Q.startTransition=function(e){var t=Ws.transition;Ws.transition={};try{e()}finally{Ws.transition=t}};Q.unstable_act=Mu;Q.useCallback=function(e,t){return $e.current.useCallback(e,t)};Q.useContext=function(e){return $e.current.useContext(e)};Q.useDebugValue=function(){};Q.useDeferredValue=function(e){return $e.current.useDeferredValue(e)};Q.useEffect=function(e,t){return $e.current.useEffect(e,t)};Q.useId=function(){return $e.current.useId()};Q.useImperativeHandle=function(e,t,n){return $e.current.useImperativeHandle(e,t,n)};Q.useInsertionEffect=function(e,t){return $e.current.useInsertionEffect(e,t)};Q.useLayoutEffect=function(e,t){return $e.current.useLayoutEffect(e,t)};Q.useMemo=function(e,t){return $e.current.useMemo(e,t)};Q.useReducer=function(e,t,n){return $e.current.useReducer(e,t,n)};Q.useRef=function(e){return $e.current.useRef(e)};Q.useState=function(e){return $e.current.useState(e)};Q.useSyncExternalStore=function(e,t,n){return $e.current.useSyncExternalStore(e,t,n)};Q.useTransition=function(){return $e.current.useTransition()};Q.version="18.3.1";Pu.exports=Q;var k=Pu.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vf=k,Kf=Symbol.for("react.element"),Gf=Symbol.for("react.fragment"),Zf=Object.prototype.hasOwnProperty,Jf=Vf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qf={key:!0,ref:!0,__self:!0,__source:!0};function Uu(e,t,n){var r,s={},o=null,a=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)Zf.call(t,r)&&!Qf.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Kf,type:e,key:o,ref:a,props:s,_owner:Jf.current}}Ti.Fragment=Gf;Ti.jsx=Uu;Ti.jsxs=Uu;Tu.exports=Ti;var i=Tu.exports,Fu={exports:{}},Qe={},Bu={exports:{}},Wu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(E,U){var B=E.length;E.push(U);e:for(;0<B;){var b=B-1>>>1,L=E[b];if(0<s(L,U))E[b]=U,E[B]=L,B=b;else break e}}function n(E){return E.length===0?null:E[0]}function r(E){if(E.length===0)return null;var U=E[0],B=E.pop();if(B!==U){E[0]=B;e:for(var b=0,L=E.length,F=L>>>1;b<F;){var S=2*(b+1)-1,H=E[S],ee=S+1,re=E[ee];if(0>s(H,B))ee<L&&0>s(re,H)?(E[b]=re,E[ee]=B,b=ee):(E[b]=H,E[S]=B,b=S);else if(ee<L&&0>s(re,B))E[b]=re,E[ee]=B,b=ee;else break e}}return U}function s(E,U){var B=E.sortIndex-U.sortIndex;return B!==0?B:E.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}var c=[],d=[],u=1,f=null,m=3,v=!1,y=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function h(E){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=E)r(d),U.sortIndex=U.expirationTime,t(c,U);else break;U=n(d)}}function x(E){if(_=!1,h(E),!y)if(n(c)!==null)y=!0,_e(w);else{var U=n(d);U!==null&&O(x,U.startTime-E)}}function w(E,U){y=!1,_&&(_=!1,g(T),T=-1),v=!0;var B=m;try{for(h(U),f=n(c);f!==null&&(!(f.expirationTime>U)||E&&!A());){var b=f.callback;if(typeof b=="function"){f.callback=null,m=f.priorityLevel;var L=b(f.expirationTime<=U);U=e.unstable_now(),typeof L=="function"?f.callback=L:f===n(c)&&r(c),h(U)}else r(c);f=n(c)}if(f!==null)var F=!0;else{var S=n(d);S!==null&&O(x,S.startTime-U),F=!1}return F}finally{f=null,m=B,v=!1}}var C=!1,z=null,T=-1,V=5,M=-1;function A(){return!(e.unstable_now()-M<V)}function q(){if(z!==null){var E=e.unstable_now();M=E;var U=!0;try{U=z(!0,E)}finally{U?K():(C=!1,z=null)}}else C=!1}var K;if(typeof p=="function")K=function(){p(q)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,xe=X.port2;X.port1.onmessage=q,K=function(){xe.postMessage(null)}}else K=function(){N(q,0)};function _e(E){z=E,C||(C=!0,K())}function O(E,U){T=N(function(){E(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(E){E.callback=null},e.unstable_continueExecution=function(){y||v||(y=!0,_e(w))},e.unstable_forceFrameRate=function(E){0>E||125<E?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<E?Math.floor(1e3/E):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(E){switch(m){case 1:case 2:case 3:var U=3;break;default:U=m}var B=m;m=U;try{return E()}finally{m=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(E,U){switch(E){case 1:case 2:case 3:case 4:case 5:break;default:E=3}var B=m;m=E;try{return U()}finally{m=B}},e.unstable_scheduleCallback=function(E,U,B){var b=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?b+B:b):B=b,E){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=B+L,E={id:u++,callback:U,priorityLevel:E,startTime:B,expirationTime:L,sortIndex:-1},B>b?(E.sortIndex=B,t(d,E),n(c)===null&&E===n(d)&&(_?(g(T),T=-1):_=!0,O(x,B-b))):(E.sortIndex=L,t(c,E),y||v||(y=!0,_e(w))),E},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(E){var U=m;return function(){var B=m;m=U;try{return E.apply(this,arguments)}finally{m=B}}}})(Wu);Bu.exports=Wu;var Xf=Bu.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yf=k,Je=Xf;function P(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hu=new Set,qr={};function En(e,t){sr(e,t),sr(e+"Capture",t)}function sr(e,t){for(qr[e]=t,e=0;e<t.length;e++)Hu.add(t[e])}var Pt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=Object.prototype.hasOwnProperty,e0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tc={},nc={};function t0(e){return Do.call(nc,e)?!0:Do.call(tc,e)?!1:e0.test(e)?nc[e]=!0:(tc[e]=!0,!1)}function n0(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function r0(e,t,n,r){if(t===null||typeof t>"u"||n0(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Re(e,t,n,r,s,o,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var Ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ce[e]=new Re(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ce[t]=new Re(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ce[e]=new Re(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ce[e]=new Re(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ce[e]=new Re(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ce[e]=new Re(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ce[e]=new Re(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ce[e]=new Re(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ce[e]=new Re(e,5,!1,e.toLowerCase(),null,!1,!1)});var Za=/[\-:]([a-z])/g;function Ja(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Za,Ja);Ce[t]=new Re(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Za,Ja);Ce[t]=new Re(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Za,Ja);Ce[t]=new Re(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ce[e]=new Re(e,1,!1,e.toLowerCase(),null,!1,!1)});Ce.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ce[e]=new Re(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qa(e,t,n,r){var s=Ce.hasOwnProperty(t)?Ce[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(r0(t,n,s,r)&&(n=null),r||s===null?t0(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var It=Yf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bs=Symbol.for("react.element"),Mn=Symbol.for("react.portal"),Un=Symbol.for("react.fragment"),Xa=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),qu=Symbol.for("react.provider"),Vu=Symbol.for("react.context"),Ya=Symbol.for("react.forward_ref"),Uo=Symbol.for("react.suspense"),Fo=Symbol.for("react.suspense_list"),el=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Ku=Symbol.for("react.offscreen"),rc=Symbol.iterator;function vr(e){return e===null||typeof e!="object"?null:(e=rc&&e[rc]||e["@@iterator"],typeof e=="function"?e:null)}var he=Object.assign,no;function Cr(e){if(no===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);no=t&&t[1]||""}return`
`+no+e}var ro=!1;function so(e,t){if(!e||ro)return"";ro=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),o=r.stack.split(`
`),a=s.length-1,l=o.length-1;1<=a&&0<=l&&s[a]!==o[l];)l--;for(;1<=a&&0<=l;a--,l--)if(s[a]!==o[l]){if(a!==1||l!==1)do if(a--,l--,0>l||s[a]!==o[l]){var c=`
`+s[a].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=a&&0<=l);break}}}finally{ro=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Cr(e):""}function s0(e){switch(e.tag){case 5:return Cr(e.type);case 16:return Cr("Lazy");case 13:return Cr("Suspense");case 19:return Cr("SuspenseList");case 0:case 2:case 15:return e=so(e.type,!1),e;case 11:return e=so(e.type.render,!1),e;case 1:return e=so(e.type,!0),e;default:return""}}function Bo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Un:return"Fragment";case Mn:return"Portal";case Mo:return"Profiler";case Xa:return"StrictMode";case Uo:return"Suspense";case Fo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Vu:return(e.displayName||"Context")+".Consumer";case qu:return(e._context.displayName||"Context")+".Provider";case Ya:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case el:return t=e.displayName||null,t!==null?t:Bo(e.type)||"Memo";case Ft:t=e._payload,e=e._init;try{return Bo(e(t))}catch{}}return null}function i0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bo(t);case 8:return t===Xa?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Gu(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function o0(e){var t=Gu(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function js(e){e._valueTracker||(e._valueTracker=o0(e))}function Zu(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Gu(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Wo(e,t){var n=t.checked;return he({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function sc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=nn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ju(e,t){t=t.checked,t!=null&&Qa(e,"checked",t,!1)}function Ho(e,t){Ju(e,t);var n=nn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?qo(e,t.type,n):t.hasOwnProperty("defaultValue")&&qo(e,t.type,nn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ic(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function qo(e,t,n){(t!=="number"||ni(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Er=Array.isArray;function Qn(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+nn(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Vo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(P(91));return he({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oc(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(P(92));if(Er(n)){if(1<n.length)throw Error(P(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:nn(n)}}function Qu(e,t){var n=nn(t.value),r=nn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function ac(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Xu(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ko(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Xu(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ks,Yu=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ks=ks||document.createElement("div"),ks.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ks.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Vr(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a0=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(e){a0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Or[t]=Or[e]})});function ed(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Or.hasOwnProperty(e)&&Or[e]?(""+t).trim():t+"px"}function td(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=ed(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var l0=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(e,t){if(t){if(l0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(P(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(P(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(P(61))}if(t.style!=null&&typeof t.style!="object")throw Error(P(62))}}function Zo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jo=null;function tl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qo=null,Xn=null,Yn=null;function lc(e){if(e=ps(e)){if(typeof Qo!="function")throw Error(P(280));var t=e.stateNode;t&&(t=Ii(t),Qo(e.stateNode,e.type,t))}}function nd(e){Xn?Yn?Yn.push(e):Yn=[e]:Xn=e}function rd(){if(Xn){var e=Xn,t=Yn;if(Yn=Xn=null,lc(e),t)for(e=0;e<t.length;e++)lc(t[e])}}function sd(e,t){return e(t)}function id(){}var io=!1;function od(e,t,n){if(io)return e(t,n);io=!0;try{return sd(e,t,n)}finally{io=!1,(Xn!==null||Yn!==null)&&(id(),rd())}}function Kr(e,t){var n=e.stateNode;if(n===null)return null;var r=Ii(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(P(231,t,typeof n));return n}var Xo=!1;if(Pt)try{var wr={};Object.defineProperty(wr,"passive",{get:function(){Xo=!0}}),window.addEventListener("test",wr,wr),window.removeEventListener("test",wr,wr)}catch{Xo=!1}function c0(e,t,n,r,s,o,a,l,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(u){this.onError(u)}}var Lr=!1,ri=null,si=!1,Yo=null,u0={onError:function(e){Lr=!0,ri=e}};function d0(e,t,n,r,s,o,a,l,c){Lr=!1,ri=null,c0.apply(u0,arguments)}function h0(e,t,n,r,s,o,a,l,c){if(d0.apply(this,arguments),Lr){if(Lr){var d=ri;Lr=!1,ri=null}else throw Error(P(198));si||(si=!0,Yo=d)}}function zn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function ad(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function cc(e){if(zn(e)!==e)throw Error(P(188))}function f0(e){var t=e.alternate;if(!t){if(t=zn(e),t===null)throw Error(P(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return cc(s),e;if(o===r)return cc(s),t;o=o.sibling}throw Error(P(188))}if(n.return!==r.return)n=s,r=o;else{for(var a=!1,l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?e:t}function ld(e){return e=f0(e),e!==null?cd(e):null}function cd(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=cd(e);if(t!==null)return t;e=e.sibling}return null}var ud=Je.unstable_scheduleCallback,uc=Je.unstable_cancelCallback,p0=Je.unstable_shouldYield,m0=Je.unstable_requestPaint,me=Je.unstable_now,g0=Je.unstable_getCurrentPriorityLevel,nl=Je.unstable_ImmediatePriority,dd=Je.unstable_UserBlockingPriority,ii=Je.unstable_NormalPriority,x0=Je.unstable_LowPriority,hd=Je.unstable_IdlePriority,Pi=null,yt=null;function v0(e){if(yt&&typeof yt.onCommitFiberRoot=="function")try{yt.onCommitFiberRoot(Pi,e,void 0,(e.current.flags&128)===128)}catch{}}var ht=Math.clz32?Math.clz32:b0,w0=Math.log,y0=Math.LN2;function b0(e){return e>>>=0,e===0?32:31-(w0(e)/y0|0)|0}var _s=64,Ns=4194304;function zr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,a=n&268435455;if(a!==0){var l=a&~s;l!==0?r=zr(l):(o&=a,o!==0&&(r=zr(o)))}else a=n&~s,a!==0?r=zr(a):o!==0&&(r=zr(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ht(t),s=1<<n,r|=e[n],t&=~s;return r}function j0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function k0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-ht(o),l=1<<a,c=s[a];c===-1?(!(l&n)||l&r)&&(s[a]=j0(l,t)):c<=t&&(e.expiredLanes|=l),o&=~l}}function ea(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function fd(){var e=_s;return _s<<=1,!(_s&4194240)&&(_s=64),e}function oo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function hs(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ht(t),e[t]=n}function _0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-ht(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function rl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ht(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var ne=0;function pd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var md,sl,gd,xd,vd,ta=!1,Ss=[],Gt=null,Zt=null,Jt=null,Gr=new Map,Zr=new Map,Wt=[],N0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dc(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Zt=null;break;case"mouseover":case"mouseout":Jt=null;break;case"pointerover":case"pointerout":Gr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zr.delete(t.pointerId)}}function yr(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=ps(t),t!==null&&sl(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function S0(e,t,n,r,s){switch(t){case"focusin":return Gt=yr(Gt,e,t,n,r,s),!0;case"dragenter":return Zt=yr(Zt,e,t,n,r,s),!0;case"mouseover":return Jt=yr(Jt,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Gr.set(o,yr(Gr.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Zr.set(o,yr(Zr.get(o)||null,e,t,n,r,s)),!0}return!1}function wd(e){var t=xn(e.target);if(t!==null){var n=zn(t);if(n!==null){if(t=n.tag,t===13){if(t=ad(n),t!==null){e.blockedOn=t,vd(e.priority,function(){gd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Hs(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=na(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jo=r,n.target.dispatchEvent(r),Jo=null}else return t=ps(n),t!==null&&sl(t),e.blockedOn=n,!1;t.shift()}return!0}function hc(e,t,n){Hs(e)&&n.delete(t)}function C0(){ta=!1,Gt!==null&&Hs(Gt)&&(Gt=null),Zt!==null&&Hs(Zt)&&(Zt=null),Jt!==null&&Hs(Jt)&&(Jt=null),Gr.forEach(hc),Zr.forEach(hc)}function br(e,t){e.blockedOn===t&&(e.blockedOn=null,ta||(ta=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,C0)))}function Jr(e){function t(s){return br(s,e)}if(0<Ss.length){br(Ss[0],e);for(var n=1;n<Ss.length;n++){var r=Ss[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Gt!==null&&br(Gt,e),Zt!==null&&br(Zt,e),Jt!==null&&br(Jt,e),Gr.forEach(t),Zr.forEach(t),n=0;n<Wt.length;n++)r=Wt[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Wt.length&&(n=Wt[0],n.blockedOn===null);)wd(n),n.blockedOn===null&&Wt.shift()}var er=It.ReactCurrentBatchConfig,ai=!0;function E0(e,t,n,r){var s=ne,o=er.transition;er.transition=null;try{ne=1,il(e,t,n,r)}finally{ne=s,er.transition=o}}function z0(e,t,n,r){var s=ne,o=er.transition;er.transition=null;try{ne=4,il(e,t,n,r)}finally{ne=s,er.transition=o}}function il(e,t,n,r){if(ai){var s=na(e,t,n,r);if(s===null)xo(e,t,r,li,n),dc(e,r);else if(S0(s,e,t,n,r))r.stopPropagation();else if(dc(e,r),t&4&&-1<N0.indexOf(e)){for(;s!==null;){var o=ps(s);if(o!==null&&md(o),o=na(e,t,n,r),o===null&&xo(e,t,r,li,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else xo(e,t,r,null,n)}}var li=null;function na(e,t,n,r){if(li=null,e=tl(r),e=xn(e),e!==null)if(t=zn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=ad(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return li=e,null}function yd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(g0()){case nl:return 1;case dd:return 4;case ii:case x0:return 16;case hd:return 536870912;default:return 16}default:return 16}}var Vt=null,ol=null,qs=null;function bd(){if(qs)return qs;var e,t=ol,n=t.length,r,s="value"in Vt?Vt.value:Vt.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===s[o-r];r++);return qs=s.slice(e,1<r?1-r:void 0)}function Vs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Cs(){return!0}function fc(){return!1}function Xe(e){function t(n,r,s,o,a){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(n=e[l],this[l]=n?n(o):o[l]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Cs:fc,this.isPropagationStopped=fc,this}return he(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Cs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Cs)},persist:function(){},isPersistent:Cs}),t}var pr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Xe(pr),fs=he({},pr,{view:0,detail:0}),T0=Xe(fs),ao,lo,jr,Oi=he({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ll,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==jr&&(jr&&e.type==="mousemove"?(ao=e.screenX-jr.screenX,lo=e.screenY-jr.screenY):lo=ao=0,jr=e),ao)},movementY:function(e){return"movementY"in e?e.movementY:lo}}),pc=Xe(Oi),P0=he({},Oi,{dataTransfer:0}),O0=Xe(P0),L0=he({},fs,{relatedTarget:0}),co=Xe(L0),A0=he({},pr,{animationName:0,elapsedTime:0,pseudoElement:0}),I0=Xe(A0),$0=he({},pr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),R0=Xe($0),D0=he({},pr,{data:0}),mc=Xe(D0),M0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},U0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=F0[e])?!!t[e]:!1}function ll(){return B0}var W0=he({},fs,{key:function(e){if(e.key){var t=M0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?U0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ll,charCode:function(e){return e.type==="keypress"?Vs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),H0=Xe(W0),q0=he({},Oi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gc=Xe(q0),V0=he({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ll}),K0=Xe(V0),G0=he({},pr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Z0=Xe(G0),J0=he({},Oi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Q0=Xe(J0),X0=[9,13,27,32],cl=Pt&&"CompositionEvent"in window,Ar=null;Pt&&"documentMode"in document&&(Ar=document.documentMode);var Y0=Pt&&"TextEvent"in window&&!Ar,jd=Pt&&(!cl||Ar&&8<Ar&&11>=Ar),xc=" ",vc=!1;function kd(e,t){switch(e){case"keyup":return X0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _d(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Fn=!1;function ep(e,t){switch(e){case"compositionend":return _d(t);case"keypress":return t.which!==32?null:(vc=!0,xc);case"textInput":return e=t.data,e===xc&&vc?null:e;default:return null}}function tp(e,t){if(Fn)return e==="compositionend"||!cl&&kd(e,t)?(e=bd(),qs=ol=Vt=null,Fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jd&&t.locale!=="ko"?null:t.data;default:return null}}var np={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!np[e.type]:t==="textarea"}function Nd(e,t,n,r){nd(r),t=ci(t,"onChange"),0<t.length&&(n=new al("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ir=null,Qr=null;function rp(e){$d(e,0)}function Li(e){var t=Hn(e);if(Zu(t))return e}function sp(e,t){if(e==="change")return t}var Sd=!1;if(Pt){var uo;if(Pt){var ho="oninput"in document;if(!ho){var yc=document.createElement("div");yc.setAttribute("oninput","return;"),ho=typeof yc.oninput=="function"}uo=ho}else uo=!1;Sd=uo&&(!document.documentMode||9<document.documentMode)}function bc(){Ir&&(Ir.detachEvent("onpropertychange",Cd),Qr=Ir=null)}function Cd(e){if(e.propertyName==="value"&&Li(Qr)){var t=[];Nd(t,Qr,e,tl(e)),od(rp,t)}}function ip(e,t,n){e==="focusin"?(bc(),Ir=t,Qr=n,Ir.attachEvent("onpropertychange",Cd)):e==="focusout"&&bc()}function op(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Li(Qr)}function ap(e,t){if(e==="click")return Li(t)}function lp(e,t){if(e==="input"||e==="change")return Li(t)}function cp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pt=typeof Object.is=="function"?Object.is:cp;function Xr(e,t){if(pt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Do.call(t,s)||!pt(e[s],t[s]))return!1}return!0}function jc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kc(e,t){var n=jc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=jc(n)}}function Ed(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ed(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(){for(var e=window,t=ni();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ni(e.document)}return t}function ul(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function up(e){var t=zd(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Ed(n.ownerDocument.documentElement,n)){if(r!==null&&ul(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=kc(n,o);var a=kc(n,r);s&&a&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dp=Pt&&"documentMode"in document&&11>=document.documentMode,Bn=null,ra=null,$r=null,sa=!1;function _c(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;sa||Bn==null||Bn!==ni(r)||(r=Bn,"selectionStart"in r&&ul(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$r&&Xr($r,r)||($r=r,r=ci(ra,"onSelect"),0<r.length&&(t=new al("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Bn)))}function Es(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Wn={animationend:Es("Animation","AnimationEnd"),animationiteration:Es("Animation","AnimationIteration"),animationstart:Es("Animation","AnimationStart"),transitionend:Es("Transition","TransitionEnd")},fo={},Td={};Pt&&(Td=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function Ai(e){if(fo[e])return fo[e];if(!Wn[e])return e;var t=Wn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Td)return fo[e]=t[n];return e}var Pd=Ai("animationend"),Od=Ai("animationiteration"),Ld=Ai("animationstart"),Ad=Ai("transitionend"),Id=new Map,Nc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function an(e,t){Id.set(e,t),En(t,[e])}for(var po=0;po<Nc.length;po++){var mo=Nc[po],hp=mo.toLowerCase(),fp=mo[0].toUpperCase()+mo.slice(1);an(hp,"on"+fp)}an(Pd,"onAnimationEnd");an(Od,"onAnimationIteration");an(Ld,"onAnimationStart");an("dblclick","onDoubleClick");an("focusin","onFocus");an("focusout","onBlur");an(Ad,"onTransitionEnd");sr("onMouseEnter",["mouseout","mouseover"]);sr("onMouseLeave",["mouseout","mouseover"]);sr("onPointerEnter",["pointerout","pointerover"]);sr("onPointerLeave",["pointerout","pointerover"]);En("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));En("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));En("onBeforeInput",["compositionend","keypress","textInput","paste"]);En("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));En("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));En("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Sc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,h0(r,t,void 0,e),e.currentTarget=null}function $d(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var l=r[a],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==o&&s.isPropagationStopped())break e;Sc(s,l,d),o=c}else for(a=0;a<r.length;a++){if(l=r[a],c=l.instance,d=l.currentTarget,l=l.listener,c!==o&&s.isPropagationStopped())break e;Sc(s,l,d),o=c}}}if(si)throw e=Yo,si=!1,Yo=null,e}function ae(e,t){var n=t[ca];n===void 0&&(n=t[ca]=new Set);var r=e+"__bubble";n.has(r)||(Rd(t,e,2,!1),n.add(r))}function go(e,t,n){var r=0;t&&(r|=4),Rd(n,e,r,t)}var zs="_reactListening"+Math.random().toString(36).slice(2);function Yr(e){if(!e[zs]){e[zs]=!0,Hu.forEach(function(n){n!=="selectionchange"&&(pp.has(n)||go(n,!1,e),go(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[zs]||(t[zs]=!0,go("selectionchange",!1,t))}}function Rd(e,t,n,r){switch(yd(t)){case 1:var s=E0;break;case 4:s=z0;break;default:s=il}n=s.bind(null,t,n,e),s=void 0,!Xo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function xo(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(a===4)for(a=r.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;a=a.return}for(;l!==null;){if(a=xn(l),a===null)return;if(c=a.tag,c===5||c===6){r=o=a;continue e}l=l.parentNode}}r=r.return}od(function(){var d=o,u=tl(n),f=[];e:{var m=Id.get(e);if(m!==void 0){var v=al,y=e;switch(e){case"keypress":if(Vs(n)===0)break e;case"keydown":case"keyup":v=H0;break;case"focusin":y="focus",v=co;break;case"focusout":y="blur",v=co;break;case"beforeblur":case"afterblur":v=co;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=O0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=K0;break;case Pd:case Od:case Ld:v=I0;break;case Ad:v=Z0;break;case"scroll":v=T0;break;case"wheel":v=Q0;break;case"copy":case"cut":case"paste":v=R0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gc}var _=(t&4)!==0,N=!_&&e==="scroll",g=_?m!==null?m+"Capture":null:m;_=[];for(var p=d,h;p!==null;){h=p;var x=h.stateNode;if(h.tag===5&&x!==null&&(h=x,g!==null&&(x=Kr(p,g),x!=null&&_.push(es(p,x,h)))),N)break;p=p.return}0<_.length&&(m=new v(m,y,null,n,u),f.push({event:m,listeners:_}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",m&&n!==Jo&&(y=n.relatedTarget||n.fromElement)&&(xn(y)||y[Ot]))break e;if((v||m)&&(m=u.window===u?u:(m=u.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=d,y=y?xn(y):null,y!==null&&(N=zn(y),y!==N||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=d),v!==y)){if(_=pc,x="onMouseLeave",g="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(_=gc,x="onPointerLeave",g="onPointerEnter",p="pointer"),N=v==null?m:Hn(v),h=y==null?m:Hn(y),m=new _(x,p+"leave",v,n,u),m.target=N,m.relatedTarget=h,x=null,xn(u)===d&&(_=new _(g,p+"enter",y,n,u),_.target=h,_.relatedTarget=N,x=_),N=x,v&&y)t:{for(_=v,g=y,p=0,h=_;h;h=Pn(h))p++;for(h=0,x=g;x;x=Pn(x))h++;for(;0<p-h;)_=Pn(_),p--;for(;0<h-p;)g=Pn(g),h--;for(;p--;){if(_===g||g!==null&&_===g.alternate)break t;_=Pn(_),g=Pn(g)}_=null}else _=null;v!==null&&Cc(f,m,v,_,!1),y!==null&&N!==null&&Cc(f,N,y,_,!0)}}e:{if(m=d?Hn(d):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var w=sp;else if(wc(m))if(Sd)w=lp;else{w=op;var C=ip}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=ap);if(w&&(w=w(e,d))){Nd(f,w,n,u);break e}C&&C(e,m,d),e==="focusout"&&(C=m._wrapperState)&&C.controlled&&m.type==="number"&&qo(m,"number",m.value)}switch(C=d?Hn(d):window,e){case"focusin":(wc(C)||C.contentEditable==="true")&&(Bn=C,ra=d,$r=null);break;case"focusout":$r=ra=Bn=null;break;case"mousedown":sa=!0;break;case"contextmenu":case"mouseup":case"dragend":sa=!1,_c(f,n,u);break;case"selectionchange":if(dp)break;case"keydown":case"keyup":_c(f,n,u)}var z;if(cl)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Fn?kd(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(jd&&n.locale!=="ko"&&(Fn||T!=="onCompositionStart"?T==="onCompositionEnd"&&Fn&&(z=bd()):(Vt=u,ol="value"in Vt?Vt.value:Vt.textContent,Fn=!0)),C=ci(d,T),0<C.length&&(T=new mc(T,e,null,n,u),f.push({event:T,listeners:C}),z?T.data=z:(z=_d(n),z!==null&&(T.data=z)))),(z=Y0?ep(e,n):tp(e,n))&&(d=ci(d,"onBeforeInput"),0<d.length&&(u=new mc("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:d}),u.data=z))}$d(f,t)})}function es(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ci(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Kr(e,n),o!=null&&r.unshift(es(e,o,s)),o=Kr(e,t),o!=null&&r.push(es(e,o,s))),e=e.return}return r}function Pn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Cc(e,t,n,r,s){for(var o=t._reactName,a=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Kr(n,o),c!=null&&a.unshift(es(n,c,l))):s||(c=Kr(n,o),c!=null&&a.push(es(n,c,l)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var mp=/\r\n?/g,gp=/\u0000|\uFFFD/g;function Ec(e){return(typeof e=="string"?e:""+e).replace(mp,`
`).replace(gp,"")}function Ts(e,t,n){if(t=Ec(t),Ec(e)!==t&&n)throw Error(P(425))}function ui(){}var ia=null,oa=null;function aa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var la=typeof setTimeout=="function"?setTimeout:void 0,xp=typeof clearTimeout=="function"?clearTimeout:void 0,zc=typeof Promise=="function"?Promise:void 0,vp=typeof queueMicrotask=="function"?queueMicrotask:typeof zc<"u"?function(e){return zc.resolve(null).then(e).catch(wp)}:la;function wp(e){setTimeout(function(){throw e})}function vo(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Jr(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Jr(t)}function Qt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Tc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mr=Math.random().toString(36).slice(2),wt="__reactFiber$"+mr,ts="__reactProps$"+mr,Ot="__reactContainer$"+mr,ca="__reactEvents$"+mr,yp="__reactListeners$"+mr,bp="__reactHandles$"+mr;function xn(e){var t=e[wt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ot]||n[wt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Tc(e);e!==null;){if(n=e[wt])return n;e=Tc(e)}return t}e=n,n=e.parentNode}return null}function ps(e){return e=e[wt]||e[Ot],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Hn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(P(33))}function Ii(e){return e[ts]||null}var ua=[],qn=-1;function ln(e){return{current:e}}function le(e){0>qn||(e.current=ua[qn],ua[qn]=null,qn--)}function oe(e,t){qn++,ua[qn]=e.current,e.current=t}var rn={},Oe=ln(rn),He=ln(!1),kn=rn;function ir(e,t){var n=e.type.contextTypes;if(!n)return rn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function qe(e){return e=e.childContextTypes,e!=null}function di(){le(He),le(Oe)}function Pc(e,t,n){if(Oe.current!==rn)throw Error(P(168));oe(Oe,t),oe(He,n)}function Dd(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(P(108,i0(e)||"Unknown",s));return he({},n,r)}function hi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,kn=Oe.current,oe(Oe,e),oe(He,He.current),!0}function Oc(e,t,n){var r=e.stateNode;if(!r)throw Error(P(169));n?(e=Dd(e,t,kn),r.__reactInternalMemoizedMergedChildContext=e,le(He),le(Oe),oe(Oe,e)):le(He),oe(He,n)}var Ct=null,$i=!1,wo=!1;function Md(e){Ct===null?Ct=[e]:Ct.push(e)}function jp(e){$i=!0,Md(e)}function cn(){if(!wo&&Ct!==null){wo=!0;var e=0,t=ne;try{var n=Ct;for(ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ct=null,$i=!1}catch(s){throw Ct!==null&&(Ct=Ct.slice(e+1)),ud(nl,cn),s}finally{ne=t,wo=!1}}return null}var Vn=[],Kn=0,fi=null,pi=0,Ye=[],et=0,_n=null,Et=1,zt="";function fn(e,t){Vn[Kn++]=pi,Vn[Kn++]=fi,fi=e,pi=t}function Ud(e,t,n){Ye[et++]=Et,Ye[et++]=zt,Ye[et++]=_n,_n=e;var r=Et;e=zt;var s=32-ht(r)-1;r&=~(1<<s),n+=1;var o=32-ht(t)+s;if(30<o){var a=s-s%5;o=(r&(1<<a)-1).toString(32),r>>=a,s-=a,Et=1<<32-ht(t)+s|n<<s|r,zt=o+e}else Et=1<<o|n<<s|r,zt=e}function dl(e){e.return!==null&&(fn(e,1),Ud(e,1,0))}function hl(e){for(;e===fi;)fi=Vn[--Kn],Vn[Kn]=null,pi=Vn[--Kn],Vn[Kn]=null;for(;e===_n;)_n=Ye[--et],Ye[et]=null,zt=Ye[--et],Ye[et]=null,Et=Ye[--et],Ye[et]=null}var Ze=null,Ge=null,ce=!1,dt=null;function Fd(e,t){var n=tt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Lc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ze=e,Ge=Qt(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ze=e,Ge=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_n!==null?{id:Et,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=tt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ze=e,Ge=null,!0):!1;default:return!1}}function da(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ha(e){if(ce){var t=Ge;if(t){var n=t;if(!Lc(e,t)){if(da(e))throw Error(P(418));t=Qt(n.nextSibling);var r=Ze;t&&Lc(e,t)?Fd(r,n):(e.flags=e.flags&-4097|2,ce=!1,Ze=e)}}else{if(da(e))throw Error(P(418));e.flags=e.flags&-4097|2,ce=!1,Ze=e}}}function Ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ze=e}function Ps(e){if(e!==Ze)return!1;if(!ce)return Ac(e),ce=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!aa(e.type,e.memoizedProps)),t&&(t=Ge)){if(da(e))throw Bd(),Error(P(418));for(;t;)Fd(e,t),t=Qt(t.nextSibling)}if(Ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(P(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ge=Qt(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ge=null}}else Ge=Ze?Qt(e.stateNode.nextSibling):null;return!0}function Bd(){for(var e=Ge;e;)e=Qt(e.nextSibling)}function or(){Ge=Ze=null,ce=!1}function fl(e){dt===null?dt=[e]:dt.push(e)}var kp=It.ReactCurrentBatchConfig;function kr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(a){var l=s.refs;a===null?delete l[o]:l[o]=a},t._stringRef=o,t)}if(typeof e!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,e))}return e}function Os(e,t){throw e=Object.prototype.toString.call(t),Error(P(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ic(e){var t=e._init;return t(e._payload)}function Wd(e){function t(g,p){if(e){var h=g.deletions;h===null?(g.deletions=[p],g.flags|=16):h.push(p)}}function n(g,p){if(!e)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=tn(g,p),g.index=0,g.sibling=null,g}function o(g,p,h){return g.index=h,e?(h=g.alternate,h!==null?(h=h.index,h<p?(g.flags|=2,p):h):(g.flags|=2,p)):(g.flags|=1048576,p)}function a(g){return e&&g.alternate===null&&(g.flags|=2),g}function l(g,p,h,x){return p===null||p.tag!==6?(p=So(h,g.mode,x),p.return=g,p):(p=s(p,h),p.return=g,p)}function c(g,p,h,x){var w=h.type;return w===Un?u(g,p,h.props.children,x,h.key):p!==null&&(p.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ft&&Ic(w)===p.type)?(x=s(p,h.props),x.ref=kr(g,p,h),x.return=g,x):(x=Ys(h.type,h.key,h.props,null,g.mode,x),x.ref=kr(g,p,h),x.return=g,x)}function d(g,p,h,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==h.containerInfo||p.stateNode.implementation!==h.implementation?(p=Co(h,g.mode,x),p.return=g,p):(p=s(p,h.children||[]),p.return=g,p)}function u(g,p,h,x,w){return p===null||p.tag!==7?(p=jn(h,g.mode,x,w),p.return=g,p):(p=s(p,h),p.return=g,p)}function f(g,p,h){if(typeof p=="string"&&p!==""||typeof p=="number")return p=So(""+p,g.mode,h),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case bs:return h=Ys(p.type,p.key,p.props,null,g.mode,h),h.ref=kr(g,null,p),h.return=g,h;case Mn:return p=Co(p,g.mode,h),p.return=g,p;case Ft:var x=p._init;return f(g,x(p._payload),h)}if(Er(p)||vr(p))return p=jn(p,g.mode,h,null),p.return=g,p;Os(g,p)}return null}function m(g,p,h,x){var w=p!==null?p.key:null;if(typeof h=="string"&&h!==""||typeof h=="number")return w!==null?null:l(g,p,""+h,x);if(typeof h=="object"&&h!==null){switch(h.$$typeof){case bs:return h.key===w?c(g,p,h,x):null;case Mn:return h.key===w?d(g,p,h,x):null;case Ft:return w=h._init,m(g,p,w(h._payload),x)}if(Er(h)||vr(h))return w!==null?null:u(g,p,h,x,null);Os(g,h)}return null}function v(g,p,h,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(h)||null,l(p,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case bs:return g=g.get(x.key===null?h:x.key)||null,c(p,g,x,w);case Mn:return g=g.get(x.key===null?h:x.key)||null,d(p,g,x,w);case Ft:var C=x._init;return v(g,p,h,C(x._payload),w)}if(Er(x)||vr(x))return g=g.get(h)||null,u(p,g,x,w,null);Os(p,x)}return null}function y(g,p,h,x){for(var w=null,C=null,z=p,T=p=0,V=null;z!==null&&T<h.length;T++){z.index>T?(V=z,z=null):V=z.sibling;var M=m(g,z,h[T],x);if(M===null){z===null&&(z=V);break}e&&z&&M.alternate===null&&t(g,z),p=o(M,p,T),C===null?w=M:C.sibling=M,C=M,z=V}if(T===h.length)return n(g,z),ce&&fn(g,T),w;if(z===null){for(;T<h.length;T++)z=f(g,h[T],x),z!==null&&(p=o(z,p,T),C===null?w=z:C.sibling=z,C=z);return ce&&fn(g,T),w}for(z=r(g,z);T<h.length;T++)V=v(z,g,T,h[T],x),V!==null&&(e&&V.alternate!==null&&z.delete(V.key===null?T:V.key),p=o(V,p,T),C===null?w=V:C.sibling=V,C=V);return e&&z.forEach(function(A){return t(g,A)}),ce&&fn(g,T),w}function _(g,p,h,x){var w=vr(h);if(typeof w!="function")throw Error(P(150));if(h=w.call(h),h==null)throw Error(P(151));for(var C=w=null,z=p,T=p=0,V=null,M=h.next();z!==null&&!M.done;T++,M=h.next()){z.index>T?(V=z,z=null):V=z.sibling;var A=m(g,z,M.value,x);if(A===null){z===null&&(z=V);break}e&&z&&A.alternate===null&&t(g,z),p=o(A,p,T),C===null?w=A:C.sibling=A,C=A,z=V}if(M.done)return n(g,z),ce&&fn(g,T),w;if(z===null){for(;!M.done;T++,M=h.next())M=f(g,M.value,x),M!==null&&(p=o(M,p,T),C===null?w=M:C.sibling=M,C=M);return ce&&fn(g,T),w}for(z=r(g,z);!M.done;T++,M=h.next())M=v(z,g,T,M.value,x),M!==null&&(e&&M.alternate!==null&&z.delete(M.key===null?T:M.key),p=o(M,p,T),C===null?w=M:C.sibling=M,C=M);return e&&z.forEach(function(q){return t(g,q)}),ce&&fn(g,T),w}function N(g,p,h,x){if(typeof h=="object"&&h!==null&&h.type===Un&&h.key===null&&(h=h.props.children),typeof h=="object"&&h!==null){switch(h.$$typeof){case bs:e:{for(var w=h.key,C=p;C!==null;){if(C.key===w){if(w=h.type,w===Un){if(C.tag===7){n(g,C.sibling),p=s(C,h.props.children),p.return=g,g=p;break e}}else if(C.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Ft&&Ic(w)===C.type){n(g,C.sibling),p=s(C,h.props),p.ref=kr(g,C,h),p.return=g,g=p;break e}n(g,C);break}else t(g,C);C=C.sibling}h.type===Un?(p=jn(h.props.children,g.mode,x,h.key),p.return=g,g=p):(x=Ys(h.type,h.key,h.props,null,g.mode,x),x.ref=kr(g,p,h),x.return=g,g=x)}return a(g);case Mn:e:{for(C=h.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===h.containerInfo&&p.stateNode.implementation===h.implementation){n(g,p.sibling),p=s(p,h.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else t(g,p);p=p.sibling}p=Co(h,g.mode,x),p.return=g,g=p}return a(g);case Ft:return C=h._init,N(g,p,C(h._payload),x)}if(Er(h))return y(g,p,h,x);if(vr(h))return _(g,p,h,x);Os(g,h)}return typeof h=="string"&&h!==""||typeof h=="number"?(h=""+h,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,h),p.return=g,g=p):(n(g,p),p=So(h,g.mode,x),p.return=g,g=p),a(g)):n(g,p)}return N}var ar=Wd(!0),Hd=Wd(!1),mi=ln(null),gi=null,Gn=null,pl=null;function ml(){pl=Gn=gi=null}function gl(e){var t=mi.current;le(mi),e._currentValue=t}function fa(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function tr(e,t){gi=e,pl=Gn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(We=!0),e.firstContext=null)}function st(e){var t=e._currentValue;if(pl!==e)if(e={context:e,memoizedValue:t,next:null},Gn===null){if(gi===null)throw Error(P(308));Gn=e,gi.dependencies={lanes:0,firstContext:e}}else Gn=Gn.next=e;return t}var vn=null;function xl(e){vn===null?vn=[e]:vn.push(e)}function qd(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,xl(t)):(n.next=s.next,s.next=n),t.interleaved=n,Lt(e,r)}function Lt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Bt=!1;function vl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vd(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Tt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xt(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Y&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Lt(e,n)}return s=r.interleaved,s===null?(t.next=t,xl(r)):(t.next=s.next,s.next=t),r.interleaved=t,Lt(e,n)}function Ks(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rl(e,n)}}function $c(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xi(e,t,n,r){var s=e.updateQueue;Bt=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,a===null?o=d:a.next=d,a=c;var u=e.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==a&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(o!==null){var f=s.baseState;a=0,u=d=c=null,l=o;do{var m=l.lane,v=l.eventTime;if((r&m)===m){u!==null&&(u=u.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=e,_=l;switch(m=t,v=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){f=y.call(v,f,m);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,m=typeof y=="function"?y.call(v,f,m):y,m==null)break e;f=he({},f,m);break e;case 2:Bt=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=v,c=f):u=u.next=v,a|=m;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;m=l,l=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(u===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,t=s.shared.interleaved,t!==null){s=t;do a|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Sn|=a,e.lanes=a,e.memoizedState=f}}function Rc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(P(191,s));s.call(r)}}}var ms={},bt=ln(ms),ns=ln(ms),rs=ln(ms);function wn(e){if(e===ms)throw Error(P(174));return e}function wl(e,t){switch(oe(rs,t),oe(ns,e),oe(bt,ms),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ko(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ko(t,e)}le(bt),oe(bt,t)}function lr(){le(bt),le(ns),le(rs)}function Kd(e){wn(rs.current);var t=wn(bt.current),n=Ko(t,e.type);t!==n&&(oe(ns,e),oe(bt,n))}function yl(e){ns.current===e&&(le(bt),le(ns))}var ue=ln(0);function vi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var yo=[];function bl(){for(var e=0;e<yo.length;e++)yo[e]._workInProgressVersionPrimary=null;yo.length=0}var Gs=It.ReactCurrentDispatcher,bo=It.ReactCurrentBatchConfig,Nn=0,de=null,ye=null,je=null,wi=!1,Rr=!1,ss=0,_p=0;function ze(){throw Error(P(321))}function jl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!pt(e[n],t[n]))return!1;return!0}function kl(e,t,n,r,s,o){if(Nn=o,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Gs.current=e===null||e.memoizedState===null?Ep:zp,e=n(r,s),Rr){o=0;do{if(Rr=!1,ss=0,25<=o)throw Error(P(301));o+=1,je=ye=null,t.updateQueue=null,Gs.current=Tp,e=n(r,s)}while(Rr)}if(Gs.current=yi,t=ye!==null&&ye.next!==null,Nn=0,je=ye=de=null,wi=!1,t)throw Error(P(300));return e}function _l(){var e=ss!==0;return ss=0,e}function xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?de.memoizedState=je=e:je=je.next=e,je}function it(){if(ye===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=je===null?de.memoizedState:je.next;if(t!==null)je=t,ye=e;else{if(e===null)throw Error(P(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},je===null?de.memoizedState=je=e:je=je.next=e}return je}function is(e,t){return typeof t=="function"?t(e):t}function jo(e){var t=it(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=ye,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var a=s.next;s.next=o.next,o.next=a}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var l=a=null,c=null,d=o;do{var u=d.lane;if((Nn&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var f={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=f,a=r):c=c.next=f,de.lanes|=u,Sn|=u}d=d.next}while(d!==null&&d!==o);c===null?a=r:c.next=l,pt(r,t.memoizedState)||(We=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,de.lanes|=o,Sn|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ko(e){var t=it(),n=t.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var a=s=s.next;do o=e(o,a.action),a=a.next;while(a!==s);pt(o,t.memoizedState)||(We=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Gd(){}function Zd(e,t){var n=de,r=it(),s=t(),o=!pt(r.memoizedState,s);if(o&&(r.memoizedState=s,We=!0),r=r.queue,Nl(Xd.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||je!==null&&je.memoizedState.tag&1){if(n.flags|=2048,os(9,Qd.bind(null,n,r,s,t),void 0,null),ke===null)throw Error(P(349));Nn&30||Jd(n,t,s)}return s}function Jd(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Qd(e,t,n,r){t.value=n,t.getSnapshot=r,Yd(t)&&eh(e)}function Xd(e,t,n){return n(function(){Yd(t)&&eh(e)})}function Yd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!pt(e,n)}catch{return!0}}function eh(e){var t=Lt(e,1);t!==null&&ft(t,e,1,-1)}function Dc(e){var t=xt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:is,lastRenderedState:e},t.queue=e,e=e.dispatch=Cp.bind(null,de,e),[t.memoizedState,e]}function os(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=de.updateQueue,t===null?(t={lastEffect:null,stores:null},de.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function th(){return it().memoizedState}function Zs(e,t,n,r){var s=xt();de.flags|=e,s.memoizedState=os(1|t,n,void 0,r===void 0?null:r)}function Ri(e,t,n,r){var s=it();r=r===void 0?null:r;var o=void 0;if(ye!==null){var a=ye.memoizedState;if(o=a.destroy,r!==null&&jl(r,a.deps)){s.memoizedState=os(t,n,o,r);return}}de.flags|=e,s.memoizedState=os(1|t,n,o,r)}function Mc(e,t){return Zs(8390656,8,e,t)}function Nl(e,t){return Ri(2048,8,e,t)}function nh(e,t){return Ri(4,2,e,t)}function rh(e,t){return Ri(4,4,e,t)}function sh(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ih(e,t,n){return n=n!=null?n.concat([e]):null,Ri(4,4,sh.bind(null,t,e),n)}function Sl(){}function oh(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function ah(e,t){var n=it();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function lh(e,t,n){return Nn&21?(pt(n,t)||(n=fd(),de.lanes|=n,Sn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,We=!0),e.memoizedState=n)}function Np(e,t){var n=ne;ne=n!==0&&4>n?n:4,e(!0);var r=bo.transition;bo.transition={};try{e(!1),t()}finally{ne=n,bo.transition=r}}function ch(){return it().memoizedState}function Sp(e,t,n){var r=en(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uh(e))dh(t,n);else if(n=qd(e,t,n,r),n!==null){var s=Ie();ft(n,e,r,s),hh(n,t,r)}}function Cp(e,t,n){var r=en(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uh(e))dh(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var a=t.lastRenderedState,l=o(a,n);if(s.hasEagerState=!0,s.eagerState=l,pt(l,a)){var c=t.interleaved;c===null?(s.next=s,xl(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}n=qd(e,t,s,r),n!==null&&(s=Ie(),ft(n,e,r,s),hh(n,t,r))}}function uh(e){var t=e.alternate;return e===de||t!==null&&t===de}function dh(e,t){Rr=wi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function hh(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rl(e,n)}}var yi={readContext:st,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Ep={readContext:st,useCallback:function(e,t){return xt().memoizedState=[e,t===void 0?null:t],e},useContext:st,useEffect:Mc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Zs(4194308,4,sh.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Zs(4194308,4,e,t)},useInsertionEffect:function(e,t){return Zs(4,2,e,t)},useMemo:function(e,t){var n=xt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Sp.bind(null,de,e),[r.memoizedState,e]},useRef:function(e){var t=xt();return e={current:e},t.memoizedState=e},useState:Dc,useDebugValue:Sl,useDeferredValue:function(e){return xt().memoizedState=e},useTransition:function(){var e=Dc(!1),t=e[0];return e=Np.bind(null,e[1]),xt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=de,s=xt();if(ce){if(n===void 0)throw Error(P(407));n=n()}else{if(n=t(),ke===null)throw Error(P(349));Nn&30||Jd(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Mc(Xd.bind(null,r,o,e),[e]),r.flags|=2048,os(9,Qd.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xt(),t=ke.identifierPrefix;if(ce){var n=zt,r=Et;n=(r&~(1<<32-ht(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ss++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=_p++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zp={readContext:st,useCallback:oh,useContext:st,useEffect:Nl,useImperativeHandle:ih,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:ah,useReducer:jo,useRef:th,useState:function(){return jo(is)},useDebugValue:Sl,useDeferredValue:function(e){var t=it();return lh(t,ye.memoizedState,e)},useTransition:function(){var e=jo(is)[0],t=it().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Zd,useId:ch,unstable_isNewReconciler:!1},Tp={readContext:st,useCallback:oh,useContext:st,useEffect:Nl,useImperativeHandle:ih,useInsertionEffect:nh,useLayoutEffect:rh,useMemo:ah,useReducer:ko,useRef:th,useState:function(){return ko(is)},useDebugValue:Sl,useDeferredValue:function(e){var t=it();return ye===null?t.memoizedState=e:lh(t,ye.memoizedState,e)},useTransition:function(){var e=ko(is)[0],t=it().memoizedState;return[e,t]},useMutableSource:Gd,useSyncExternalStore:Zd,useId:ch,unstable_isNewReconciler:!1};function lt(e,t){if(e&&e.defaultProps){t=he({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function pa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:he({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Di={isMounted:function(e){return(e=e._reactInternals)?zn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=en(e),o=Tt(r,s);o.payload=t,n!=null&&(o.callback=n),t=Xt(e,o,s),t!==null&&(ft(t,e,s,r),Ks(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Ie(),s=en(e),o=Tt(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Xt(e,o,s),t!==null&&(ft(t,e,s,r),Ks(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ie(),r=en(e),s=Tt(n,r);s.tag=2,t!=null&&(s.callback=t),t=Xt(e,s,r),t!==null&&(ft(t,e,r,n),Ks(t,e,r))}};function Uc(e,t,n,r,s,o,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,a):t.prototype&&t.prototype.isPureReactComponent?!Xr(n,r)||!Xr(s,o):!0}function fh(e,t,n){var r=!1,s=rn,o=t.contextType;return typeof o=="object"&&o!==null?o=st(o):(s=qe(t)?kn:Oe.current,r=t.contextTypes,o=(r=r!=null)?ir(e,s):rn),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Di,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Fc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Di.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},vl(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=st(o):(o=qe(t)?kn:Oe.current,s.context=ir(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(pa(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Di.enqueueReplaceState(s,s.state,null),xi(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function cr(e,t){try{var n="",r=t;do n+=s0(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function _o(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ga(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Pp=typeof WeakMap=="function"?WeakMap:Map;function ph(e,t,n){n=Tt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ji||(ji=!0,Sa=r),ga(e,t)},n}function mh(e,t,n){n=Tt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){ga(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ga(e,t),typeof r!="function"&&(Yt===null?Yt=new Set([this]):Yt.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function Bc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Pp;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=qp.bind(null,e,t,n),t.then(e,e))}function Wc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Hc(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Tt(-1,1),t.tag=2,Xt(n,t,1))),n.lanes|=1),e)}var Op=It.ReactCurrentOwner,We=!1;function Ae(e,t,n,r){t.child=e===null?Hd(t,null,n,r):ar(t,e.child,n,r)}function qc(e,t,n,r,s){n=n.render;var o=t.ref;return tr(t,s),r=kl(e,t,n,r,o,s),n=_l(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(ce&&n&&dl(t),t.flags|=1,Ae(e,t,r,s),t.child)}function Vc(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!Al(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,gh(e,t,o,r,s)):(e=Ys(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xr,n(a,r)&&e.ref===t.ref)return At(e,t,s)}return t.flags|=1,e=tn(o,r),e.ref=t.ref,e.return=t,t.child=e}function gh(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Xr(o,r)&&e.ref===t.ref)if(We=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(We=!0);else return t.lanes=e.lanes,At(e,t,s)}return xa(e,t,n,r,s)}function xh(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Jn,Ke),Ke|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,oe(Jn,Ke),Ke|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,oe(Jn,Ke),Ke|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,oe(Jn,Ke),Ke|=r;return Ae(e,t,s,n),t.child}function vh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xa(e,t,n,r,s){var o=qe(n)?kn:Oe.current;return o=ir(t,o),tr(t,s),n=kl(e,t,n,r,o,s),r=_l(),e!==null&&!We?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,At(e,t,s)):(ce&&r&&dl(t),t.flags|=1,Ae(e,t,n,s),t.child)}function Kc(e,t,n,r,s){if(qe(n)){var o=!0;hi(t)}else o=!1;if(tr(t,s),t.stateNode===null)Js(e,t),fh(t,n,r),ma(t,n,r,s),r=!0;else if(e===null){var a=t.stateNode,l=t.memoizedProps;a.props=l;var c=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=st(d):(d=qe(n)?kn:Oe.current,d=ir(t,d));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==r||c!==d)&&Fc(t,a,r,d),Bt=!1;var m=t.memoizedState;a.state=m,xi(t,r,a,s),c=t.memoizedState,l!==r||m!==c||He.current||Bt?(typeof u=="function"&&(pa(t,n,u,r),c=t.memoizedState),(l=Bt||Uc(t,n,l,r,m,c,d))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),a.props=r,a.state=c,a.context=d,r=l):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Vd(e,t),l=t.memoizedProps,d=t.type===t.elementType?l:lt(t.type,l),a.props=d,f=t.pendingProps,m=a.context,c=n.contextType,typeof c=="object"&&c!==null?c=st(c):(c=qe(n)?kn:Oe.current,c=ir(t,c));var v=n.getDerivedStateFromProps;(u=typeof v=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l!==f||m!==c)&&Fc(t,a,r,c),Bt=!1,m=t.memoizedState,a.state=m,xi(t,r,a,s);var y=t.memoizedState;l!==f||m!==y||He.current||Bt?(typeof v=="function"&&(pa(t,n,v,r),y=t.memoizedState),(d=Bt||Uc(t,n,d,r,m,y,c)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,y,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,y,c)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),a.props=r,a.state=y,a.context=c,r=d):(typeof a.componentDidUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return va(e,t,n,r,o,s)}function va(e,t,n,r,s,o){vh(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return s&&Oc(t,n,!1),At(e,t,o);r=t.stateNode,Op.current=t;var l=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=ar(t,e.child,null,o),t.child=ar(t,null,l,o)):Ae(e,t,l,o),t.memoizedState=r.state,s&&Oc(t,n,!0),t.child}function wh(e){var t=e.stateNode;t.pendingContext?Pc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Pc(e,t.context,!1),wl(e,t.containerInfo)}function Gc(e,t,n,r,s){return or(),fl(s),t.flags|=256,Ae(e,t,n,r),t.child}var wa={dehydrated:null,treeContext:null,retryLane:0};function ya(e){return{baseLanes:e,cachePool:null,transitions:null}}function yh(e,t,n){var r=t.pendingProps,s=ue.current,o=!1,a=(t.flags&128)!==0,l;if((l=a)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),oe(ue,s&1),e===null)return ha(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,o?(r=t.mode,o=t.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Fi(a,r,0,null),e=jn(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=ya(n),t.memoizedState=wa,e):Cl(t,a));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Lp(e,t,a,r,l,s,n);if(o){o=r.fallback,a=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(a&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=tn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?o=tn(l,o):(o=jn(o,a,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,a=e.child.memoizedState,a=a===null?ya(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=wa,r}return o=e.child,e=o.sibling,r=tn(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Cl(e,t){return t=Fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ls(e,t,n,r){return r!==null&&fl(r),ar(t,e.child,null,n),e=Cl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lp(e,t,n,r,s,o,a){if(n)return t.flags&256?(t.flags&=-257,r=_o(Error(P(422))),Ls(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Fi({mode:"visible",children:r.children},s,0,null),o=jn(o,s,a,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ar(t,e.child,null,a),t.child.memoizedState=ya(a),t.memoizedState=wa,o);if(!(t.mode&1))return Ls(e,t,a,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,o=Error(P(419)),r=_o(o,r,void 0),Ls(e,t,a,r)}if(l=(a&e.childLanes)!==0,We||l){if(r=ke,r!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|a)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Lt(e,s),ft(r,e,s,-1))}return Ll(),r=_o(Error(P(421))),Ls(e,t,a,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Vp.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Ge=Qt(s.nextSibling),Ze=t,ce=!0,dt=null,e!==null&&(Ye[et++]=Et,Ye[et++]=zt,Ye[et++]=_n,Et=e.id,zt=e.overflow,_n=t),t=Cl(t,r.children),t.flags|=4096,t)}function Zc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),fa(e.return,t,n)}function No(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function bh(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ae(e,t,r.children,n),r=ue.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zc(e,n,t);else if(e.tag===19)Zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(oe(ue,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&vi(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),No(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&vi(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}No(t,!0,n,null,o);break;case"together":No(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Js(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function At(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Sn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(P(153));if(t.child!==null){for(e=t.child,n=tn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=tn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Ap(e,t,n){switch(t.tag){case 3:wh(t),or();break;case 5:Kd(t);break;case 1:qe(t.type)&&hi(t);break;case 4:wl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;oe(mi,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(oe(ue,ue.current&1),t.flags|=128,null):n&t.child.childLanes?yh(e,t,n):(oe(ue,ue.current&1),e=At(e,t,n),e!==null?e.sibling:null);oe(ue,ue.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return bh(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(ue,ue.current),r)break;return null;case 22:case 23:return t.lanes=0,xh(e,t,n)}return At(e,t,n)}var jh,ba,kh,_h;jh=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ba=function(){};kh=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,wn(bt.current);var o=null;switch(n){case"input":s=Wo(e,s),r=Wo(e,r),o=[];break;case"select":s=he({},s,{value:void 0}),r=he({},r,{value:void 0}),o=[];break;case"textarea":s=Vo(e,s),r=Vo(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=ui)}Go(n,r);var a;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qr.hasOwnProperty(d)?o||(o=[]):(o=o||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(o=o||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(o=o||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qr.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ae("scroll",e),o||l===c||(o=[])):(o=o||[]).push(d,c))}n&&(o=o||[]).push("style",n);var d=o;(t.updateQueue=d)&&(t.flags|=4)}};_h=function(e,t,n,r){n!==r&&(t.flags|=4)};function _r(e,t){if(!ce)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Te(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ip(e,t,n){var r=t.pendingProps;switch(hl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Te(t),null;case 1:return qe(t.type)&&di(),Te(t),null;case 3:return r=t.stateNode,lr(),le(He),le(Oe),bl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ps(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dt!==null&&(za(dt),dt=null))),ba(e,t),Te(t),null;case 5:yl(t);var s=wn(rs.current);if(n=t.type,e!==null&&t.stateNode!=null)kh(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(P(166));return Te(t),null}if(e=wn(bt.current),Ps(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[wt]=t,r[ts]=o,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(s=0;s<Tr.length;s++)ae(Tr[s],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":sc(r,o),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},ae("invalid",r);break;case"textarea":oc(r,o),ae("invalid",r)}Go(n,o),s=null;for(var a in o)if(o.hasOwnProperty(a)){var l=o[a];a==="children"?typeof l=="string"?r.textContent!==l&&(o.suppressHydrationWarning!==!0&&Ts(r.textContent,l,e),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(o.suppressHydrationWarning!==!0&&Ts(r.textContent,l,e),s=["children",""+l]):qr.hasOwnProperty(a)&&l!=null&&a==="onScroll"&&ae("scroll",r)}switch(n){case"input":js(r),ic(r,o,!0);break;case"textarea":js(r),ac(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ui)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Xu(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[wt]=t,e[ts]=r,jh(e,t,!1,!1),t.stateNode=e;e:{switch(a=Zo(n,r),n){case"dialog":ae("cancel",e),ae("close",e),s=r;break;case"iframe":case"object":case"embed":ae("load",e),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)ae(Tr[s],e);s=r;break;case"source":ae("error",e),s=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),s=r;break;case"details":ae("toggle",e),s=r;break;case"input":sc(e,r),s=Wo(e,r),ae("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=he({},r,{value:void 0}),ae("invalid",e);break;case"textarea":oc(e,r),s=Vo(e,r),ae("invalid",e);break;default:s=r}Go(n,s),l=s;for(o in l)if(l.hasOwnProperty(o)){var c=l[o];o==="style"?td(e,c):o==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Yu(e,c)):o==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Vr(e,c):typeof c=="number"&&Vr(e,""+c):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(qr.hasOwnProperty(o)?c!=null&&o==="onScroll"&&ae("scroll",e):c!=null&&Qa(e,o,c,a))}switch(n){case"input":js(e),ic(e,r,!1);break;case"textarea":js(e),ac(e);break;case"option":r.value!=null&&e.setAttribute("value",""+nn(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Qn(e,!!r.multiple,o,!1):r.defaultValue!=null&&Qn(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=ui)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Te(t),null;case 6:if(e&&t.stateNode!=null)_h(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(P(166));if(n=wn(rs.current),wn(bt.current),Ps(t)){if(r=t.stateNode,n=t.memoizedProps,r[wt]=t,(o=r.nodeValue!==n)&&(e=Ze,e!==null))switch(e.tag){case 3:Ts(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ts(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wt]=t,t.stateNode=r}return Te(t),null;case 13:if(le(ue),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ce&&Ge!==null&&t.mode&1&&!(t.flags&128))Bd(),or(),t.flags|=98560,o=!1;else if(o=Ps(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(P(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(P(317));o[wt]=t}else or(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Te(t),o=!1}else dt!==null&&(za(dt),dt=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ue.current&1?be===0&&(be=3):Ll())),t.updateQueue!==null&&(t.flags|=4),Te(t),null);case 4:return lr(),ba(e,t),e===null&&Yr(t.stateNode.containerInfo),Te(t),null;case 10:return gl(t.type._context),Te(t),null;case 17:return qe(t.type)&&di(),Te(t),null;case 19:if(le(ue),o=t.memoizedState,o===null)return Te(t),null;if(r=(t.flags&128)!==0,a=o.rendering,a===null)if(r)_r(o,!1);else{if(be!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=vi(e),a!==null){for(t.flags|=128,_r(o,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,e=a.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return oe(ue,ue.current&1|2),t.child}e=e.sibling}o.tail!==null&&me()>ur&&(t.flags|=128,r=!0,_r(o,!1),t.lanes=4194304)}else{if(!r)if(e=vi(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),_r(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ce)return Te(t),null}else 2*me()-o.renderingStartTime>ur&&n!==1073741824&&(t.flags|=128,r=!0,_r(o,!1),t.lanes=4194304);o.isBackwards?(a.sibling=t.child,t.child=a):(n=o.last,n!==null?n.sibling=a:t.child=a,o.last=a)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=me(),t.sibling=null,n=ue.current,oe(ue,r?n&1|2:n&1),t):(Te(t),null);case 22:case 23:return Ol(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ke&1073741824&&(Te(t),t.subtreeFlags&6&&(t.flags|=8192)):Te(t),null;case 24:return null;case 25:return null}throw Error(P(156,t.tag))}function $p(e,t){switch(hl(t),t.tag){case 1:return qe(t.type)&&di(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lr(),le(He),le(Oe),bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return yl(t),null;case 13:if(le(ue),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(P(340));or()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(ue),null;case 4:return lr(),null;case 10:return gl(t.type._context),null;case 22:case 23:return Ol(),null;case 24:return null;default:return null}}var As=!1,Pe=!1,Rp=typeof WeakSet=="function"?WeakSet:Set,$=null;function Zn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(e,t,r)}else n.current=null}function ja(e,t,n){try{n()}catch(r){fe(e,t,r)}}var Jc=!1;function Dp(e,t){if(ia=ai,e=zd(),ul(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,l=-1,c=-1,d=0,u=0,f=e,m=null;t:for(;;){for(var v;f!==n||s!==0&&f.nodeType!==3||(l=a+s),f!==o||r!==0&&f.nodeType!==3||(c=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(v=f.firstChild)!==null;)m=f,f=v;for(;;){if(f===e)break t;if(m===n&&++d===s&&(l=a),m===o&&++u===r&&(c=a),(v=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=v}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(oa={focusedElem:e,selectionRange:n},ai=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,N=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?_:lt(t.type,_),N);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var h=t.stateNode.containerInfo;h.nodeType===1?h.textContent="":h.nodeType===9&&h.documentElement&&h.removeChild(h.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(x){fe(t,t.return,x)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return y=Jc,Jc=!1,y}function Dr(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ja(t,n,o)}s=s.next}while(s!==r)}}function Mi(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ka(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Nh(e){var t=e.alternate;t!==null&&(e.alternate=null,Nh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wt],delete t[ts],delete t[ca],delete t[yp],delete t[bp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Sh(e){return e.tag===5||e.tag===3||e.tag===4}function Qc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Sh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function _a(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ui));else if(r!==4&&(e=e.child,e!==null))for(_a(e,t,n),e=e.sibling;e!==null;)_a(e,t,n),e=e.sibling}function Na(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Na(e,t,n),e=e.sibling;e!==null;)Na(e,t,n),e=e.sibling}var Ne=null,ct=!1;function Dt(e,t,n){for(n=n.child;n!==null;)Ch(e,t,n),n=n.sibling}function Ch(e,t,n){if(yt&&typeof yt.onCommitFiberUnmount=="function")try{yt.onCommitFiberUnmount(Pi,n)}catch{}switch(n.tag){case 5:Pe||Zn(n,t);case 6:var r=Ne,s=ct;Ne=null,Dt(e,t,n),Ne=r,ct=s,Ne!==null&&(ct?(e=Ne,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(ct?(e=Ne,n=n.stateNode,e.nodeType===8?vo(e.parentNode,n):e.nodeType===1&&vo(e,n),Jr(e)):vo(Ne,n.stateNode));break;case 4:r=Ne,s=ct,Ne=n.stateNode.containerInfo,ct=!0,Dt(e,t,n),Ne=r,ct=s;break;case 0:case 11:case 14:case 15:if(!Pe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&ja(n,t,a),s=s.next}while(s!==r)}Dt(e,t,n);break;case 1:if(!Pe&&(Zn(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){fe(n,t,l)}Dt(e,t,n);break;case 21:Dt(e,t,n);break;case 22:n.mode&1?(Pe=(r=Pe)||n.memoizedState!==null,Dt(e,t,n),Pe=r):Dt(e,t,n);break;default:Dt(e,t,n)}}function Xc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Rp),t.forEach(function(r){var s=Kp.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function ot(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,a=t,l=a;e:for(;l!==null;){switch(l.tag){case 5:Ne=l.stateNode,ct=!1;break e;case 3:Ne=l.stateNode.containerInfo,ct=!0;break e;case 4:Ne=l.stateNode.containerInfo,ct=!0;break e}l=l.return}if(Ne===null)throw Error(P(160));Ch(o,a,s),Ne=null,ct=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){fe(s,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Eh(t,e),t=t.sibling}function Eh(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ot(t,e),gt(e),r&4){try{Dr(3,e,e.return),Mi(3,e)}catch(_){fe(e,e.return,_)}try{Dr(5,e,e.return)}catch(_){fe(e,e.return,_)}}break;case 1:ot(t,e),gt(e),r&512&&n!==null&&Zn(n,n.return);break;case 5:if(ot(t,e),gt(e),r&512&&n!==null&&Zn(n,n.return),e.flags&32){var s=e.stateNode;try{Vr(s,"")}catch(_){fe(e,e.return,_)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,a=n!==null?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&o.type==="radio"&&o.name!=null&&Ju(s,o),Zo(l,a);var d=Zo(l,o);for(a=0;a<c.length;a+=2){var u=c[a],f=c[a+1];u==="style"?td(s,f):u==="dangerouslySetInnerHTML"?Yu(s,f):u==="children"?Vr(s,f):Qa(s,u,f,d)}switch(l){case"input":Ho(s,o);break;case"textarea":Qu(s,o);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var v=o.value;v!=null?Qn(s,!!o.multiple,v,!1):m!==!!o.multiple&&(o.defaultValue!=null?Qn(s,!!o.multiple,o.defaultValue,!0):Qn(s,!!o.multiple,o.multiple?[]:"",!1))}s[ts]=o}catch(_){fe(e,e.return,_)}}break;case 6:if(ot(t,e),gt(e),r&4){if(e.stateNode===null)throw Error(P(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(_){fe(e,e.return,_)}}break;case 3:if(ot(t,e),gt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jr(t.containerInfo)}catch(_){fe(e,e.return,_)}break;case 4:ot(t,e),gt(e);break;case 13:ot(t,e),gt(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Tl=me())),r&4&&Xc(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Pe=(d=Pe)||u,ot(t,e),Pe=d):ot(t,e),gt(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for($=e,u=e.child;u!==null;){for(f=$=u;$!==null;){switch(m=$,v=m.child,m.tag){case 0:case 11:case 14:case 15:Dr(4,m,m.return);break;case 1:Zn(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){fe(r,n,_)}}break;case 5:Zn(m,m.return);break;case 22:if(m.memoizedState!==null){eu(f);continue}}v!==null?(v.return=m,$=v):eu(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{s=f.stateNode,d?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(l=f.stateNode,c=f.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=ed("display",a))}catch(_){fe(e,e.return,_)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(_){fe(e,e.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ot(t,e),gt(e),r&4&&Xc(e);break;case 21:break;default:ot(t,e),gt(e)}}function gt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Sh(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Vr(s,""),r.flags&=-33);var o=Qc(e);Na(e,o,s);break;case 3:case 4:var a=r.stateNode.containerInfo,l=Qc(e);_a(e,l,a);break;default:throw Error(P(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Mp(e,t,n){$=e,zh(e)}function zh(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var s=$,o=s.child;if(s.tag===22&&r){var a=s.memoizedState!==null||As;if(!a){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Pe;l=As;var d=Pe;if(As=a,(Pe=c)&&!d)for($=s;$!==null;)a=$,c=a.child,a.tag===22&&a.memoizedState!==null?tu(s):c!==null?(c.return=a,$=c):tu(s);for(;o!==null;)$=o,zh(o),o=o.sibling;$=s,As=l,Pe=d}Yc(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,$=o):Yc(e)}}function Yc(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Pe||Mi(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Pe)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:lt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Rc(t,o,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Rc(t,a,n)}break;case 5:var l=t.stateNode;if(n===null&&t.flags&4){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Jr(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Pe||t.flags&512&&ka(t)}catch(m){fe(t,t.return,m)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function eu(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function tu(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Mi(4,t)}catch(c){fe(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(c){fe(t,s,c)}}var o=t.return;try{ka(t)}catch(c){fe(t,o,c)}break;case 5:var a=t.return;try{ka(t)}catch(c){fe(t,a,c)}}}catch(c){fe(t,t.return,c)}if(t===e){$=null;break}var l=t.sibling;if(l!==null){l.return=t.return,$=l;break}$=t.return}}var Up=Math.ceil,bi=It.ReactCurrentDispatcher,El=It.ReactCurrentOwner,nt=It.ReactCurrentBatchConfig,Y=0,ke=null,ge=null,Se=0,Ke=0,Jn=ln(0),be=0,as=null,Sn=0,Ui=0,zl=0,Mr=null,Ue=null,Tl=0,ur=1/0,Nt=null,ji=!1,Sa=null,Yt=null,Is=!1,Kt=null,ki=0,Ur=0,Ca=null,Qs=-1,Xs=0;function Ie(){return Y&6?me():Qs!==-1?Qs:Qs=me()}function en(e){return e.mode&1?Y&2&&Se!==0?Se&-Se:kp.transition!==null?(Xs===0&&(Xs=fd()),Xs):(e=ne,e!==0||(e=window.event,e=e===void 0?16:yd(e.type)),e):1}function ft(e,t,n,r){if(50<Ur)throw Ur=0,Ca=null,Error(P(185));hs(e,n,r),(!(Y&2)||e!==ke)&&(e===ke&&(!(Y&2)&&(Ui|=n),be===4&&Ht(e,Se)),Ve(e,r),n===1&&Y===0&&!(t.mode&1)&&(ur=me()+500,$i&&cn()))}function Ve(e,t){var n=e.callbackNode;k0(e,t);var r=oi(e,e===ke?Se:0);if(r===0)n!==null&&uc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&uc(n),t===1)e.tag===0?jp(nu.bind(null,e)):Md(nu.bind(null,e)),vp(function(){!(Y&6)&&cn()}),n=null;else{switch(pd(r)){case 1:n=nl;break;case 4:n=dd;break;case 16:n=ii;break;case 536870912:n=hd;break;default:n=ii}n=Rh(n,Th.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Th(e,t){if(Qs=-1,Xs=0,Y&6)throw Error(P(327));var n=e.callbackNode;if(nr()&&e.callbackNode!==n)return null;var r=oi(e,e===ke?Se:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=_i(e,r);else{t=r;var s=Y;Y|=2;var o=Oh();(ke!==e||Se!==t)&&(Nt=null,ur=me()+500,bn(e,t));do try{Wp();break}catch(l){Ph(e,l)}while(!0);ml(),bi.current=o,Y=s,ge!==null?t=0:(ke=null,Se=0,t=be)}if(t!==0){if(t===2&&(s=ea(e),s!==0&&(r=s,t=Ea(e,s))),t===1)throw n=as,bn(e,0),Ht(e,r),Ve(e,me()),n;if(t===6)Ht(e,r);else{if(s=e.current.alternate,!(r&30)&&!Fp(s)&&(t=_i(e,r),t===2&&(o=ea(e),o!==0&&(r=o,t=Ea(e,o))),t===1))throw n=as,bn(e,0),Ht(e,r),Ve(e,me()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(P(345));case 2:pn(e,Ue,Nt);break;case 3:if(Ht(e,r),(r&130023424)===r&&(t=Tl+500-me(),10<t)){if(oi(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Ie(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=la(pn.bind(null,e,Ue,Nt),t);break}pn(e,Ue,Nt);break;case 4:if(Ht(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var a=31-ht(r);o=1<<a,a=t[a],a>s&&(s=a),r&=~o}if(r=s,r=me()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Up(r/1960))-r,10<r){e.timeoutHandle=la(pn.bind(null,e,Ue,Nt),r);break}pn(e,Ue,Nt);break;case 5:pn(e,Ue,Nt);break;default:throw Error(P(329))}}}return Ve(e,me()),e.callbackNode===n?Th.bind(null,e):null}function Ea(e,t){var n=Mr;return e.current.memoizedState.isDehydrated&&(bn(e,t).flags|=256),e=_i(e,t),e!==2&&(t=Ue,Ue=n,t!==null&&za(t)),e}function za(e){Ue===null?Ue=e:Ue.push.apply(Ue,e)}function Fp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!pt(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ht(e,t){for(t&=~zl,t&=~Ui,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ht(t),r=1<<n;e[n]=-1,t&=~r}}function nu(e){if(Y&6)throw Error(P(327));nr();var t=oi(e,0);if(!(t&1))return Ve(e,me()),null;var n=_i(e,t);if(e.tag!==0&&n===2){var r=ea(e);r!==0&&(t=r,n=Ea(e,r))}if(n===1)throw n=as,bn(e,0),Ht(e,t),Ve(e,me()),n;if(n===6)throw Error(P(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pn(e,Ue,Nt),Ve(e,me()),null}function Pl(e,t){var n=Y;Y|=1;try{return e(t)}finally{Y=n,Y===0&&(ur=me()+500,$i&&cn())}}function Cn(e){Kt!==null&&Kt.tag===0&&!(Y&6)&&nr();var t=Y;Y|=1;var n=nt.transition,r=ne;try{if(nt.transition=null,ne=1,e)return e()}finally{ne=r,nt.transition=n,Y=t,!(Y&6)&&cn()}}function Ol(){Ke=Jn.current,le(Jn)}function bn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,xp(n)),ge!==null)for(n=ge.return;n!==null;){var r=n;switch(hl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&di();break;case 3:lr(),le(He),le(Oe),bl();break;case 5:yl(r);break;case 4:lr();break;case 13:le(ue);break;case 19:le(ue);break;case 10:gl(r.type._context);break;case 22:case 23:Ol()}n=n.return}if(ke=e,ge=e=tn(e.current,null),Se=Ke=t,be=0,as=null,zl=Ui=Sn=0,Ue=Mr=null,vn!==null){for(t=0;t<vn.length;t++)if(n=vn[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=s,r.next=a}n.pending=r}vn=null}return e}function Ph(e,t){do{var n=ge;try{if(ml(),Gs.current=yi,wi){for(var r=de.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}wi=!1}if(Nn=0,je=ye=de=null,Rr=!1,ss=0,El.current=null,n===null||n.return===null){be=1,as=t,ge=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Se,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=Wc(a);if(v!==null){v.flags&=-257,Hc(v,a,l,o,t),v.mode&1&&Bc(o,d,t),t=v,c=d;var y=t.updateQueue;if(y===null){var _=new Set;_.add(c),t.updateQueue=_}else y.add(c);break e}else{if(!(t&1)){Bc(o,d,t),Ll();break e}c=Error(P(426))}}else if(ce&&l.mode&1){var N=Wc(a);if(N!==null){!(N.flags&65536)&&(N.flags|=256),Hc(N,a,l,o,t),fl(cr(c,l));break e}}o=c=cr(c,l),be!==4&&(be=2),Mr===null?Mr=[o]:Mr.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=ph(o,c,t);$c(o,g);break e;case 1:l=c;var p=o.type,h=o.stateNode;if(!(o.flags&128)&&(typeof p.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(Yt===null||!Yt.has(h)))){o.flags|=65536,t&=-t,o.lanes|=t;var x=mh(o,l,t);$c(o,x);break e}}o=o.return}while(o!==null)}Ah(n)}catch(w){t=w,ge===n&&n!==null&&(ge=n=n.return);continue}break}while(!0)}function Oh(){var e=bi.current;return bi.current=yi,e===null?yi:e}function Ll(){(be===0||be===3||be===2)&&(be=4),ke===null||!(Sn&268435455)&&!(Ui&268435455)||Ht(ke,Se)}function _i(e,t){var n=Y;Y|=2;var r=Oh();(ke!==e||Se!==t)&&(Nt=null,bn(e,t));do try{Bp();break}catch(s){Ph(e,s)}while(!0);if(ml(),Y=n,bi.current=r,ge!==null)throw Error(P(261));return ke=null,Se=0,be}function Bp(){for(;ge!==null;)Lh(ge)}function Wp(){for(;ge!==null&&!p0();)Lh(ge)}function Lh(e){var t=$h(e.alternate,e,Ke);e.memoizedProps=e.pendingProps,t===null?Ah(e):ge=t,El.current=null}function Ah(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=$p(n,t),n!==null){n.flags&=32767,ge=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{be=6,ge=null;return}}else if(n=Ip(n,t,Ke),n!==null){ge=n;return}if(t=t.sibling,t!==null){ge=t;return}ge=t=e}while(t!==null);be===0&&(be=5)}function pn(e,t,n){var r=ne,s=nt.transition;try{nt.transition=null,ne=1,Hp(e,t,n,r)}finally{nt.transition=s,ne=r}return null}function Hp(e,t,n,r){do nr();while(Kt!==null);if(Y&6)throw Error(P(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(P(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(_0(e,o),e===ke&&(ge=ke=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Is||(Is=!0,Rh(ii,function(){return nr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=nt.transition,nt.transition=null;var a=ne;ne=1;var l=Y;Y|=4,El.current=null,Dp(e,n),Eh(n,e),up(oa),ai=!!ia,oa=ia=null,e.current=n,Mp(n),m0(),Y=l,ne=a,nt.transition=o}else e.current=n;if(Is&&(Is=!1,Kt=e,ki=s),o=e.pendingLanes,o===0&&(Yt=null),v0(n.stateNode),Ve(e,me()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(ji)throw ji=!1,e=Sa,Sa=null,e;return ki&1&&e.tag!==0&&nr(),o=e.pendingLanes,o&1?e===Ca?Ur++:(Ur=0,Ca=e):Ur=0,cn(),null}function nr(){if(Kt!==null){var e=pd(ki),t=nt.transition,n=ne;try{if(nt.transition=null,ne=16>e?16:e,Kt===null)var r=!1;else{if(e=Kt,Kt=null,ki=0,Y&6)throw Error(P(331));var s=Y;for(Y|=4,$=e.current;$!==null;){var o=$,a=o.child;if($.flags&16){var l=o.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for($=d;$!==null;){var u=$;switch(u.tag){case 0:case 11:case 15:Dr(8,u,o)}var f=u.child;if(f!==null)f.return=u,$=f;else for(;$!==null;){u=$;var m=u.sibling,v=u.return;if(Nh(u),u===d){$=null;break}if(m!==null){m.return=v,$=m;break}$=v}}}var y=o.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var N=_.sibling;_.sibling=null,_=N}while(_!==null)}}$=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,$=a;else e:for(;$!==null;){if(o=$,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Dr(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,$=g;break e}$=o.return}}var p=e.current;for($=p;$!==null;){a=$;var h=a.child;if(a.subtreeFlags&2064&&h!==null)h.return=a,$=h;else e:for(a=p;$!==null;){if(l=$,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Mi(9,l)}}catch(w){fe(l,l.return,w)}if(l===a){$=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,$=x;break e}$=l.return}}if(Y=s,cn(),yt&&typeof yt.onPostCommitFiberRoot=="function")try{yt.onPostCommitFiberRoot(Pi,e)}catch{}r=!0}return r}finally{ne=n,nt.transition=t}}return!1}function ru(e,t,n){t=cr(n,t),t=ph(e,t,1),e=Xt(e,t,1),t=Ie(),e!==null&&(hs(e,1,t),Ve(e,t))}function fe(e,t,n){if(e.tag===3)ru(e,e,n);else for(;t!==null;){if(t.tag===3){ru(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Yt===null||!Yt.has(r))){e=cr(n,e),e=mh(t,e,1),t=Xt(t,e,1),e=Ie(),t!==null&&(hs(t,1,e),Ve(t,e));break}}t=t.return}}function qp(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Ie(),e.pingedLanes|=e.suspendedLanes&n,ke===e&&(Se&n)===n&&(be===4||be===3&&(Se&130023424)===Se&&500>me()-Tl?bn(e,0):zl|=n),Ve(e,t)}function Ih(e,t){t===0&&(e.mode&1?(t=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):t=1);var n=Ie();e=Lt(e,t),e!==null&&(hs(e,t,n),Ve(e,n))}function Vp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ih(e,n)}function Kp(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(t),Ih(e,n)}var $h;$h=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||He.current)We=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return We=!1,Ap(e,t,n);We=!!(e.flags&131072)}else We=!1,ce&&t.flags&1048576&&Ud(t,pi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Js(e,t),e=t.pendingProps;var s=ir(t,Oe.current);tr(t,n),s=kl(null,t,r,e,s,n);var o=_l();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qe(r)?(o=!0,hi(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,vl(t),s.updater=Di,t.stateNode=s,s._reactInternals=t,ma(t,r,e,n),t=va(null,t,r,!0,o,n)):(t.tag=0,ce&&o&&dl(t),Ae(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Js(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Zp(r),e=lt(r,e),s){case 0:t=xa(null,t,r,e,n);break e;case 1:t=Kc(null,t,r,e,n);break e;case 11:t=qc(null,t,r,e,n);break e;case 14:t=Vc(null,t,r,lt(r.type,e),n);break e}throw Error(P(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),xa(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),Kc(e,t,r,s,n);case 3:e:{if(wh(t),e===null)throw Error(P(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Vd(e,t),xi(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=cr(Error(P(423)),t),t=Gc(e,t,r,n,s);break e}else if(r!==s){s=cr(Error(P(424)),t),t=Gc(e,t,r,n,s);break e}else for(Ge=Qt(t.stateNode.containerInfo.firstChild),Ze=t,ce=!0,dt=null,n=Hd(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(or(),r===s){t=At(e,t,n);break e}Ae(e,t,r,n)}t=t.child}return t;case 5:return Kd(t),e===null&&ha(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,a=s.children,aa(r,s)?a=null:o!==null&&aa(r,o)&&(t.flags|=32),vh(e,t),Ae(e,t,a,n),t.child;case 6:return e===null&&ha(t),null;case 13:return yh(e,t,n);case 4:return wl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ar(t,null,r,n):Ae(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),qc(e,t,r,s,n);case 7:return Ae(e,t,t.pendingProps,n),t.child;case 8:return Ae(e,t,t.pendingProps.children,n),t.child;case 12:return Ae(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,a=s.value,oe(mi,r._currentValue),r._currentValue=a,o!==null)if(pt(o.value,a)){if(o.children===s.children&&!He.current){t=At(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var l=o.dependencies;if(l!==null){a=o.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(o.tag===1){c=Tt(-1,n&-n),c.tag=2;var d=o.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),fa(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(o.tag===10)a=o.type===t.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(P(341));a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),fa(a,n,t),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===t){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}Ae(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,tr(t,n),s=st(s),r=r(s),t.flags|=1,Ae(e,t,r,n),t.child;case 14:return r=t.type,s=lt(r,t.pendingProps),s=lt(r.type,s),Vc(e,t,r,s,n);case 15:return gh(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:lt(r,s),Js(e,t),t.tag=1,qe(r)?(e=!0,hi(t)):e=!1,tr(t,n),fh(t,r,s),ma(t,r,s,n),va(null,t,r,!0,e,n);case 19:return bh(e,t,n);case 22:return xh(e,t,n)}throw Error(P(156,t.tag))};function Rh(e,t){return ud(e,t)}function Gp(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tt(e,t,n,r){return new Gp(e,t,n,r)}function Al(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zp(e){if(typeof e=="function")return Al(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ya)return 11;if(e===el)return 14}return 2}function tn(e,t){var n=e.alternate;return n===null?(n=tt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ys(e,t,n,r,s,o){var a=2;if(r=e,typeof e=="function")Al(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case Un:return jn(n.children,s,o,t);case Xa:a=8,s|=8;break;case Mo:return e=tt(12,n,t,s|2),e.elementType=Mo,e.lanes=o,e;case Uo:return e=tt(13,n,t,s),e.elementType=Uo,e.lanes=o,e;case Fo:return e=tt(19,n,t,s),e.elementType=Fo,e.lanes=o,e;case Ku:return Fi(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case qu:a=10;break e;case Vu:a=9;break e;case Ya:a=11;break e;case el:a=14;break e;case Ft:a=16,r=null;break e}throw Error(P(130,e==null?e:typeof e,""))}return t=tt(a,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function jn(e,t,n,r){return e=tt(7,e,r,t),e.lanes=n,e}function Fi(e,t,n,r){return e=tt(22,e,r,t),e.elementType=Ku,e.lanes=n,e.stateNode={isHidden:!1},e}function So(e,t,n){return e=tt(6,e,null,t),e.lanes=n,e}function Co(e,t,n){return t=tt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jp(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=oo(0),this.expirationTimes=oo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Il(e,t,n,r,s,o,a,l,c){return e=new Jp(e,t,n,l,c),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tt(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},vl(o),e}function Qp(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Dh(e){if(!e)return rn;e=e._reactInternals;e:{if(zn(e)!==e||e.tag!==1)throw Error(P(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qe(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(P(171))}if(e.tag===1){var n=e.type;if(qe(n))return Dd(e,n,t)}return t}function Mh(e,t,n,r,s,o,a,l,c){return e=Il(n,r,!0,e,s,o,a,l,c),e.context=Dh(null),n=e.current,r=Ie(),s=en(n),o=Tt(r,s),o.callback=t??null,Xt(n,o,s),e.current.lanes=s,hs(e,s,r),Ve(e,r),e}function Bi(e,t,n,r){var s=t.current,o=Ie(),a=en(s);return n=Dh(n),t.context===null?t.context=n:t.pendingContext=n,t=Tt(o,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Xt(s,t,a),e!==null&&(ft(e,s,a,o),Ks(e,s,a)),a}function Ni(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function su(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function $l(e,t){su(e,t),(e=e.alternate)&&su(e,t)}function Xp(){return null}var Uh=typeof reportError=="function"?reportError:function(e){console.error(e)};function Rl(e){this._internalRoot=e}Wi.prototype.render=Rl.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(P(409));Bi(e,t,null,null)};Wi.prototype.unmount=Rl.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Bi(null,e,null,null)}),t[Ot]=null}};function Wi(e){this._internalRoot=e}Wi.prototype.unstable_scheduleHydration=function(e){if(e){var t=xd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Wt.length&&t!==0&&t<Wt[n].priority;n++);Wt.splice(n,0,e),n===0&&wd(e)}};function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Hi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function iu(){}function Yp(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var d=Ni(a);o.call(d)}}var a=Mh(t,r,e,0,null,!1,!1,"",iu);return e._reactRootContainer=a,e[Ot]=a.current,Yr(e.nodeType===8?e.parentNode:e),Cn(),a}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Ni(c);l.call(d)}}var c=Il(e,0,!1,null,null,!1,!1,"",iu);return e._reactRootContainer=c,e[Ot]=c.current,Yr(e.nodeType===8?e.parentNode:e),Cn(function(){Bi(t,c,n,r)}),c}function qi(e,t,n,r,s){var o=n._reactRootContainer;if(o){var a=o;if(typeof s=="function"){var l=s;s=function(){var c=Ni(a);l.call(c)}}Bi(t,a,e,s)}else a=Yp(n,t,e,s,r);return Ni(a)}md=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=zr(t.pendingLanes);n!==0&&(rl(t,n|1),Ve(t,me()),!(Y&6)&&(ur=me()+500,cn()))}break;case 13:Cn(function(){var r=Lt(e,1);if(r!==null){var s=Ie();ft(r,e,1,s)}}),$l(e,1)}};sl=function(e){if(e.tag===13){var t=Lt(e,134217728);if(t!==null){var n=Ie();ft(t,e,134217728,n)}$l(e,134217728)}};gd=function(e){if(e.tag===13){var t=en(e),n=Lt(e,t);if(n!==null){var r=Ie();ft(n,e,t,r)}$l(e,t)}};xd=function(){return ne};vd=function(e,t){var n=ne;try{return ne=e,t()}finally{ne=n}};Qo=function(e,t,n){switch(t){case"input":if(Ho(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Ii(r);if(!s)throw Error(P(90));Zu(r),Ho(r,s)}}}break;case"textarea":Qu(e,n);break;case"select":t=n.value,t!=null&&Qn(e,!!n.multiple,t,!1)}};sd=Pl;id=Cn;var em={usingClientEntryPoint:!1,Events:[ps,Hn,Ii,nd,rd,Pl]},Nr={findFiberByHostInstance:xn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tm={bundleType:Nr.bundleType,version:Nr.version,rendererPackageName:Nr.rendererPackageName,rendererConfig:Nr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:It.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ld(e),e===null?null:e.stateNode},findFiberByHostInstance:Nr.findFiberByHostInstance||Xp,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$s.isDisabled&&$s.supportsFiber)try{Pi=$s.inject(tm),yt=$s}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=em;Qe.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Dl(t))throw Error(P(200));return Qp(e,t,null,n)};Qe.createRoot=function(e,t){if(!Dl(e))throw Error(P(299));var n=!1,r="",s=Uh;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=Il(e,1,!1,null,null,n,!1,r,s),e[Ot]=t.current,Yr(e.nodeType===8?e.parentNode:e),new Rl(t)};Qe.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(P(188)):(e=Object.keys(e).join(","),Error(P(268,e)));return e=ld(t),e=e===null?null:e.stateNode,e};Qe.flushSync=function(e){return Cn(e)};Qe.hydrate=function(e,t,n){if(!Hi(t))throw Error(P(200));return qi(null,e,t,!0,n)};Qe.hydrateRoot=function(e,t,n){if(!Dl(e))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",a=Uh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=Mh(t,null,e,1,n??null,s,!1,o,a),e[Ot]=t.current,Yr(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Wi(t)};Qe.render=function(e,t,n){if(!Hi(t))throw Error(P(200));return qi(null,e,t,!1,n)};Qe.unmountComponentAtNode=function(e){if(!Hi(e))throw Error(P(40));return e._reactRootContainer?(Cn(function(){qi(null,null,e,!1,function(){e._reactRootContainer=null,e[Ot]=null})}),!0):!1};Qe.unstable_batchedUpdates=Pl;Qe.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Hi(n))throw Error(P(200));if(e==null||e._reactInternals===void 0)throw Error(P(38));return qi(e,t,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function Fh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fh)}catch(e){console.error(e)}}Fh(),Fu.exports=Qe;var nm=Fu.exports,Bh,ou=nm;Bh=ou.createRoot,ou.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rm={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),W=(e,t)=>{const n=k.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:l="",children:c,...d},u)=>k.createElement("svg",{ref:u,...rm,width:s,height:s,stroke:r,strokeWidth:a?Number(o)*24/Number(s):o,className:["lucide",`lucide-${sm(e)}`,l].join(" "),...d},[...t.map(([f,m])=>k.createElement(f,m)),...Array.isArray(c)?c:[c]]));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ml=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=W("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qh=W("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=W("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yn=W("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=W("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=W("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=W("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=W("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cm=W("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=W("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=W("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=W("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=W("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hm=W("Kanban",[["path",{d:"M6 5v11",key:"mdvv1e"}],["path",{d:"M12 5v6",key:"14ar3b"}],["path",{d:"M18 5v14",key:"7ji314"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=W("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=W("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=W("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gm=W("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xm=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=W("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=W("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vm=W("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=W("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=W("PhoneCall",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}],["path",{d:"M14.05 2a9 9 0 0 1 8 7.94",key:"vmijpz"}],["path",{d:"M14.05 6A5 5 0 0 1 18 10",key:"13nbpp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ym=W("PhoneForwarded",[["polyline",{points:"18 2 22 6 18 10",key:"6vjanh"}],["line",{x1:"14",x2:"22",y1:"6",y2:"6",key:"1jsywh"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=W("PhoneMissed",[["line",{x1:"22",x2:"16",y1:"2",y2:"8",key:"1xzwqn"}],["line",{x1:"16",x2:"22",y1:"2",y2:"8",key:"13zxdn"}],["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jm=W("PhoneOff",[["path",{d:"M10.68 13.31a16 16 0 0 0 3.41 2.6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7 2 2 0 0 1 1.72 2v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.42 19.42 0 0 1-3.33-2.67m-2.67-3.34a19.79 19.79 0 0 1-3.07-8.63A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91",key:"z86iuo"}],["line",{x1:"22",x2:"2",y1:"2",y2:"22",key:"11kh81"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=W("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=W("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=W("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cs=W("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ta=W("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=W("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=W("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=W("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rr=W("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ki=W("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=W("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oa=W("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=W("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lu=W("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Sm="modulepreload",Cm=function(e){return"/"+e},cu={},xs=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=Cm(c),c in cu)return;cu[c]=!0;const d=c.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Sm,d||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),d)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function o(a){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=a,window.dispatchEvent(l),!l.defaultPrevented)throw a}return s.then(a=>{for(const l of a||[])l.status==="rejected"&&o(l.reason);return t().catch(o)})},Em=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xs(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};class ql extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class zm extends ql{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class uu extends ql{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class du extends ql{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var La;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(La||(La={}));var Tm=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class Pm{constructor(t,{headers:n={},customFetch:r,region:s=La.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=Em(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return Tm(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:a}=n;let l={},{region:c}=n;c||(c=this.region);const d=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let u;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",u=a):typeof a=="string"?(l["Content-Type"]="text/plain",u=a):typeof FormData<"u"&&a instanceof FormData?u=a:(l["Content-Type"]="application/json",u=JSON.stringify(a)));const f=yield this.fetch(d.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:u}).catch(_=>{throw new zm(_)}),m=f.headers.get("x-relay-error");if(m&&m==="true")throw new uu(f);if(!f.ok)throw new du(f);let v=((r=f.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield f.json():v==="application/octet-stream"?y=yield f.blob():v==="text/event-stream"?y=f:v==="multipart/form-data"?y=yield f.formData():y=yield f.text(),{data:y,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof du||s instanceof uu?s.context:void 0}}})}}var Be={},Vl={},Gi={},vs={},Zi={},Ji={},Om=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hr=Om();const Lm=hr.fetch,Zh=hr.fetch.bind(hr),Jh=hr.Headers,Am=hr.Request,Im=hr.Response,gr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jh,Request:Am,Response:Im,default:Zh,fetch:Lm},Symbol.toStringTag,{value:"Module"})),$m=Tf(gr);var Qi={};Object.defineProperty(Qi,"__esModule",{value:!0});let Rm=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Qi.default=Rm;var Qh=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ji,"__esModule",{value:!0});const Dm=Qh($m),Mm=Qh(Qi);let Um=class{constructor(t){var n,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(n=t.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Dm.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=new Headers(this.headers),this.headers.set(t,n),this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,l,c,d;let u=null,f=null,m=null,v=o.status,y=o.statusText;if(o.ok){if(this.method!=="HEAD"){const p=await o.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((a=this.headers.get("Accept"))===null||a===void 0)&&a.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const N=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(c=o.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");N&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(u={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,m=null,v=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const N=await o.text();try{u=JSON.parse(N),Array.isArray(u)&&o.status===404&&(f=[],u=null,v=200,y="OK")}catch{o.status===404&&N===""?(v=204,y="No Content"):u={message:N}}if(u&&this.isMaybeSingle&&(!((d=u==null?void 0:u.details)===null||d===void 0)&&d.includes("0 rows"))&&(u=null,v=200,y="OK"),u&&this.shouldThrowOnError)throw new Mm.default(u)}return{error:u,data:f,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(o=>{var a,l,c;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(l=o==null?void 0:o.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=o==null?void 0:o.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,n)}returns(){return this}overrideTypes(){return this}};Ji.default=Um;var Fm=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Zi,"__esModule",{value:!0});const Bm=Fm(Ji);let Wm=class extends Bm.default{select(t){let n=!1;const r=(t??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:o=s}={}){const a=o?`${o}.order`:"order",l=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${l?`${l},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:s=r}={}){const o=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:o=!1,format:a="text"}={}){var l;const c=[t?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`),a==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Zi.default=Wm;var Hm=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(vs,"__esModule",{value:!0});const qm=Hm(Zi);let Vm=class extends qm.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:s}={}){let o="";s==="plain"?o="pl":s==="phrase"?o="ph":s==="websearch"&&(o="w");const a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};vs.default=Vm;var Km=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Gi,"__esModule",{value:!0});const Sr=Km(vs);let Gm=class{constructor(t,{headers:n={},schema:r,fetch:s}){this.url=t,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(t,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let o=!1;const a=(t??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new Sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:n,defaultToNull:r=!0}={}){var s;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(a.length>0){const l=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Sr.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:o=!0}={}){var a;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(c.length>0){const d=[...new Set(c)].map(u=>`"${u}"`);this.url.searchParams.set("columns",d.join(","))}}return new Sr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}update(t,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Sr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var n;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Sr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Gi.default=Gm;var Xh=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vl,"__esModule",{value:!0});const Zm=Xh(Gi),Jm=Xh(vs);let Qm=class Yh{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){const n=new URL(`${this.url}/${t}`);return new Zm.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Yh(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var a;let l;const c=new URL(`${this.url}/rpc/${t}`);let d;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([f,m])=>m!==void 0).map(([f,m])=>[f,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([f,m])=>{c.searchParams.append(f,m)})):(l="POST",d=n);const u=new Headers(this.headers);return o&&u.set("Prefer",`count=${o}`),new Jm.default({method:l,url:c,headers:u,schema:this.schemaName,body:d,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};Vl.default=Qm;var xr=rt&&rt.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const ef=xr(Vl);Be.PostgrestClient=ef.default;const tf=xr(Gi);Be.PostgrestQueryBuilder=tf.default;const nf=xr(vs);Be.PostgrestFilterBuilder=nf.default;const rf=xr(Zi);Be.PostgrestTransformBuilder=rf.default;const sf=xr(Ji);Be.PostgrestBuilder=sf.default;const of=xr(Qi);Be.PostgrestError=of.default;var Xm=Be.default={PostgrestClient:ef.default,PostgrestQueryBuilder:tf.default,PostgrestFilterBuilder:nf.default,PostgrestTransformBuilder:rf.default,PostgrestBuilder:sf.default,PostgrestError:of.default};const{PostgrestClient:Ym,PostgrestQueryBuilder:yv,PostgrestFilterBuilder:bv,PostgrestTransformBuilder:jv,PostgrestBuilder:kv,PostgrestError:_v}=Xm;class eg{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const tg="2.15.5",ng=`realtime-js/${tg}`,rg="1.0.0",Aa=1e4,sg=1e3,ig=100;var Br;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Br||(Br={}));var ve;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(ve||(ve={}));var ut;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ut||(ut={}));var Ia;(function(e){e.websocket="websocket"})(Ia||(Ia={}));var gn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(gn||(gn={}));class og{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2);let a=this.HEADER_LENGTH+2;const l=r.decode(t.slice(a,a+s));a=a+s;const c=r.decode(t.slice(a,a+o));a=a+o;const d=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:l,event:c,payload:d}}}class af{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ie||(ie={}));const hu=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=ag(a,e,t,s),o),{})},ag=(e,t,n,r)=>{const s=t.find(l=>l.name===e),o=s==null?void 0:s.type,a=n[e];return o&&!r.includes(o)?lf(o,a):$a(a)},lf=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return dg(t,n)}switch(e){case ie.bool:return lg(t);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return cg(t);case ie.json:case ie.jsonb:return ug(t);case ie.timestamp:return hg(t);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return $a(t);default:return $a(t)}},$a=e=>e,lg=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},cg=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},ug=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},dg=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(l=>lf(t,l))}return e},hg=e=>typeof e=="string"?e.replace(" ","T"):e,cf=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Eo{constructor(t,n,r={},s=Aa){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var fu;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(fu||(fu={}));class Wr{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Wr.syncState(this.state,s,o,a),this.pendingDiffs.forEach(c=>{this.state=Wr.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:a,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Wr.syncDiff(this.state,s,o,a),l())}),this.onJoin((s,o,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:a})}),this.onLeave((s,o,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),a=this.transformState(n),l={},c={};return this.map(o,(d,u)=>{a[d]||(c[d]=u)}),this.map(a,(d,u)=>{const f=o[d];if(f){const m=u.map(N=>N.presence_ref),v=f.map(N=>N.presence_ref),y=u.filter(N=>v.indexOf(N.presence_ref)<0),_=f.filter(N=>m.indexOf(N.presence_ref)<0);y.length>0&&(l[d]=y),_.length>0&&(c[d]=_)}else l[d]=u}),this.syncDiff(o,{joins:l,leaves:c},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(l,c)=>{var d;const u=(d=t[l])!==null&&d!==void 0?d:[];if(t[l]=this.cloneDeep(c),u.length>0){const f=t[l].map(v=>v.presence_ref),m=u.filter(v=>f.indexOf(v.presence_ref)<0);t[l].unshift(...m)}r(l,u,c)}),this.map(a,(l,c)=>{let d=t[l];if(!d)return;const u=c.map(f=>f.presence_ref);d=d.filter(f=>u.indexOf(f.presence_ref)<0),t[l]=d,s(l,d,c),d.length===0&&delete t[l]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var pu;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(pu||(pu={}));var Hr;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Hr||(Hr={}));var St;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(St||(St={}));class Kl{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ve.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Eo(this,ut.join,this.params,this.timeout),this.rejoinTimer=new af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ve.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ve.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ve.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ut.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Wr(this),this.broadcastEndpointURL=cf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==ve.closed){const{config:{broadcast:a,presence:l,private:c}}=this.params,d=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&s!==void 0?s:[],u=!!this.bindings[Hr.PRESENCE]&&this.bindings[Hr.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,f={},m={broadcast:a,presence:Object.assign(Object.assign({},l),{enabled:u}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(St.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(St.CLOSED)),this.updateJoinPayload(Object.assign({config:m},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){t==null||t(St.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,N=(y=_==null?void 0:_.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<N;p++){const h=_[p],{filter:{event:x,schema:w,table:C,filter:z}}=h,T=v&&v[p];if(T&&T.event===x&&T.schema===w&&T.table===C&&T.filter===z)g.push(Object.assign(Object.assign({},h),{id:T.id}));else{this.unsubscribe(),this.state=ve.errored,t==null||t(St.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(St.SUBSCRIBED);return}}).receive("error",v=>{this.state=ve.errored,t==null||t(St.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(St.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===ve.joined&&t===Hr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,r)}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:a}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,l,c;const d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(a=this.params)===null||a===void 0?void 0:a.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),d.receive("ok",()=>o("ok")),d.receive("error",()=>o("error")),d.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ve.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ut.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new Eo(this,ut.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ve.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Eo(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>ig){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const a=t.toLocaleLowerCase(),{close:l,error:c,leave:d,join:u}=ut;if(r&&[l,c,d,u].indexOf(a)>=0&&r!==this._joinRef())return;let m=this._onMessage(a,n,r);if(n&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,_,N;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((N=(_=v.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===a}).map(v=>v.callback(m,r)):(o=this.bindings[a])===null||o===void 0||o.filter(v=>{var y,_,N,g,p,h;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const x=v.id,w=(y=v.filter)===null||y===void 0?void 0:y.event;return x&&((_=n.ids)===null||_===void 0?void 0:_.includes(x))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((N=n.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const x=(p=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((h=n==null?void 0:n.event)===null||h===void 0?void 0:h.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:_,table:N,commit_timestamp:g,type:p,errors:h}=y;m=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:g,eventType:p,new:{},old:{},errors:h}),this._getPayloadRecords(y))}v.callback(m,r)})}_isClosed(){return this.state===ve.closed}_isJoined(){return this.state===ve.joined}_isJoining(){return this.state===ve.joining}_isLeaving(){return this.state===ve.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&Kl.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ut.close,{},t)}_onError(t){this._on(ut.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ve.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=hu(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=hu(t.columns,t.old_record)),n}}const zo=()=>{},Rs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},fg=[1e3,2e3,5e3,1e4],pg=1e4,mg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class gg{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Aa,this.transport=null,this.heartbeatIntervalMs=Rs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=zo,this.ref=0,this.reconnectTimer=null,this.logger=zo,this.conn=null,this.sendBuffer=[],this.serializer=new og,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>xs(async()=>{const{default:l}=await Promise.resolve().then(()=>gr);return{default:l}},void 0).then(({default:l})=>l(...a)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...a)=>o(...a)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Ia.websocket}`,this.httpEndpoint=cf(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=eg.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:rg}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Br.connecting:return gn.Connecting;case Br.open:return gn.Open;case Br.closing:return gn.Closing;default:return gn.Closed}}isConnected(){return this.connectionState()===gn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new Kl(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,a=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(sg,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:o,ref:a}=n,l=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),o),this.channels.filter(d=>d._isMember(r)).forEach(d=>d._trigger(s,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ut.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([mg],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:ng};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(ut.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new af(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,a,l,c,d,u;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Aa,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:Rs.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t==null?void 0:t.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:zo,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>fg[f-1]||pg,this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(f,m)=>m(JSON.stringify(f)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Gl extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function we(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class xg extends Gl{constructor(t,n,r){super(t),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ra extends Gl{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var vg=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const uf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xs(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},wg=()=>vg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield xs(()=>Promise.resolve().then(()=>gr),void 0)).Response:Response}),Da=e=>{if(Array.isArray(e))return e.map(n=>Da(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=Da(r)}),t},yg=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var Tn=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const To=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),bg=(e,t,n)=>Tn(void 0,void 0,void 0,function*(){const r=yield wg();e instanceof r&&!(n!=null&&n.noResolveJson)?e.json().then(s=>{const o=e.status||500,a=(s==null?void 0:s.statusCode)||o+"";t(new xg(To(s),o,a))}).catch(s=>{t(new Ra(To(s),s))}):t(new Ra(To(e),e))}),jg=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(yg(r)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),n))};function ws(e,t,n,r,s,o){return Tn(this,void 0,void 0,function*(){return new Promise((a,l)=>{e(n,jg(t,r,s,o)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>bg(c,l,r))})})}function Ci(e,t,n,r){return Tn(this,void 0,void 0,function*(){return ws(e,"GET",t,n,r)})}function vt(e,t,n,r,s){return Tn(this,void 0,void 0,function*(){return ws(e,"POST",t,r,s,n)})}function Ma(e,t,n,r,s){return Tn(this,void 0,void 0,function*(){return ws(e,"PUT",t,r,s,n)})}function kg(e,t,n,r){return Tn(this,void 0,void 0,function*(){return ws(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function df(e,t,n,r,s){return Tn(this,void 0,void 0,function*(){return ws(e,"DELETE",t,r,s,n)})}var Le=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const _g={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},mu={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ng{constructor(t,n={},r,s){this.shouldThrowOnError=!1,this.url=t,this.headers=n,this.bucketId=r,this.fetch=uf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,n,r,s){return Le(this,void 0,void 0,function*(){try{let o;const a=Object.assign(Object.assign({},mu),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,l["cache-control"]=`max-age=${a.cacheControl}`,l["content-type"]=a.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const d=this._removeEmptyFolders(n),u=this._getFinalPath(d),f=yield(t=="PUT"?Ma:vt)(this.fetch,`${this.url}/object/${u}`,o,Object.assign({headers:l},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:f.Id,fullPath:f.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if(we(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,s){return Le(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),a=this._getFinalPath(o),l=new URL(this.url+`/object/upload/sign/${a}`);l.searchParams.set("token",n);try{let c;const d=Object.assign({upsert:mu.upsert},s),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,u["cache-control"]=`max-age=${d.cacheControl}`,u["content-type"]=d.contentType);const f=yield Ma(this.fetch,l.toString(),c,{headers:u});return{data:{path:o,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(we(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Le(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const o=yield vt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),a=new URL(this.url+o.url),l=a.searchParams.get("token");if(!l)throw new Gl("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}update(t,n,r){return Le(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Le(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}copy(t,n,r){return Le(this,void 0,void 0,function*(){try{return{data:{path:(yield vt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}createSignedUrl(t,n,r){return Le(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield vt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}createSignedUrls(t,n,r){return Le(this,void 0,void 0,function*(){try{const s=yield vt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}download(t,n){return Le(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield Ci(this.fetch,`${this.url}/${s}/${l}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(we(l))return{data:null,error:l};throw l}})}info(t){return Le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const r=yield Ci(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Da(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}exists(t){return Le(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield kg(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r)&&r instanceof Ra){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){const r=this._getFinalPath(t),s=[],o=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&s.push(o);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${d}`)}}}remove(t){return Le(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}list(t,n,r){return Le(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},_g),n),{prefix:t||""});return{data:yield vt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(we(s))return{data:null,error:s};throw s}})}listV2(t,n){return Le(this,void 0,void 0,function*(){try{const r=Object.assign({},t);return{data:yield vt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const Sg="2.12.1",Cg={"X-Client-Info":`storage-js/${Sg}`};var On=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class Eg{constructor(t,n={},r,s){this.shouldThrowOnError=!1;const o=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},Cg),n),this.fetch=uf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return On(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(we(t))return{data:null,error:t};throw t}})}getBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return On(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return On(this,void 0,void 0,function*(){try{return{data:yield Ma(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(we(r))return{data:null,error:r};throw r}})}emptyBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield vt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}deleteBucket(t){return On(this,void 0,void 0,function*(){try{return{data:yield df(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(we(n))return{data:null,error:n};throw n}})}}class zg extends Eg{constructor(t,n={},r,s){super(t,n,r,s)}from(t){return new Ng(this.url,this.headers,t,this.fetch)}}const Tg="2.57.4";let Pr="";typeof Deno<"u"?Pr="deno":typeof document<"u"?Pr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Pr="react-native":Pr="node";const Pg={"X-Client-Info":`supabase-js-${Pr}/${Tg}`},Og={headers:Pg},Lg={schema:"public"},Ag={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ig={};var $g=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};const Rg=e=>{let t;return e?t=e:typeof fetch>"u"?t=Zh:t=fetch,(...n)=>t(...n)},Dg=()=>typeof Headers>"u"?Jh:Headers,Mg=(e,t,n)=>{const r=Rg(n),s=Dg();return(o,a)=>$g(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:d}))})};var Ug=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};function Fg(e){return e.endsWith("/")?e:e+"/"}function Bg(e,t){var n,r;const{db:s,auth:o,realtime:a,global:l}=e,{db:c,auth:d,realtime:u,global:f}=t,m={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Ug(this,void 0,void 0,function*(){return""})};return e.accessToken?m.accessToken=e.accessToken:delete m.accessToken,m}function Wg(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Fg(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const hf="2.71.1",Rn=30*1e3,Ua=3,Po=Ua*Rn,Hg="http://localhost:9999",qg="supabase.auth.token",Vg={"X-Client-Info":`gotrue-js/${hf}`},Fa="X-Supabase-Api-Version",ff={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Gg=10*60*1e3;class Zl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function G(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Zg extends Zl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Jg(e){return G(e)&&e.name==="AuthApiError"}class pf extends Zl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class un extends Zl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class Ut extends un{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Qg(e){return G(e)&&e.name==="AuthSessionMissingError"}class Ds extends un{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ms extends un{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Us extends un{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Xg(e){return G(e)&&e.name==="AuthImplicitGrantRedirectError"}class gu extends un{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ba extends un{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Oo(e){return G(e)&&e.name==="AuthRetryableFetchError"}class xu extends un{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Wa extends un{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ei="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vu=` 	
\r=`.split(""),Yg=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<vu.length;t+=1)e[vu[t].charCodeAt(0)]=-2;for(let t=0;t<Ei.length;t+=1)e[Ei[t].charCodeAt(0)]=t;return e})();function wu(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ei[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(Ei[r]),t.queuedBits-=6}}function mf(e,t,n){const r=Yg[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function yu(e){const t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=a=>{nx(a,r,n)};for(let a=0;a<e.length;a+=1)mf(e.charCodeAt(a),s,o);return t.join("")}function ex(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tx(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}ex(r,t)}}function nx(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function rx(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)mf(e.charCodeAt(s),n,r);return new Uint8Array(t)}function sx(e){const t=[];return tx(e,n=>t.push(n)),new Uint8Array(t)}function ix(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>wu(s,n,r)),wu(null,n,r),t.join("")}function ox(e){return Math.round(Date.now()/1e3)+e}function ax(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const at=()=>typeof window<"u"&&typeof document<"u",dn={tested:!1,writable:!1},gf=()=>{if(!at())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(dn.tested)return dn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),dn.tested=!0,dn.writable=!0}catch{dn.tested=!0,dn.writable=!1}return dn.writable};function lx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const xf=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>xs(async()=>{const{default:r}=await Promise.resolve().then(()=>gr);return{default:r}},void 0).then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},cx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Dn=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},hn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Mt=async(e,t)=>{await e.removeItem(t)};class Xi{constructor(){this.promise=new Xi.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}Xi.promiseConstructor=Promise;function Lo(e){const t=e.split(".");if(t.length!==3)throw new Wa("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Kg.test(t[r]))throw new Wa("JWT not in base64url format");return{header:JSON.parse(yu(t[0])),payload:JSON.parse(yu(t[1])),signature:rx(t[2]),raw:{header:t[0],payload:t[1]}}}async function ux(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function dx(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){s(a);return}}})()})}function hx(e){return("0"+e.toString(16)).substr(-2)}function fx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,hx).join("")}async function px(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function mx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await px(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ln(e,t,n=!1){const r=fx();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Dn(e,`${t}-code-verifier`,s);const o=await mx(r);return[o,r===o?"plain":"s256"]}const gx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xx(e){const t=e.headers.get(Fa);if(!t||!t.match(gx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function vx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function wx(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yx=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function An(e){if(!yx.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ao(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function bu(e){return JSON.parse(JSON.stringify(e))}var bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const mn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),jx=[502,503,504];async function ju(e){var t;if(!cx(e))throw new Ba(mn(e),0);if(jx.includes(e.status))throw new Ba(mn(e),e.status);let n;try{n=await e.json()}catch(o){throw new pf(mn(o),o)}let r;const s=xx(e);if(s&&s.getTime()>=ff["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new xu(mn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ut}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new xu(mn(n),e.status,n.weak_password.reasons);throw new Zg(mn(n),e.status||500,r)}const kx=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function J(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[Fa]||(o[Fa]=ff["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const a=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const l=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await _x(e,t,n+l,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function _x(e,t,n,r,s,o){const a=kx(t,r,s,o);let l;try{l=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Ba(mn(c),0)}if(l.ok||await ju(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await ju(c)}}function _t(e){var t;let n=null;Ex(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=ox(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function ku(e){const t=_t(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qt(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Nx(e){return{data:e,error:null}}function Sx(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,a=bx(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},c=Object.assign({},a);return{data:{properties:l,user:c},error:null}}function Cx(e){return e}function Ex(e){return e.access_token&&e.refresh_token&&e.expires_in}const Io=["global","local","others"];var zx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};class Tx{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=xf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Io[0]){if(Io.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Io.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:qt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=zx(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:Sx,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(G(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qt})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,a,l,c;try{const d={nextPage:null,lastPage:0,total:0},u=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Cx});if(u.error)throw u.error;const f=await u.json(),m=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(c=(l=u.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return v.length>0&&(v.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(y.split(";")[1].split("=")[1]);d[`${N}Page`]=_}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(G(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){An(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qt})}catch(n){if(G(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){An(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:qt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){An(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:qt})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){An(t.userId);try{const{data:n,error:r}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(G(n))return{data:null,error:n};throw n}}async _deleteFactor(t){An(t.userId),An(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}}function _u(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Px(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const In={debug:!!(globalThis&&gf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class vf extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Ox extends vf{}async function Lx(e,t,n){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),In.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){In.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{In.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw In.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ox(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(In.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}Px();const Ax={url:Hg,storageKey:qg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Vg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Nu(e,t,n){return await n()}const $n={};class us{constructor(t){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=us.nextInstanceID,us.nextInstanceID+=1,this.instanceID>0&&at()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Ax),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Tx({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=xf(s.fetch),this.lock=s.lock||Nu,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:at()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Lx:this.lock=Nu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:gf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_u(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=_u(this.memoryStorage)),at()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=$n[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=$n[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){$n[this.storageKey]=Object.assign(Object.assign({},$n[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${hf}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=lx(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),at()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),Xg(o)){const c=(t=o.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:a,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",l),await this._saveSession(a),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return G(n)?{error:n}:{error:new pf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:_t}),{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:u,password:f,options:m}=t;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Ln(this.storage,this.storageKey)),o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:u,password:f,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},xform:_t})}else if("phone"in t){const{phone:u,password:f,options:m}=t;o=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:f,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:_t})}else throw new Ms("You must provide either an email or phone number and a password");const{data:a,error:l}=o;if(l||!a)return{data:{user:null,session:null},error:l};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(o){if(G(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:a,options:l}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ku})}else if("phone"in t){const{phone:o,password:a,options:l}=t;n=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ku})}else throw new Ms("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ds}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,r,s,o,a,l,c,d,u,f,m,v;let y,_;if("message"in t)y=t.message,_=t.signature;else{const{chain:N,wallet:g,statement:p,options:h}=t;let x;if(at())if(typeof g=="object")x=g;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))x=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(h!=null&&h.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const w=new URL((n=h==null?void 0:h.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const C=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},h==null?void 0:h.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),p?{statement:p}:null));let z;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")z=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)z=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)y=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),_=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(r=h==null?void 0:h.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=h==null?void 0:h.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${h.signInWithSolana.notBefore}`]:[],...!((a=h==null?void 0:h.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${h.signInWithSolana.expirationTime}`]:[],...!((l=h==null?void 0:h.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${h.signInWithSolana.chainId}`]:[],...!((c=h==null?void 0:h.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${h.signInWithSolana.nonce}`]:[],...!((d=h==null?void 0:h.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${h.signInWithSolana.requestId}`]:[],...!((f=(u=h==null?void 0:h.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||f===void 0)&&f.length?["Resources",...h.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const C=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=C}}try{const{data:N,error:g}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:ix(_)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=t.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:_t});if(g)throw g;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Ds}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:g})}catch(N){if(G(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await hn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:o,error:a}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:_t});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Ds}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(G(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:a}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:_t}),{data:c,error:d}=l;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Ds}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,r,s,o,a;try{if("email"in t){const{email:l,options:c}=t;let d=null,u=null;this.flowType==="pkce"&&([d,u]=await Ln(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:d,error:u}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(o=c==null?void 0:c.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:u}}throw new Ms("You must provide either an email or phone number.")}catch(l){if(G(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:_t});if(l)throw l;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(G(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var n,r,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=await Ln(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:Nx})}catch(o){if(G(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new Ut;const{error:s}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(G(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:a}=await J(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:a,error:l}=await J(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:l}}throw new Ms("You must provide either an email or phone number and a type")}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await hn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Po:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const a=await hn(this.userStorage,this.storageKey+"-user");a!=null&&a.user?t.user=a.user:t.user=Ao()}if(this.storage.isServer&&t.user){let a=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,d,u)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,u))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qt}):await this._useSession(async n=>{var r,s,o;const{data:a,error:l}=n;if(l)throw l;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ut}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:qt})})}catch(n){if(G(n))return Qg(n)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new Ut;const a=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await Ln(this.storage,this.storageKey));const{data:d,error:u}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:a.access_token,xform:qt});if(u)throw u;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(r){if(G(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ut;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:a}=Lo(t.access_token);if(a.exp&&(r=a.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};o=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;o={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(G(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:a,error:l}=n;if(l)throw l;t=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ut;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(G(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!at())throw new Us("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Us(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new gu("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Us("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new gu("No code detected.");const{data:p,error:h}=await this._exchangeCodeForSession(t.code);if(h)throw h;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:l,expires_at:c,token_type:d}=t;if(!o||!l||!a||!d)throw new Us("No session defined in URL");const u=Math.round(Date.now()/1e3),f=parseInt(l);let m=u+f;c&&(m=parseInt(c));const v=m-u;v*1e3<=Rn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const y=m-f;u-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,u):u-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,u);const{data:_,error:N}=await this._getUser(o);if(N)throw N;const g={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:f,expires_at:m,refresh_token:a,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(r){if(G(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await hn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{error:o};const a=(r=s.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:l}=await this.admin.signOut(a,t);if(l&&!(Jg(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=ax(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Ln(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(G(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(G(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var a,l,c,d,u;const{data:f,error:m}=o;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",v,{headers:this.headers,jwt:(u=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(s)throw s;return at()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(G(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)throw a;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await dx(async s=>(s>0&&await ux(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})),(s,o)=>{const a=200*Math.pow(2,s);return o&&Oo(o)&&Date.now()+a-r<Rn})}catch(r){if(this._debug(n,"error",r),G(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),at()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await hn(this.storage,this.storageKey);if(s&&this.userStorage){let a=await hn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:s.user},await Dn(this.userStorage,this.storageKey+"-user",a)),s.user=(t=a==null?void 0:a.user)!==null&&t!==void 0?t:Ao()}else if(s&&!s.user&&!s.user){const a=await hn(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(s.user=a.user,await Mt(this.storage,this.storageKey+"-user"),await Dn(this.storage,this.storageKey,s)):s.user=Ao()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Po;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Po}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:a}=await this._callRefreshToken(s.refresh_token);a&&(console.error(a),Oo(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:l}=await this._getUser(s.access_token);!l&&(a!=null&&a.user)?(s.user=a.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new Ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Xi;const{data:o,error:a}=await this._refreshAccessToken(t);if(a)throw a;if(!o.session)throw new Ut;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const l={session:o.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(o){if(this._debug(s,"error",o),G(o)){const a={session:null,error:o};return Oo(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],a=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,n)}catch(c){o.push(c)}});if(await Promise.all(a),o.length>0){for(let l=0;l<o.length;l+=1)console.error(o[l]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Dn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=bu(s);await Dn(this.storage,this.storageKey,o)}else{const s=bu(n);await Dn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&at()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Rn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Rn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Rn}ms, refresh threshold is ${Ua} ticks`),s<=Ua&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof vf)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!at()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,a]=await Ln(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:a}=n;if(a)return{data:null,error:a};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:d}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(G(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return{data:null,error:o};const{data:a,error:l}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:l})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?{data:null,error:o}:await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(G(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(t==null?void 0:t.factors)||[],s=r.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=r.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:r,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,r;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Lo(s.access_token);let l=null;a.aal&&(l=a.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const u=a.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:u},error:null}}))}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(l=>l.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===t),r&&this.jwks_cached_at+Gg>s)return r;const{data:o,error:a}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(l=>l.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:o,signature:a,raw:{header:l,payload:c}}=Lo(r);n!=null&&n.allowExpired||vx(o.exp);const d=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!d){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:o,header:s,signature:a},error:null}}const u=wx(s.alg),f=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,f,a,sx(`${l}.${c}`)))throw new Wa("Invalid JWT signature");return{data:{claims:o,header:s,signature:a},error:null}}catch(r){if(G(r))return{data:null,error:r};throw r}}}us.nextInstanceID=0;const Ix=us;class $x extends Ix{constructor(t){super(t)}}var Rx=function(e,t,n,r){function s(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function l(u){try{d(r.next(u))}catch(f){a(f)}}function c(u){try{d(r.throw(u))}catch(f){a(f)}}function d(u){u.done?o(u.value):s(u.value).then(l,c)}d((r=r.apply(e,t||[])).next())})};class Dx{constructor(t,n,r){var s,o,a;this.supabaseUrl=t,this.supabaseKey=n;const l=Wg(t);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:Lg,realtime:Ig,auth:Object.assign(Object.assign({},Ag),{storageKey:c}),global:Og},u=Bg(r??{},d);this.storageKey=(s=u.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(f,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=Mg(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Ym(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new zg(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new Pm(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return Rx(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,storageKey:a,flowType:l,lock:c,debug:d},u,f){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $x({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),u),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:o,flowType:l,lock:c,debug:d,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new gg(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Mx=(e,t,n)=>new Dx(e,t,n);function Ux(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Ux()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Fx="https://fjoejgundajzyyppfqhb.supabase.co",Bx="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZqb2VqZ3VuZGFqenl5cHBmcWhiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU1NTc3ODgsImV4cCI6MjA4MTEzMzc4OH0.X4eCVLg1PvRlqOZJxdIM8o7x5iM2zMBWh1jgoVIEUCw",R=Mx(Fx,Bx),wf=[{value:"new",label:"Nowy",color:"bg-blue-500/20 text-blue-300 border-blue-500/30"},{value:"in_progress",label:"W trakcie rozmw",color:"bg-cyan-500/20 text-cyan-300 border-cyan-500/30"},{value:"waiting_response",label:"Czekamy na odpowied",color:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"},{value:"undecided",label:"Niezdecydowany",color:"bg-orange-500/20 text-orange-300 border-orange-500/30"},{value:"call_later",label:"Zadzwoni pniej",color:"bg-purple-500/20 text-purple-300 border-purple-500/30"},{value:"qualified",label:"Zakwalifikowany",color:"bg-violet-500/20 text-violet-300 border-violet-500/30"},{value:"converted",label:"Przekonwertowany",color:"bg-green-500/20 text-green-300 border-green-500/30"},{value:"lost",label:"Stracony",color:"bg-red-500/20 text-red-300 border-red-500/30"}],Yi=[{value:"active",label:"Aktywny",color:"bg-green-500/20 text-green-300 border-green-500/30"},{value:"in_progress",label:"Projekt w trakcie",color:"bg-cyan-500/20 text-cyan-300 border-cyan-500/30"},{value:"waiting_response",label:"Czekamy na odpowied",color:"bg-yellow-500/20 text-yellow-300 border-yellow-500/30"},{value:"pending",label:"Oczekujcy",color:"bg-orange-500/20 text-orange-300 border-orange-500/30"},{value:"completed",label:"Projekt zakoczony",color:"bg-blue-500/20 text-blue-300 border-blue-500/30"},{value:"inactive",label:"Nieaktywny",color:"bg-slate-500/20 text-slate-300 border-slate-500/30"}];function yf(e){const t=wf.find(n=>n.value===e);return(t==null?void 0:t.color)||"bg-slate-500/20 text-slate-300 border-slate-500/30"}function bf(e){const t=wf.find(n=>n.value===e);return(t==null?void 0:t.label)||e}function jf(e){const t=Yi.find(n=>n.value===e);return(t==null?void 0:t.color)||"bg-slate-500/20 text-slate-300 border-slate-500/30"}function kf(e){const t=Yi.find(n=>n.value===e);return(t==null?void 0:t.label)||e}function Jl(e){switch(e){case"Dekarze":return"bg-red-500/20 text-red-300 border-red-500/30";default:return"bg-slate-500/20 text-slate-300 border-slate-500/30"}}function Wx({task:e,onClose:t,onSave:n,defaultStatus:r="todo"}){var V,M;const[s,o]=k.useState(1),[a,l]=k.useState(e!=null&&e.client_id?"client":e!=null&&e.lead_id?"lead":null),[c,d]=k.useState([]),[u,f]=k.useState((e==null?void 0:e.category)||""),[m,v]=k.useState([]),[y,_]=k.useState([]),[N,g]=k.useState((e==null?void 0:e.client_id)||(e==null?void 0:e.lead_id)||null),[p,h]=k.useState({title:(e==null?void 0:e.title)||"",description:(e==null?void 0:e.description)||"",status:(e==null?void 0:e.status)||r,priority:(e==null?void 0:e.priority)||"medium",assigned_to:(e==null?void 0:e.assigned_to)||"",due_date:((V=e==null?void 0:e.due_date)==null?void 0:V.split("T")[0])||"",tags:((M=e==null?void 0:e.tags)==null?void 0:M.join(", "))||""});k.useEffect(()=>{e&&o(3)},[e]),k.useEffect(()=>{a==="lead"?x():a==="client"&&C()},[a]),k.useEffect(()=>{u&&a==="lead"&&w(u)},[u,a]);const x=async()=>{const{data:A}=await R.from("leads").select("category").not("category","eq","");if(A){const q=[...new Set(A.map(K=>K.category))].filter(Boolean);d(q)}},w=async A=>{const{data:q}=await R.from("leads").select("*").eq("category",A).order("name");q&&_(q)},C=async()=>{const{data:A}=await R.from("clients").select("*").order("name");A&&v(A)},z=A=>{var q;if(g(A),a==="client"){const K=m.find(X=>X.id===A);K&&(f("Klient"),h({...p,title:`Kontakt z ${K.name}`,description:K.description||"",assigned_to:K.contact_person||"",tags:((q=K.tags)==null?void 0:q.join(", "))||""}))}else if(a==="lead"){const K=y.find(X=>X.id===A);K&&h({...p,title:`Kontakt z ${K.name}`,description:K.description||"",assigned_to:K.contact_person||"",tags:K.category?K.category:""})}o(3)},T=async A=>{A.preventDefault();const q=p.tags.split(",").map(X=>X.trim()).filter(X=>X.length>0),K={title:p.title,description:p.description,status:p.status,priority:p.priority,assigned_to:p.assigned_to,due_date:p.due_date||null,tags:q,client_id:a==="client"?N:null,lead_id:a==="lead"?N:null,category:u||"",updated_at:new Date().toISOString()};e?await R.from("board_tasks").update(K).eq("id",e.id):await R.from("board_tasks").insert([K]),n()};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"w-full max-w-2xl bg-slate-900/95 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl animate-scale-in max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 sticky top-0 bg-slate-900/95 backdrop-blur-xl z-10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:e?"Edytuj zadanie":"Nowe zadanie"}),!e&&i.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Krok ",s," z 3"]})]}),i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:i.jsx(kt,{className:"w-6 h-6 text-slate-400"})})]}),i.jsxs("div",{className:"p-6",children:[s===1&&!e&&i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white mb-4",children:"Wybierz typ zadania"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsx("button",{onClick:()=>{l("client"),o(2)},className:"p-6 rounded-xl bg-gradient-to-br from-blue-500/20 to-cyan-500/20 border border-blue-500/30 hover:border-blue-500/50 transition-all duration-300 group",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:i.jsx(Fr,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"font-semibold text-white mb-1",children:"Klient"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Dodaj zadanie dla istniejcego klienta"})]})]})}),i.jsx("button",{onClick:()=>{l("lead"),o(2)},className:"p-6 rounded-xl bg-gradient-to-br from-violet-500/20 to-purple-500/20 border border-violet-500/30 hover:border-violet-500/50 transition-all duration-300 group",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center",children:i.jsx(Hl,{className:"w-8 h-8 text-white"})}),i.jsxs("div",{className:"text-center",children:[i.jsx("h4",{className:"font-semibold text-white mb-1",children:"Lead"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Dodaj zadanie dla potencjalnego klienta"})]})]})})]})]}),s===2&&a==="lead"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Wybierz kategori"}),i.jsx("button",{onClick:()=>o(1),className:"text-sm text-slate-400 hover:text-white transition-colors",children:" Wstecz"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-96 overflow-y-auto",children:c.map(A=>i.jsx("button",{onClick:()=>{f(A)},className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 text-left",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-violet-500/20 to-purple-500/20 flex items-center justify-center",children:i.jsx(Ki,{className:"w-5 h-5 text-violet-400"})}),i.jsx("div",{children:i.jsx("h4",{className:"font-medium text-white",children:A})})]})},A))})]}),s===2&&a==="lead"&&u&&i.jsxs("div",{className:"space-y-4 mt-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-white",children:["Wybierz leada z kategorii: ",u]}),i.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-96 overflow-y-auto",children:y.map(A=>i.jsx("button",{onClick:()=>z(A.id),className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-white",children:A.name}),i.jsx("p",{className:"text-sm text-slate-400",children:A.contact_person}),A.phone&&i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:A.phone})]}),i.jsx("div",{className:"px-3 py-1 rounded-full bg-violet-500/20 text-violet-300 text-xs",children:A.status})]})},A.id))})]}),s===2&&a==="client"&&i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-white",children:"Wybierz klienta"}),i.jsx("button",{onClick:()=>o(1),className:"text-sm text-slate-400 hover:text-white transition-colors",children:" Wstecz"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3 max-h-[500px] overflow-y-auto",children:m.map(A=>i.jsx("button",{onClick:()=>z(A.id),className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 text-left",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-white",children:A.name}),i.jsx("p",{className:"text-sm text-slate-400",children:A.contact_person}),A.phone&&i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:A.phone})]}),i.jsx("div",{className:"px-3 py-1 rounded-full bg-blue-500/20 text-blue-300 text-xs",children:A.status})]})},A.id))})]}),s===3&&i.jsxs("form",{onSubmit:T,className:"space-y-4",children:[!e&&i.jsx("button",{type:"button",onClick:()=>{o(a==="client"||u?2:1),g(null)},className:"text-sm text-slate-400 hover:text-white transition-colors mb-4",children:" Zmie wybr"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tytu *"}),i.jsx("input",{type:"text",required:!0,value:p.title,onChange:A=>h({...p,title:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300",placeholder:"Np. Przygotowa prezentacj"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Opis"}),i.jsx("textarea",{value:p.description,onChange:A=>h({...p,description:A.target.value}),rows:3,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300 resize-none",placeholder:"Dodaj szczegy zadania..."})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:p.status,onChange:A=>h({...p,status:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-slate-800/70",children:[i.jsx("option",{value:"todo",className:"bg-slate-800 text-white py-2",children:"Do zrobienia"}),i.jsx("option",{value:"in_progress",className:"bg-slate-800 text-white py-2",children:"W trakcie"}),i.jsx("option",{value:"done",className:"bg-slate-800 text-white py-2",children:"Ukoczone"})]}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Priorytet"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:p.priority,onChange:A=>h({...p,priority:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-slate-800/70",children:[i.jsx("option",{value:"low",className:"bg-slate-800 text-white py-2",children:"Niski"}),i.jsx("option",{value:"medium",className:"bg-slate-800 text-white py-2",children:"redni"}),i.jsx("option",{value:"high",className:"bg-slate-800 text-white py-2",children:"Wysoki"})]}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Przypisane do"}),i.jsx("input",{type:"text",value:p.assigned_to,onChange:A=>h({...p,assigned_to:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300",placeholder:"Jan Kowalski"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Termin"}),i.jsx("input",{type:"date",value:p.due_date,onChange:A=>h({...p,due_date:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tagi (oddzielone przecinkami)"}),i.jsx("input",{type:"text",value:p.tags,onChange:A=>h({...p,tags:A.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300",placeholder:"design, pilne, marketing"})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 rounded-xl bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all duration-300",children:"Anuluj"}),i.jsxs("button",{type:"submit",className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-violet-500 text-white font-medium shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300",children:[i.jsx(Wl,{className:"w-5 h-5"}),"Zapisz"]})]})]})]})]})})}function Hx(){const[e,t]=k.useState([]),[n,r]=k.useState(!1),[s,o]=k.useState(null),[a,l]=k.useState("todo");k.useEffect(()=>{c()},[]);const c=async()=>{const{data:h}=await R.from("board_tasks").select(`
        *,
        client:clients(*),
        lead:leads(*)
      `).order("order_index",{ascending:!0});h&&t(h)},d=h=>{o(null),l(h),r(!0)},u=h=>{o(h),r(!0)},f=async h=>{confirm("Czy na pewno chcesz usun to zadanie?")&&(await R.from("board_tasks").delete().eq("id",h),c())},m=async(h,x)=>{await R.from("board_tasks").update({status:x,updated_at:new Date().toISOString()}).eq("id",h),c()},v=()=>{r(!1),c()},y=h=>{switch(h){case"high":return"bg-red-500/20 text-red-300 border-red-500/30";case"medium":return"bg-yellow-500/20 text-yellow-300 border-yellow-500/30";case"low":return"bg-green-500/20 text-green-300 border-green-500/30";default:return"bg-blue-500/20 text-blue-300 border-blue-500/30"}},_=h=>{switch(h){case"high":return"Wysoki";case"medium":return"redni";case"low":return"Niski";default:return h}},N=h=>h?new Date(h).toLocaleDateString("pl-PL",{day:"2-digit",month:"short"}):null,g=h=>h?new Date(h)<new Date:!1,p=[{id:"todo",title:"Do zrobienia",color:"from-blue-500 to-cyan-500"},{id:"in_progress",title:"W trakcie",color:"from-yellow-500 to-orange-500"},{id:"done",title:"Ukoczone",color:"from-green-500 to-emerald-500"}];return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Tablica zada"}),i.jsx("p",{className:"text-slate-400 mt-1",children:"Zarzdzaj swoimi zadaniami w stylu Kanban"})]})}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.map(h=>{const x=e.filter(w=>w.status===h.id);return i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:`p-4 rounded-t-2xl bg-gradient-to-r ${h.color}`,children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[h.title,i.jsx("span",{className:"px-2 py-1 rounded-full bg-white/20 text-sm",children:x.length})]}),i.jsx("button",{onClick:()=>d(h.id),className:"p-1.5 rounded-lg bg-white/20 hover:bg-white/30 transition-all duration-300",children:i.jsx(on,{className:"w-5 h-5 text-white"})})]})}),i.jsx("div",{className:"flex-1 p-4 backdrop-blur-xl bg-white/5 border border-white/10 border-t-0 rounded-b-2xl min-h-[400px] space-y-3",children:x.length===0?i.jsx("div",{className:"text-center py-12 text-slate-500",children:i.jsx("p",{className:"text-sm",children:"Brak zada"})}):x.map(w=>{var C,z,T,V,M,A;return i.jsxs("div",{className:"p-4 rounded-xl backdrop-blur-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 group cursor-pointer",onClick:()=>u(w),children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsx("h4",{className:"font-semibold text-white flex-1",children:w.title}),i.jsx("button",{onClick:q=>{q.stopPropagation(),f(w.id)},className:"p-1 rounded-lg bg-red-500/20 text-red-300 opacity-0 group-hover:opacity-100 transition-opacity hover:bg-red-500/30",children:i.jsx(dr,{className:"w-4 h-4"})})]}),(w.client||w.lead)&&i.jsxs("div",{className:"mb-3 p-2 rounded-lg bg-white/5 border border-white/10",children:[i.jsx("p",{className:"text-xs text-slate-400 mb-1",children:w.client?"Klient":"Lead"}),i.jsx("p",{className:"text-sm font-medium text-white",children:((C=w.client)==null?void 0:C.name)||((z=w.lead)==null?void 0:z.name)}),(((T=w.client)==null?void 0:T.contact_person)||((V=w.lead)==null?void 0:V.contact_person))&&i.jsx("p",{className:"text-xs text-slate-400 mt-1",children:((M=w.client)==null?void 0:M.contact_person)||((A=w.lead)==null?void 0:A.contact_person)})]}),w.description&&i.jsx("p",{className:"text-sm text-slate-400 mb-3 line-clamp-2",children:w.description}),i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-medium border ${y(w.priority)}`,children:_(w.priority)}),w.due_date&&i.jsxs("div",{className:`flex items-center gap-1 text-xs ${g(w.due_date)?"text-red-400":"text-slate-400"}`,children:[i.jsx(sn,{className:"w-3 h-3"}),N(w.due_date)]})]}),w.assigned_to&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300 mb-2",children:[i.jsx(gs,{className:"w-4 h-4 text-slate-400"}),w.assigned_to]}),w.tags&&w.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 mb-3",children:w.tags.map(q=>i.jsxs("span",{className:"px-2 py-1 rounded-lg bg-white/10 text-xs text-slate-300 flex items-center gap-1",children:[i.jsx(Ki,{className:"w-3 h-3"}),q]},q))}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-white/10 flex gap-2",children:[h.id!=="todo"&&i.jsx("button",{onClick:q=>{q.stopPropagation(),m(w.id,h.id==="done"?"in_progress":"todo")},className:"flex-1 px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-slate-300 transition-all",children:" Wstecz"}),h.id!=="done"&&i.jsx("button",{onClick:q=>{q.stopPropagation(),m(w.id,h.id==="todo"?"in_progress":"done")},className:"flex-1 px-3 py-1.5 rounded-lg bg-white/5 hover:bg-white/10 text-xs text-slate-300 transition-all",children:"Dalej "})]})]},w.id)})})]},h.id)})}),n&&i.jsx(Wx,{task:s,onClose:()=>r(!1),onSave:v,defaultStatus:a})]})}function qx(){const[e,t]=k.useState([]);k.useEffect(()=>{n()},[]);const n=async()=>{const{data:l}=await R.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(10);l&&t(l)},r=l=>{switch(l){case"called":return Fe;case"created":return Hl;case"updated":return Pa;case"deleted":return dr;case"completed":return jt;case"status_changed":return km;case"converted":return jt;case"bulk_updated":return Pa;case"bulk_deleted":return dr;default:return Si}},s=l=>{switch(l){case"called":return"from-blue-500 to-cyan-500";case"created":return"from-green-500 to-emerald-500";case"updated":case"bulk_updated":return"from-yellow-500 to-orange-500";case"deleted":case"bulk_deleted":return"from-red-500 to-rose-500";case"completed":return"from-green-500 to-emerald-500";case"status_changed":return"from-violet-500 to-purple-500";case"converted":return"from-pink-500 to-rose-500";default:return"from-slate-500 to-slate-600"}},o=l=>{const c=new Date(l),u=Math.floor((new Date().getTime()-c.getTime())/1e3);return u<60?"Przed chwil":u<3600?`${Math.floor(u/60)} min temu`:u<86400?`${Math.floor(u/3600)} godz. temu`:u<604800?`${Math.floor(u/86400)} dni temu`:c.toLocaleDateString("pl-PL",{day:"2-digit",month:"short",year:"numeric"})},a=l=>{switch(l){case"created":return"Utworzono";case"updated":return"Zaktualizowano";case"deleted":return"Usunito";case"completed":return"Ukoczono";case"status_changed":return"Zmiana statusu";case"converted":return"Skonwertowano";case"called":return"Wykonano poczenie";case"bulk_updated":return"Masowa aktualizacja";case"bulk_deleted":return"Masowe usunicie";default:return"Akcja"}};return i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center shadow-lg",children:i.jsx(sn,{className:"w-5 h-5 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-white",children:"Ostatnia aktywno"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Logi systemowe w czasie rzeczywistym"})]})]}),i.jsx("div",{className:"space-y-4",children:e.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx(sn,{className:"w-12 h-12 text-slate-600 mx-auto mb-3"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Brak aktywnoci"})]}):e.map((l,c)=>{const d=r(l.action_type),u=s(l.action_type);return i.jsxs("div",{className:"flex gap-4 group hover:bg-white/5 p-3 rounded-xl transition-all duration-300 cursor-pointer",style:{animationDelay:`${c*50}ms`},children:[i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:`w-10 h-10 rounded-xl bg-gradient-to-br ${u} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform flex-shrink-0`,children:i.jsx(d,{className:"w-5 h-5 text-white"})}),c<e.length-1&&i.jsx("div",{className:"absolute top-10 left-5 w-0.5 h-8 bg-gradient-to-b from-white/20 to-transparent"})]}),i.jsx("div",{className:"flex-1 min-w-0",children:i.jsx("div",{className:"flex items-start justify-between gap-2",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-semibold text-white text-sm group-hover:text-blue-400 transition-colors",children:a(l.action_type)}),i.jsx("p",{className:"text-sm text-slate-400 mt-0.5 line-clamp-2",children:l.description}),i.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[i.jsx("span",{className:"px-2 py-0.5 rounded-full bg-white/10 text-xs text-slate-300",children:l.user_name}),i.jsx("span",{className:"text-xs text-slate-500",children:o(l.created_at)})]})]})})})]},l.id)})}),i.jsx("button",{onClick:n,className:"w-full mt-4 py-2 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 text-slate-300 hover:text-white text-sm font-medium transition-all duration-300",children:"Odwie aktywnoci"})]})}const Fs={success:"Udana",no_answer:"Nie odebra",answered:"Odebra",callback_later:"Zadzwoni pniej",completed:"Dobity",rejected:"Odrzucone",busy:"Zajty",wrong_number:"Zy numer",failed:"Nieudana"},$o={success:"from-green-500/20 to-emerald-500/20 border-green-500/30 text-green-300",no_answer:"from-amber-500/20 to-orange-500/20 border-amber-500/30 text-amber-300",answered:"from-blue-500/20 to-cyan-500/20 border-blue-500/30 text-blue-300",callback_later:"from-violet-500/20 to-purple-500/20 border-violet-500/30 text-violet-300",completed:"from-green-500/20 to-emerald-500/20 border-green-500/30 text-green-300",rejected:"from-red-500/20 to-orange-500/20 border-red-500/30 text-red-300",busy:"from-yellow-500/20 to-amber-500/20 border-yellow-500/30 text-yellow-300",wrong_number:"from-slate-500/20 to-gray-500/20 border-slate-500/30 text-slate-300",failed:"from-red-500/20 to-rose-500/20 border-red-500/30 text-red-300"},Ro={success:jt,no_answer:bm,answered:wm,callback_later:ym,completed:jt,rejected:lu,busy:sn,wrong_number:jm,failed:lu};function Vx(){const[e,t]=k.useState([]),[n,r]=k.useState(!1),[s,o]=k.useState("Adel"),[a,l]=k.useState([]),[c,d]=k.useState([]),[u,f]=k.useState({agent_name:"Adel",contact_name:"",phone_number:"",duration:"",outcome:"no_answer",notes:"",client_id:"",lead_id:""});k.useEffect(()=>{m(),v()},[]);const m=async()=>{const h=new Date().toISOString().split("T")[0],{data:x}=await R.from("call_logs").select("*").eq("call_date",h).order("created_at",{ascending:!1});t(x||[])},v=async()=>{const{data:h}=await R.from("clients").select("*"),{data:x}=await R.from("leads").select("*");l(h||[]),d(x||[])},y=h=>{const x=e.filter(w=>w.agent_name===h);return{total:x.length,success:x.filter(w=>w.outcome==="success").length,no_answer:x.filter(w=>w.outcome==="no_answer").length,answered:x.filter(w=>w.outcome==="answered").length,callback_later:x.filter(w=>w.outcome==="callback_later").length,completed:x.filter(w=>w.outcome==="completed").length,rejected:x.filter(w=>w.outcome==="rejected").length,busy:x.filter(w=>w.outcome==="busy").length,wrong_number:x.filter(w=>w.outcome==="wrong_number").length,failed:x.filter(w=>w.outcome==="failed").length,totalDuration:x.reduce((w,C)=>w+C.duration,0)}},_=async h=>{h.preventDefault();const x={agent_name:u.agent_name,contact_name:u.contact_name,phone_number:u.phone_number,duration:parseInt(u.duration)||0,outcome:u.outcome,notes:u.notes,client_id:u.client_id||null,lead_id:u.lead_id||null,call_date:new Date().toISOString().split("T")[0]};await R.from("call_logs").insert(x),r(!1),f({agent_name:"Adel",contact_name:"",phone_number:"",duration:"",outcome:"no_answer",notes:"",client_id:"",lead_id:""}),m()},N=h=>{const x=Math.floor(h/60),w=h%60;return`${x}:${w.toString().padStart(2,"0")}`},g=y("Adel"),p=y("Sebastian");return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold bg-gradient-to-r from-cyan-400 to-blue-400 bg-clip-text text-transparent mb-2",children:"Podsumowanie Dnia"}),i.jsx("p",{className:"text-slate-400",children:"Tracking pocze telefonicznych"})]}),i.jsxs("button",{onClick:()=>r(!0),className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:shadow-lg hover:scale-105 transition-all duration-300",children:[i.jsx(on,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium",children:"Dodaj rozmow"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-gradient-to-br from-cyan-500/10 to-blue-500/10 border border-cyan-500/30 shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center text-white text-xl font-bold shadow-lg",children:"A"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white",children:"Adel"}),i.jsxs("p",{className:"text-sm text-slate-400",children:[g.total," pocze dzisiaj"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Fe,{className:"w-5 h-5 text-cyan-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Wszystkich"})]}),i.jsx("p",{className:"text-3xl font-bold text-white",children:g.total})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(sn,{className:"w-5 h-5 text-blue-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Czas"})]}),i.jsx("p",{className:"text-3xl font-bold text-white",children:N(g.totalDuration)})]})]}),i.jsx("div",{className:"space-y-2",children:Object.entries(g).map(([h,x])=>{if(h==="total"||h==="totalDuration"||x===0)return null;const w=Ro[h]||Fe;return i.jsxs("div",{className:`p-3 rounded-xl bg-gradient-to-r ${$o[h]} border backdrop-blur-sm flex items-center justify-between group hover:scale-[1.02] transition-all`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(w,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium text-white",children:Fs[h]})]}),i.jsx("span",{className:"text-2xl font-bold",children:x})]},h)})})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-gradient-to-br from-violet-500/10 to-purple-500/10 border border-violet-500/30 shadow-xl",children:[i.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[i.jsx("div",{className:"w-14 h-14 rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center text-white text-xl font-bold shadow-lg",children:"S"}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-white",children:"Sebastian"}),i.jsxs("p",{className:"text-sm text-slate-400",children:[p.total," pocze dzisiaj"]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(Fe,{className:"w-5 h-5 text-violet-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Wszystkich"})]}),i.jsx("p",{className:"text-3xl font-bold text-white",children:p.total})]}),i.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx(sn,{className:"w-5 h-5 text-purple-400"}),i.jsx("span",{className:"text-sm text-slate-400",children:"Czas"})]}),i.jsx("p",{className:"text-3xl font-bold text-white",children:N(p.totalDuration)})]})]}),i.jsx("div",{className:"space-y-2",children:Object.entries(p).map(([h,x])=>{if(h==="total"||h==="totalDuration"||x===0)return null;const w=Ro[h]||Fe;return i.jsxs("div",{className:`p-3 rounded-xl bg-gradient-to-r ${$o[h]} border backdrop-blur-sm flex items-center justify-between group hover:scale-[1.02] transition-all`,children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(w,{className:"w-5 h-5"}),i.jsx("span",{className:"font-medium text-white",children:Fs[h]})]}),i.jsx("span",{className:"text-2xl font-bold",children:x})]},h)})})]})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-white",children:"Historia pocze dzisiaj"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>o("Adel"),className:`px-4 py-2 rounded-lg transition-all ${s==="Adel"?"bg-gradient-to-r from-cyan-500 to-blue-500 text-white":"bg-white/5 text-slate-400 hover:text-white"}`,children:"Adel"}),i.jsx("button",{onClick:()=>o("Sebastian"),className:`px-4 py-2 rounded-lg transition-all ${s==="Sebastian"?"bg-gradient-to-r from-violet-500 to-purple-500 text-white":"bg-white/5 text-slate-400 hover:text-white"}`,children:"Sebastian"})]})]}),i.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2",children:[e.filter(h=>h.agent_name===s).map((h,x)=>{const w=Ro[h.outcome]||Fe;return i.jsx("div",{className:`p-4 rounded-xl bg-gradient-to-r ${$o[h.outcome]} border backdrop-blur-sm hover:scale-[1.01] transition-all animate-slide-in`,style:{animationDelay:`${x*50}ms`},children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex items-start gap-3 flex-1",children:[i.jsx(w,{className:"w-6 h-6 mt-1"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-bold text-white text-lg mb-1",children:h.contact_name}),i.jsx("p",{className:"text-sm text-slate-300 mb-2",children:h.phone_number}),h.notes&&i.jsx("p",{className:"text-sm text-slate-400 italic",children:h.notes})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("span",{className:"px-3 py-1 rounded-full bg-white/20 text-xs font-medium text-white",children:Fs[h.outcome]}),h.duration>0&&i.jsx("p",{className:"text-xs text-slate-400 mt-2",children:N(h.duration)})]})]})},h.id)}),e.filter(h=>h.agent_name===s).length===0&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Fe,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),i.jsxs("p",{className:"text-slate-400",children:["Brak pocze dla ",s," dzisiaj"]})]})]})]}),n&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-fade-in",children:i.jsxs("div",{className:"bg-slate-900 rounded-2xl p-8 max-w-2xl w-full border border-white/10 shadow-2xl animate-scale-in max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Dodaj rozmow"}),i.jsx("button",{onClick:()=>r(!1),className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kt,{className:"w-5 h-5 text-slate-400"})})]}),i.jsxs("form",{onSubmit:_,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Agent"}),i.jsxs("div",{className:"relative",children:[i.jsx(gs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400 pointer-events-none z-10"}),i.jsxs("select",{required:!0,value:u.agent_name,onChange:h=>f({...u,agent_name:h.target.value}),className:"w-full pl-12 pr-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-slate-800/70",children:[i.jsx("option",{value:"Adel",className:"bg-slate-800 text-white py-2",children:"Adel"}),i.jsx("option",{value:"Sebastian",className:"bg-slate-800 text-white py-2",children:"Sebastian"})]}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Imi i nazwisko"}),i.jsx("input",{type:"text",required:!0,value:u.contact_name,onChange:h=>f({...u,contact_name:h.target.value}),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all",placeholder:"Jan Kowalski"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Numer telefonu"}),i.jsx("input",{type:"tel",required:!0,value:u.phone_number,onChange:h=>f({...u,phone_number:h.target.value}),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all",placeholder:"+48 123 456 789"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Czas trwania (sekundy)"}),i.jsx("input",{type:"number",value:u.duration,onChange:h=>f({...u,duration:h.target.value}),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all",placeholder:"120"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Wynik rozmowy"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:u.outcome,onChange:h=>f({...u,outcome:h.target.value}),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-slate-800/70",children:Object.entries(Fs).map(([h,x])=>i.jsx("option",{value:h,className:"bg-slate-800 text-white py-2",children:x},h))}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Klient (opcjonalnie)"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:u.client_id,onChange:h=>f({...u,client_id:h.target.value,lead_id:""}),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-slate-800/70",children:[i.jsx("option",{value:"",className:"bg-slate-800 text-white",children:"Wybierz klienta"}),a.map(h=>i.jsx("option",{value:h.id,className:"bg-slate-800 text-white py-2",children:h.name},h.id))]}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Lead (opcjonalnie)"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:u.lead_id,onChange:h=>f({...u,lead_id:h.target.value,client_id:""}),className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-slate-800/70",children:[i.jsx("option",{value:"",className:"bg-slate-800 text-white",children:"Wybierz lead"}),c.map(h=>i.jsx("option",{value:h.id,className:"bg-slate-800 text-white py-2",children:h.name},h.id))]}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Notatki"}),i.jsx("textarea",{value:u.notes,onChange:h=>f({...u,notes:h.target.value}),rows:3,className:"w-full px-4 py-3 bg-slate-800/50 border border-slate-700 rounded-xl text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-transparent transition-all",placeholder:"Dodatkowe informacje o rozmowie..."})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>r(!1),className:"flex-1 px-6 py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 text-white transition-all",children:"Anuluj"}),i.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 rounded-xl bg-gradient-to-r from-cyan-500 to-blue-500 text-white hover:shadow-lg hover:scale-105 transition-all duration-300",children:"Dodaj rozmow"})]})]})]})})]})}const ti=[{id:"lead-generation",title:"Pozyskiwanie leadw",description:"Zbieranie kontaktw, formularze, call to action",icon:""},{id:"sales",title:"Sprzeda usug",description:"Prezentacja oferty, cenniki, procesy zakupowe",icon:""},{id:"branding",title:"Budowa wizerunku",description:"Prezentacja marki, storytelling, portfolio",icon:""},{id:"recruitment",title:"Rekrutacja",description:"Oferty pracy, kultura firmy, proces aplikacji",icon:""},{id:"landing",title:"Landing pod kampani",description:"Dedykowana strona pod konkretn akcj marketingow",icon:""}],Ha=[{id:"one-page",title:"One Page",description:"Jedna strona z pynnymi sekcjami, idealna do prezentacji oferty i szybkiej konwersji",icon:""},{id:"multi-page",title:"Strona z podstronami",description:"Klasyczna struktura z nawigacj i oddzielnymi podstronami dla rnych treci",icon:""},{id:"advanced",title:"Strona zaawansowana",description:"Rozbudowana architektura z wieloma sekcjami, skalowalna i premium",icon:""}],zi=[{id:"minimal",title:"Minimal / Clean",description:"Czyste linie, duo biaej przestrzeni, minimalistyczne",keywords:"minimalistyczny, czysty, przestronny, elegancki, Swiss design"},{id:"luxury",title:"Luxury / Premium",description:"Ekskluzywny, elegancki, wysokiej jakoci detale",keywords:"premium, luksusowy, elegancki, wyrafinowany, zote akcenty, serif fonts"},{id:"tech-saas",title:"Tech / SaaS",description:"Nowoczesny, technologiczny, dynamiczny",keywords:"nowoczesny, technologiczny, gradienty, animacje, glassmorphism, Web 3.0"},{id:"creative",title:"Creative / Bold",description:"Odwany, kreatywny, nietypowe ukady",keywords:"kreatywny, odwany, asymetryczny, artystyczny, wyrazisty, nietypowy"},{id:"local-business",title:"Local Business",description:"Lokalny, przystpny, zaufany",keywords:"lokalny, przystpny, ciepy, zaufany, tradycyjny, przyjazny"}],_f=[{id:"hero",label:"Hero Section",description:"Sekcja powitalna z gwnym przekazem"},{id:"case-studies",label:"Case Studies",description:"Studium przypadkw / realizacje"},{id:"faq",label:"FAQ",description:"Najczciej zadawane pytania"},{id:"testimonials",label:"Opinie klientw",description:"Referencje i recenzje"},{id:"blog",label:"Blog / Aktualnoci",description:"Sekcja z artykuami i newsami"},{id:"multi-step-form",label:"Formularz wieloetapowy",description:"Zaawansowany formularz kontaktowy"},{id:"crm-integration",label:"Integracja z CRM",description:"Automatyczne przesyanie leadw do CRM"},{id:"team",label:"Zesp",description:"Prezentacja zespou"},{id:"pricing",label:"Cennik",description:"Tabela z pakietami i cenami"},{id:"calculator",label:"Kalkulator",description:"Interaktywny kalkulator wyceny"}],Kx=e=>({"lead-generation":`Gwny cel: **pozyskiwanie leadw**
- Wyrane formularze kontaktowe
- Mocne CTA w kluczowych miejscach
- atwy dostp do kontaktu
- Magnes leadowy (ebook, konsultacja, wycena)`,sales:`Gwny cel: **sprzeda usug**
- Prezentacja oferty i pakietw
- Cennik lub kalkulatory wyceny
- Proces zakupowy krok po kroku
- Social proof i case studies`,branding:`Gwny cel: **budowa wizerunku marki**
- Storytelling i historia firmy
- Wyrazista identyfikacja wizualna
- Portfolio i realizacje
- Wartoci i misja firmy`,recruitment:`Gwny cel: **rekrutacja pracownikw**
- Oferty pracy
- Kultura organizacyjna
- Benefity i rozwj
- Prosty proces aplikacji`,landing:`Gwny cel: **landing page pod kampani**
- Jeden jasny przekaz
- Fokus na konwersj
- Szybki czas adowania
- A/B testing ready`})[e],Gx=e=>({"one-page":`Typ: **One Page**
- Pynne scrollowanie midzy sekcjami
- Wszystkie informacje na jednej stronie
- Idealna do szybkiej prezentacji oferty`,"multi-page":`Typ: **Strona z podstronami**
- Strona gwna
- O firmie
- Oferta / Usugi
- Realizacje / Portfolio
- Kontakt
- Czytelna nawigacja gwna`,advanced:`Typ: **Strona zaawansowana**
- Wiele podstron i sekcji tematycznych
- Rozbudowana architektura informacji
- Skalowalna struktura
- System komponentw wielokrotnego uytku`})[e],Zx=e=>{const t=zi.find(n=>n.id===e);return`Styl wizualny: **${t==null?void 0:t.title}**
${t==null?void 0:t.keywords}`},Jx=e=>e.length===0?"":`

Dodatkowe sekcje do uwzgldnienia:
${e.map(n=>{const r=_f.find(s=>s.id===n);return r?`- ${r.label}`:""}).filter(Boolean).join(`
`)}`,Qx=e=>{if(!e||e.length===0)return"";const t=["kolor gwny","kolor uzupeniajcy","kolor akcentowy"];return`

Preferowana kolorystyka strony:
${e.map((r,s)=>`- ${t[s]||`kolor ${s+1}`}: ${r}`).join(`
`)}

Zastosuj kolory spjnie w caym projekcie, zachowujc czytelno i kontrast.`},Xx=e=>{const{goal:t,type:n,style:r,sections:s,lead:o,colors:a}=e;return`Stwrz profesjonaln, responsywn stron internetow dla firmy "${o.name}".

INFORMACJE O FIRMIE:
Brana: ${o.category||"Nie okrelono"}
${o.site?`Obecna strona: ${o.site}`:""}
${o.owner_link?`Profil Google: ${o.owner_link}`:""}
${o.description?`
Opis dziaalnoci:
${o.description}`:""}

CEL STRONY:
${Kx(t)}

STRUKTURA:
${Gx(n)}

DESIGN:
${Zx(r)}
- Responsywny design (mobile-first)
- Mikrointerakcje i animacje
- Smooth transitions i hover effects
- Wysoka estetyka i dbao o detale
${Jx(s)}${Qx(a)}

UX/UI:
- Intuicyjna nawigacja
- Czytelna hierarchia informacji
- Szybki czas adowania
- Dostpno (WCAG)
- Zoptymalizowana pod konwersj
- Nowoczesna typografia

WYMAGANIA TECHNICZNE:
- W peni responsywna strona
- Zoptymalizowana wydajno
- SEO-friendly struktura
- Formularze z walidacj
- Integracja z Google Analytics`},Yx=e=>{const t=[];return(!e.description||e.description.trim().length<20)&&t.push({field:"Opis dziaalnoci",question:"Czy moemy uzyska wicej szczegw o dziaalnoci firmy?",priority:"high"}),e.site||t.push({field:"Strona internetowa",question:"Czy firma posiada aktualnie stron www? (link)",priority:"medium"}),e.owner_link||t.push({field:"Profil Google",question:"Czy firma ma profil w Google Moja Firma? (link)",priority:"medium"}),t.push({field:"Logo i identyfikacja wizualna",question:"Czy firma posiada logo i ksig znaku? Jakie s kolory firmowe?",priority:"high"}),t.push({field:"Grupa docelowa",question:"Kto jest gwnym odbiorc strony? (wiek, brana, lokalizacja)",priority:"high"}),t.push({field:"Konkurencja",question:"Jakie s gwne firmy konkurencyjne? Ich strony www?",priority:"medium"}),t.push({field:"Materiay",question:"Czy firma dysponuje zdjciami, grafikami, treciami gotowymi do publikacji?",priority:"medium"}),t.push({field:"Budet",question:"Jaki jest zakadany budet na realizacj projektu?",priority:"high"}),t.push({field:"Deadline",question:"Jaki jest preferowany termin oddania projektu?",priority:"medium"}),t};function ev({colors:e,onChange:t,maxColors:n=3}){const[r,s]=k.useState(!1),[o,a]=k.useState(null),[l,c]=k.useState(220),[d,u]=k.useState(90),[f,m]=k.useState(91),[v,y]=k.useState({r:26,g:115,b:232}),[_,N]=k.useState("#1A73E8"),g=k.useRef(null),p=k.useRef(null),[h,x]=k.useState(!1),[w,C]=k.useState(!1),z=(b,L,F)=>{L=L/100,F=F/100;const S=F*L,H=S*(1-Math.abs(b/60%2-1)),ee=F-S;let re=0,j=0,I=0;return b>=0&&b<60?(re=S,j=H,I=0):b>=60&&b<120?(re=H,j=S,I=0):b>=120&&b<180?(re=0,j=S,I=H):b>=180&&b<240?(re=0,j=H,I=S):b>=240&&b<300?(re=H,j=0,I=S):b>=300&&b<360&&(re=S,j=0,I=H),{r:Math.round((re+ee)*255),g:Math.round((j+ee)*255),b:Math.round((I+ee)*255)}},T=(b,L,F)=>"#"+[b,L,F].map(S=>{const H=S.toString(16);return H.length===1?"0"+H:H}).join("").toUpperCase(),V=b=>{const L=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(b);return L?{r:parseInt(L[1],16),g:parseInt(L[2],16),b:parseInt(L[3],16)}:null},M=(b,L,F)=>{b=b/255,L=L/255,F=F/255;const S=Math.max(b,L,F),H=Math.min(b,L,F),ee=S-H;let re=0;const j=S===0?0:ee/S,I=S;if(S!==H)switch(S){case b:re=((L-F)/ee+(L<F?6:0))/6;break;case L:re=((F-b)/ee+2)/6;break;case F:re=((b-L)/ee+4)/6;break}return{h:Math.round(re*360),s:Math.round(j*100),v:Math.round(I*100)}},A=(b,L,F)=>{const S=z(b,L,F),H=T(S.r,S.g,S.b);y(S),N(H)},q=b=>{if(!g.current)return;const L=g.current.getBoundingClientRect(),F=Math.max(0,Math.min(b.clientX-L.left,L.width)),S=Math.max(0,Math.min(b.clientY-L.top,L.height)),H=Math.round(F/L.width*100),ee=Math.round(100-S/L.height*100);u(H),m(ee),A(l,H,ee)},K=b=>{if(!p.current)return;const L=p.current.getBoundingClientRect(),F=Math.max(0,Math.min(b.clientY-L.top,L.height)),S=Math.round(F/L.height*360);c(S),A(S,d,f)},X=b=>{if(N(b),/^#[0-9A-F]{6}$/i.test(b)){const L=V(b);if(L){y(L);const F=M(L.r,L.g,L.b);c(F.h),u(F.s),m(F.v)}}},xe=(b,L)=>{const F=Math.max(0,Math.min(255,parseInt(L)||0)),S={...v,[b]:F};y(S);const H=M(S.r,S.g,S.b);c(H.h),u(H.s),m(H.v),N(T(S.r,S.g,S.b))};k.useEffect(()=>{const b=F=>{if(h&&g.current){const S=g.current.getBoundingClientRect(),H=Math.max(0,Math.min(F.clientX-S.left,S.width)),ee=Math.max(0,Math.min(F.clientY-S.top,S.height)),re=Math.round(H/S.width*100),j=Math.round(100-ee/S.height*100);u(re),m(j),A(l,re,j)}else if(w&&p.current){const S=p.current.getBoundingClientRect(),H=Math.max(0,Math.min(F.clientY-S.top,S.height)),ee=Math.round(H/S.height*360);c(ee),A(ee,d,f)}},L=()=>{x(!1),C(!1)};if(h||w)return document.addEventListener("mousemove",b),document.addEventListener("mouseup",L),()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",L)}},[h,w,l,d,f]);const _e=()=>{if(o!==null){const b=[...e];b[o]=_,t(b),a(null),s(!1)}else e.length<n&&(t([...e,_]),s(!1))},O=b=>{t(e.filter((L,F)=>F!==b)),o===b&&(a(null),s(!1))},E=(b,L)=>{const F=V(L);if(F){y(F);const S=M(F.r,F.g,F.b);c(S.h),u(S.s),m(S.v),N(L),a(b),s(!0)}},U=()=>{c(220),u(90),m(91),y({r:26,g:115,b:232}),N("#1A73E8"),a(null),s(!0)},B=["Kolor gwny","Kolor uzupeniajcy","Kolor akcentowy"];return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Bl,{className:"w-5 h-5 text-violet-400"}),i.jsx("h4",{className:"text-lg font-semibold text-white",children:"Preferowana kolorystyka"}),i.jsx("span",{className:"text-sm text-slate-400",children:"(opcjonalne)"})]}),i.jsxs("span",{className:"text-xs text-slate-500",children:[e.length," / ",n]})]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Wybierz do ",n," kolorw, ktre bd uyte w projekcie strony"]}),e.length>0&&i.jsx("div",{className:"space-y-3",children:e.map((b,L)=>i.jsxs("div",{className:"flex items-center gap-3 p-3 bg-slate-800/50 border border-slate-700/50 rounded-xl hover:border-violet-500/30 transition-all",children:[i.jsx("button",{onClick:()=>E(L,b),className:"relative w-14 h-14 rounded-lg cursor-pointer border-2 border-slate-600 hover:border-violet-500 transition-all hover:scale-105",style:{backgroundColor:b}}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:B[L]||`Kolor ${L+1}`}),i.jsx("p",{className:"text-xs text-slate-400 font-mono mt-1",children:b})]}),i.jsx("button",{onClick:()=>O(L),className:"p-2 hover:bg-red-500/10 text-red-400 rounded-lg transition-colors",children:i.jsx(kt,{className:"w-4 h-4"})})]},L))}),e.length<n&&!r&&i.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center gap-2 px-4 py-3 rounded-xl border-2 border-dashed border-slate-700 hover:border-violet-500/50 bg-slate-800/30 hover:bg-violet-500/5 text-slate-400 hover:text-violet-400 transition-all",children:[i.jsx(on,{className:"w-4 h-4"}),"Dodaj kolor"]}),r&&i.jsxs("div",{className:"p-5 bg-slate-800/50 border border-violet-500/30 rounded-xl space-y-4 animate-scale-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("p",{className:"text-sm font-medium text-white",children:"Wybierz kolor"}),i.jsx("button",{onClick:()=>s(!1),className:"p-1 hover:bg-white/10 rounded transition-colors",children:i.jsx(kt,{className:"w-4 h-4 text-slate-400"})})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("div",{className:"flex-1",children:i.jsx("div",{ref:g,onMouseDown:b=>{x(!0),q(b)},onClick:q,className:"relative w-full h-48 rounded-lg cursor-crosshair overflow-hidden border-2 border-slate-700",style:{background:`
                    linear-gradient(to bottom, transparent, black),
                    linear-gradient(to right, white, hsl(${l}, 100%, 50%))
                  `},children:i.jsx("div",{className:"absolute w-4 h-4 rounded-full border-2 border-white shadow-lg pointer-events-none",style:{left:`calc(${d}% - 8px)`,top:`calc(${100-f}% - 8px)`,backgroundColor:_}})})}),i.jsx("div",{ref:p,onMouseDown:b=>{C(!0),K(b)},onClick:K,className:"relative w-8 h-48 rounded-lg cursor-pointer overflow-hidden border-2 border-slate-700",style:{background:"linear-gradient(to bottom, #ff0000 0%, #ffff00 17%, #00ff00 33%, #00ffff 50%, #0000ff 67%, #ff00ff 83%, #ff0000 100%)"},children:i.jsx("div",{className:"absolute left-0 w-full h-1 border-2 border-white shadow-lg pointer-events-none",style:{top:`calc(${l/360*100}% - 2px)`}})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-lg border-2 border-slate-600 shadow-lg flex-shrink-0",style:{backgroundColor:_}}),i.jsx("div",{className:"flex-1 space-y-2",children:i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Hex:"}),i.jsx("input",{type:"text",value:_,onChange:b=>X(b.target.value.toUpperCase()),className:"w-full px-3 py-2 bg-slate-900 border border-slate-700 rounded-lg text-white font-mono text-sm focus:outline-none focus:ring-1 focus:ring-violet-500",placeholder:"#HEXHEX",maxLength:7})]})})]}),i.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Odc:"}),i.jsx("input",{type:"number",value:v.r,onChange:b=>xe("r",b.target.value),min:"0",max:"255",className:"w-full px-2 py-1.5 bg-slate-900 border border-slate-700 rounded text-white text-sm focus:outline-none focus:ring-1 focus:ring-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Nas.:"}),i.jsx("input",{type:"number",value:v.g,onChange:b=>xe("g",b.target.value),min:"0",max:"255",className:"w-full px-2 py-1.5 bg-slate-900 border border-slate-700 rounded text-white text-sm focus:outline-none focus:ring-1 focus:ring-violet-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 mb-1 block",children:"Ziel.:"}),i.jsx("input",{type:"number",value:v.b,onChange:b=>xe("b",b.target.value),min:"0",max:"255",className:"w-full px-2 py-1.5 bg-slate-900 border border-slate-700 rounded text-white text-sm focus:outline-none focus:ring-1 focus:ring-violet-500"})]})]}),i.jsx("button",{onClick:_e,disabled:o===null&&e.length>=n,className:"w-full px-4 py-2.5 rounded-lg bg-gradient-to-r from-violet-500 to-purple-500 text-white font-medium shadow-lg hover:shadow-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:o!==null?"Zapisz zmiany":"Dodaj kolor"})]})]})}function tv({lead:e,onClose:t,onPromptSaved:n}){var O,E,U,B;const[r,s]=k.useState("goal"),[o,a]=k.useState(null),[l,c]=k.useState("one-page"),[d,u]=k.useState("tech-saas"),[f,m]=k.useState(["hero","testimonials","faq"]),[v,y]=k.useState([]),[_,N]=k.useState(""),[g,p]=k.useState(!1),[h,x]=k.useState(!1),[w,C]=k.useState(!1),[z,T]=k.useState(!1),V=b=>{a(b),s("config")},M=()=>{if(!o)return;const b={name:e.name,category:e.category||"Nie okrelono",site:e.site,owner_link:e.owner_link,description:e.description,phone:e.phone,email:e.email},L={goal:o,type:l,style:d,sections:f,lead:b,colors:v.length>0?v:void 0},F=Xx(L);N(F),s("preview")},A=async()=>{if(o){C(!0);try{const{error:b}=await R.from("saved_prompts").insert({lead_id:e.id,content:_,goal:o,type:l,style:d,sections:f,colors:v.length>0?v:null,is_final:!1});if(b)throw b;T(!0),setTimeout(()=>{T(!1),n&&n()},2e3)}catch(b){console.error("Error saving prompt:",b),alert("Nie udao si zapisa promptu")}finally{C(!1)}}},q=async()=>{try{await navigator.clipboard.writeText(_),p(!0),setTimeout(()=>p(!1),2e3)}catch(b){console.error("Failed to copy:",b)}},K=()=>{r==="preview"?(s("config"),x(!1)):r==="config"&&s("goal")},X=b=>{m(L=>L.includes(b)?L.filter(F=>F!==b):[...L,b])},xe=Yx({name:e.name,category:e.category||"",site:e.site,owner_link:e.owner_link,description:e.description,phone:e.phone,email:e.email}),_e=()=>{switch(r){case"goal":return"Wybierz cel strony";case"config":return"Konfiguracja projektu";case"preview":return"Wygenerowany prompt";default:return""}};return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center p-4 z-50 animate-fade-in",children:i.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-xl border border-white/10 rounded-3xl shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-hidden animate-scale-in",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-gradient-to-r from-violet-500/10 to-purple-500/10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center shadow-lg",children:i.jsx(ei,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-violet-400 to-purple-400 bg-clip-text text-transparent",children:"Generator Promptw"}),i.jsxs("p",{className:"text-sm text-slate-400",children:[_e(),"  ",e.name]})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kt,{className:"w-6 h-6 text-slate-400"})})]}),i.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:[r==="goal"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"Jaki jest gwny cel strony internetowej?"}),i.jsx("p",{className:"text-slate-400",children:"Ten wybr pomoe dopasowa prompt do potrzeb klienta"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:ti.map(b=>i.jsxs("button",{onClick:()=>V(b.id),className:"group relative p-6 rounded-2xl bg-gradient-to-br from-slate-800/50 to-slate-900/50 border border-slate-700/50 hover:border-violet-500/50 transition-all duration-300 hover:scale-105 hover:shadow-xl hover:shadow-violet-500/20 text-left",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-violet-500/0 to-purple-500/0 group-hover:from-violet-500/10 group-hover:to-purple-500/10 rounded-2xl transition-all duration-300"}),i.jsxs("div",{className:"relative z-10",children:[i.jsx("div",{className:"text-5xl mb-4 transform group-hover:scale-110 transition-transform duration-300",children:b.icon}),i.jsx("h4",{className:"text-lg font-bold text-white mb-2 group-hover:text-violet-300 transition-colors",children:b.title}),i.jsx("p",{className:"text-sm text-slate-400 leading-relaxed mb-4",children:b.description}),i.jsxs("div",{className:"flex items-center gap-2 text-violet-400 opacity-0 group-hover:opacity-100 transition-opacity",children:[i.jsx("span",{className:"text-sm font-medium",children:"Wybierz"}),i.jsx(am,{className:"w-4 h-4"})]})]})]},b.id))})]}),r==="config"&&i.jsxs("div",{className:"space-y-8",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-1",children:"Konfiguruj projekt"}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Cel: ",i.jsx("span",{className:"text-violet-400 font-medium",children:(O=ti.find(b=>b.id===o))==null?void 0:O.title})]})]}),i.jsx("button",{onClick:K,className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white transition-colors text-sm font-medium",children:" Zmie cel"})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"w-8 h-8 rounded-lg bg-violet-500/20 border border-violet-500/30 flex items-center justify-center text-violet-300 text-sm font-bold",children:"1"}),"Typ strony"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:Ha.map(b=>i.jsxs("button",{onClick:()=>c(b.id),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left ${l===b.id?"bg-gradient-to-br from-violet-500/20 to-purple-500/20 border-violet-500 shadow-lg shadow-violet-500/20":"bg-slate-800/30 border-slate-700/50 hover:border-violet-500/30"}`,children:[i.jsx("div",{className:"text-3xl mb-2",children:b.icon}),i.jsx("h5",{className:"font-bold text-white mb-1",children:b.title}),i.jsx("p",{className:"text-xs text-slate-400",children:b.description})]},b.id))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"w-8 h-8 rounded-lg bg-violet-500/20 border border-violet-500/30 flex items-center justify-center text-violet-300 text-sm font-bold",children:"2"}),"Styl wizualny"]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:zi.map(b=>i.jsxs("button",{onClick:()=>u(b.id),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left ${d===b.id?"bg-gradient-to-br from-violet-500/20 to-purple-500/20 border-violet-500 shadow-lg shadow-violet-500/20":"bg-slate-800/30 border-slate-700/50 hover:border-violet-500/30"}`,children:[i.jsx("h5",{className:"font-bold text-white mb-1",children:b.title}),i.jsx("p",{className:"text-xs text-slate-400",children:b.description})]},b.id))})]}),i.jsxs("div",{children:[i.jsxs("h4",{className:"text-lg font-semibold text-white mb-3 flex items-center gap-2",children:[i.jsx("span",{className:"w-8 h-8 rounded-lg bg-violet-500/20 border border-violet-500/30 flex items-center justify-center text-violet-300 text-sm font-bold",children:"3"}),"Dodatkowe sekcje ",i.jsxs("span",{className:"text-sm font-normal text-slate-400",children:["(",f.length," wybrano)"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:_f.map(b=>i.jsxs("button",{onClick:()=>X(b.id),className:`p-4 rounded-xl border-2 transition-all duration-300 text-left flex items-start gap-3 ${f.includes(b.id)?"bg-gradient-to-br from-violet-500/20 to-purple-500/20 border-violet-500 shadow-lg shadow-violet-500/20":"bg-slate-800/30 border-slate-700/50 hover:border-violet-500/30"}`,children:[i.jsx("div",{className:`w-5 h-5 rounded border-2 flex items-center justify-center flex-shrink-0 mt-0.5 transition-all ${f.includes(b.id)?"bg-violet-500 border-violet-500":"border-slate-500"}`,children:f.includes(b.id)&&i.jsx(yn,{className:"w-3 h-3 text-white"})}),i.jsxs("div",{children:[i.jsx("h5",{className:"font-medium text-white mb-0.5",children:b.label}),i.jsx("p",{className:"text-xs text-slate-400",children:b.description})]})]},b.id))})]}),i.jsx("div",{className:"p-6 rounded-2xl bg-slate-800/30 border border-slate-700/50",children:i.jsx(ev,{colors:v,onChange:y,maxColors:3})}),i.jsxs("button",{onClick:M,className:"w-full flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-gradient-to-r from-violet-500 to-purple-500 text-white font-semibold shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 hover:scale-105 transition-all duration-300",children:[i.jsx(ei,{className:"w-5 h-5"}),"Generuj prompt"]})]}),r==="preview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center gap-2 mb-2",children:i.jsxs("h3",{className:"text-xl font-bold text-white",children:["Gotowy prompt dla ",e.name]})}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Cel: ",i.jsx("span",{className:"text-violet-400",children:(E=ti.find(b=>b.id===o))==null?void 0:E.title}),"  Typ: ",i.jsx("span",{className:"text-violet-400",children:(U=Ha.find(b=>b.id===l))==null?void 0:U.title}),"  Styl: ",i.jsx("span",{className:"text-violet-400",children:(B=zi.find(b=>b.id===d))==null?void 0:B.title})]})]}),i.jsx("button",{onClick:K,className:"px-4 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-white transition-colors text-sm font-medium",children:" Zmie konfiguracj"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -top-2 -left-2 w-full h-full bg-gradient-to-br from-violet-500/20 to-purple-500/20 rounded-2xl blur-xl"}),i.jsx("textarea",{value:_,onChange:b=>{N(b.target.value),x(!0)},rows:20,className:"relative w-full px-6 py-4 bg-slate-800/50 border border-slate-700 rounded-2xl text-white font-mono text-sm leading-relaxed focus:outline-none focus:ring-2 focus:ring-violet-500 focus:border-transparent transition-all resize-none backdrop-blur-xl",placeholder:"Wygenerowany prompt pojawi si tutaj..."})]}),h&&i.jsxs("div",{className:"flex items-center gap-2 text-amber-400 text-sm bg-amber-500/10 border border-amber-500/30 rounded-lg px-4 py-2",children:[i.jsx(ei,{className:"w-4 h-4"}),i.jsx("span",{children:"Prompt zosta zmodyfikowany"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:q,disabled:g,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-gradient-to-r from-violet-500 to-purple-500 text-white font-semibold shadow-lg shadow-violet-500/30 hover:shadow-xl hover:shadow-violet-500/40 hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:g?i.jsxs(i.Fragment,{children:[i.jsx(yn,{className:"w-5 h-5"}),"Skopiowano!"]}):i.jsxs(i.Fragment,{children:[i.jsx(Vh,{className:"w-5 h-5"}),"Kopiuj prompt"]})}),i.jsx("button",{onClick:A,disabled:w||z,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-gradient-to-r from-green-500 to-emerald-500 text-white font-semibold shadow-lg shadow-green-500/30 hover:shadow-xl hover:shadow-green-500/40 hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:z?i.jsxs(i.Fragment,{children:[i.jsx(yn,{className:"w-5 h-5"}),"Zapisano!"]}):i.jsxs(i.Fragment,{children:[i.jsx(Wl,{className:"w-5 h-5"}),w?"Zapisywanie...":"Zapisz prompt"]})}),i.jsx("button",{onClick:t,className:"px-6 py-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 text-white font-medium transition-all",children:"Zamknij"})]}),i.jsxs("div",{className:"p-6 rounded-2xl bg-gradient-to-br from-orange-500/10 to-red-500/10 border border-orange-500/30",children:[i.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[i.jsx(Ml,{className:"w-6 h-6 text-orange-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-bold text-orange-300 mb-2",children:"Co jeszcze powinnimy zapyta klienta?"}),i.jsx("p",{className:"text-sm text-orange-200/80 mb-4",children:"Ponisze informacje pomog doprecyzowa projekt i unikn problemw w trakcie realizacji"})]})]}),i.jsx("div",{className:"space-y-3",children:xe.map((b,L)=>i.jsx("div",{className:`p-4 rounded-lg border-2 ${b.priority==="high"?"bg-red-500/10 border-red-500/30":b.priority==="medium"?"bg-amber-500/10 border-amber-500/30":"bg-blue-500/10 border-blue-500/30"}`,children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-bold uppercase ${b.priority==="high"?"bg-red-500/20 text-red-300":b.priority==="medium"?"bg-amber-500/20 text-amber-300":"bg-blue-500/20 text-blue-300"}`,children:b.priority==="high"?"Wane":b.priority==="medium"?"rednie":"Opcjonalne"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-medium text-white mb-1",children:b.field}),i.jsx("p",{className:"text-sm text-slate-300",children:b.question})]})]})},L))})]}),i.jsx("div",{className:"p-4 rounded-xl bg-green-500/10 border border-green-500/30",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(yn,{className:"w-5 h-5 text-green-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm text-green-300",children:[i.jsx("p",{className:"font-medium mb-1",children:"Gotowe do uycia"}),i.jsx("p",{className:"text-green-200/80",children:"Skopiuj prompt i wklej go bezporednio do Bolta lub innego narzdzia AI. Moesz dowolnie edytowa tre przed skopiowaniem."})]})]})})]})]})]})})}function nv({prompt:e,onClose:t,onUpdate:n}){const[r,s]=k.useState(!1),[o,a]=k.useState(!1),l=async()=>{try{await navigator.clipboard.writeText(e.content),s(!0),setTimeout(()=>s(!1),2e3)}catch(v){console.error("Failed to copy:",v)}},c=async()=>{a(!0);try{const{error:v}=await R.from("saved_prompts").update({is_final:!e.is_final}).eq("id",e.id);if(v)throw v;n&&n(),setTimeout(()=>{t()},500)}catch(v){console.error("Error marking prompt as final:",v),alert("Nie udao si oznaczy promptu")}finally{a(!1)}},d=e.goal?ti.find(v=>v.id===e.goal):null,u=e.type?Ha.find(v=>v.id===e.type):null,f=e.style?zi.find(v=>v.id===e.style):null,m=v=>{const y=new Date(v);return new Intl.DateTimeFormat("pl-PL",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(y)};return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-md flex items-center justify-center p-4 z-50 animate-fade-in",children:i.jsxs("div",{className:"bg-slate-900/95 backdrop-blur-xl border border-white/10 rounded-3xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden animate-scale-in",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-gradient-to-r from-blue-500/10 to-cyan-500/10",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"text-2xl",children:(u==null?void 0:u.icon)||""}),i.jsxs("div",{children:[i.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:["Zapisany prompt",e.is_final&&i.jsx(rr,{className:"w-5 h-5 text-amber-400 fill-amber-400"})]}),i.jsxs("p",{className:"text-sm text-slate-400",children:["Utworzono: ",m(e.created_at)]})]})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kt,{className:"w-6 h-6 text-slate-400"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-180px)]",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[d&&i.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-violet-500/20 border border-violet-500/30 text-violet-300 text-sm font-medium",children:[d.icon," ",d.title]}),u&&i.jsxs("div",{className:"px-3 py-1.5 rounded-lg bg-blue-500/20 border border-blue-500/30 text-blue-300 text-sm font-medium",children:[u.icon," ",u.title]}),f&&i.jsx("div",{className:"px-3 py-1.5 rounded-lg bg-purple-500/20 border border-purple-500/30 text-purple-300 text-sm font-medium",children:f.title})]}),e.colors&&e.colors.length>0&&i.jsxs("div",{className:"p-4 rounded-xl bg-slate-800/50 border border-slate-700/50",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx(Bl,{className:"w-5 h-5 text-violet-400"}),i.jsx("h3",{className:"text-sm font-semibold text-white",children:"Uyte kolory"})]}),i.jsx("div",{className:"flex items-center gap-3 flex-wrap",children:e.colors.map((v,y)=>i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-lg border-2 border-white/20",style:{backgroundColor:v}}),i.jsx("span",{className:"text-sm font-mono text-slate-300",children:v})]},y))})]}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute -top-2 -left-2 w-full h-full bg-gradient-to-br from-blue-500/20 to-cyan-500/20 rounded-2xl blur-xl"}),i.jsx("textarea",{value:e.content,readOnly:!0,rows:20,className:"relative w-full px-6 py-4 bg-slate-800/50 border border-slate-700 rounded-2xl text-white font-mono text-sm leading-relaxed focus:outline-none resize-none backdrop-blur-xl"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:l,disabled:r,className:"flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-gradient-to-r from-blue-500 to-cyan-500 text-white font-semibold shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:r?i.jsxs(i.Fragment,{children:[i.jsx(yn,{className:"w-5 h-5"}),"Skopiowano!"]}):i.jsxs(i.Fragment,{children:[i.jsx(Vh,{className:"w-5 h-5"}),"Kopiuj"]})}),i.jsxs("button",{onClick:c,disabled:o,className:`flex-1 flex items-center justify-center gap-2 px-6 py-4 rounded-xl font-semibold shadow-lg transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed ${e.is_final?"bg-gradient-to-r from-slate-600 to-slate-700 text-white hover:shadow-xl hover:scale-105":"bg-gradient-to-r from-amber-500 to-orange-500 text-white shadow-amber-500/30 hover:shadow-xl hover:shadow-amber-500/40 hover:scale-105"}`,children:[i.jsx(rr,{className:`w-5 h-5 ${e.is_final?"":"fill-white"}`}),o?"Zapisywanie...":e.is_final?"Usu oznaczenie finalnego":"Oznacz jako finalny"]}),i.jsx("button",{onClick:t,className:"px-6 py-4 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 text-white font-medium transition-all",children:"Zamknij"})]}),e.is_final&&i.jsx("div",{className:"p-4 rounded-xl bg-amber-500/10 border border-amber-500/30",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx(rr,{className:"w-5 h-5 text-amber-400 fill-amber-400 mt-0.5 flex-shrink-0"}),i.jsxs("div",{className:"text-sm text-amber-300",children:[i.jsx("p",{className:"font-medium mb-1",children:"Prompt finalny"}),i.jsx("p",{className:"text-amber-200/80",children:"Ten prompt zosta oznaczony jako wersja finalna dla tego leada."})]})]})})]})})]})})}function rv({lead:e,onBack:t}){const[n,r]=k.useState(e),[s,o]=k.useState([]),[a,l]=k.useState([]),[c,d]=k.useState([]),[u,f]=k.useState([]),[m,v]=k.useState(!1),[y,_]=k.useState(null),[N,g]=k.useState(!1),[p,h]=k.useState(e.description||""),[x,w]=k.useState(!1),[C,z]=k.useState(!1),[T,V]=k.useState({title:"",description:"",due_date:"",priority:"medium"}),[M,A]=k.useState(!1),[q,K]=k.useState({notes:"",duration:"",outcome:""});k.useEffect(()=>{X()},[n.id]);const X=async()=>{const{data:S}=await R.from("leads").select("*").eq("id",n.id).single();S&&(r(S),h(S.description||""));const{data:H}=await R.from("saved_prompts").select("*").eq("lead_id",n.id).order("created_at",{ascending:!1});H&&o(H);const{data:ee}=await R.from("calls").select("*").eq("lead_id",n.id).order("call_date",{ascending:!1});ee&&l(ee);const{data:re}=await R.from("tasks").select("*").eq("lead_id",n.id).order("due_date",{ascending:!0});re&&d(re);const{data:j}=await R.from("description_history").select("*").eq("lead_id",n.id).order("created_at",{ascending:!1});j&&f(j)},xe=async()=>{p.trim()!==n.description&&await R.from("description_history").insert([{lead_id:n.id,description:p,created_by:"Admin"}]),await R.from("leads").update({description:p}).eq("id",n.id),await R.from("activity_logs").insert([{action_type:"updated",entity_type:"lead",entity_id:n.id,entity_name:n.name,description:`Zaktualizowano opis leada: ${n.name}`,user_name:"Admin"}]),g(!1),X()},_e=async()=>{!T.title||!T.due_date||(await R.from("tasks").insert([{lead_id:n.id,title:T.title,description:T.description,due_date:T.due_date,priority:T.priority,completed:!1}]),await R.from("activity_logs").insert([{action_type:"created",entity_type:"task",entity_name:T.title,description:`Dodano zadanie dla leada ${n.name}: ${T.title}`,user_name:"Admin"}]),V({title:"",description:"",due_date:"",priority:"medium"}),z(!1),X())},O=async()=>{q.notes&&(await R.from("calls").insert([{lead_id:n.id,call_date:new Date().toISOString(),duration:parseInt(q.duration)||0,notes:q.notes,outcome:q.outcome}]),await R.from("activity_logs").insert([{action_type:"called",entity_type:"call",entity_name:n.name,description:`Wykonano poczenie z leadem: ${n.name}`,user_name:"Admin"}]),K({notes:"",duration:"",outcome:""}),A(!1),X())},E=async S=>{await R.from("tasks").update({completed:!S.completed}).eq("id",S.id),await R.from("activity_logs").insert([{action_type:S.completed?"updated":"completed",entity_type:"task",entity_name:S.title,description:S.completed?`Oznaczono zadanie jako nieukoczone: ${S.title}`:`Ukoczono zadanie: ${S.title}`,user_name:"Admin"}]),X()},U=async(S,H)=>{confirm("Czy na pewno chcesz usun to zadanie?")&&(await R.from("tasks").delete().eq("id",S),await R.from("activity_logs").insert([{action_type:"deleted",entity_type:"task",entity_name:H,description:`Usunito zadanie: ${H}`,user_name:"Admin"}]),X())},B=async S=>{confirm("Czy na pewno chcesz usun t rozmow?")&&(await R.from("calls").delete().eq("id",S),await R.from("activity_logs").insert([{action_type:"deleted",entity_type:"call",entity_name:n.name,description:`Usunito rozmow z leadem: ${n.name}`,user_name:"Admin"}]),X())},b=S=>{const H=new Date(S);return new Intl.DateTimeFormat("pl-PL",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(H)},L=S=>S?new Date(S).toLocaleDateString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",F=S=>{switch(S){case"high":return"text-red-400 bg-red-500/20 border border-red-500/30";case"medium":return"text-yellow-400 bg-yellow-500/20 border border-yellow-500/30";case"low":return"text-green-400 bg-green-500/20 border border-green-500/30";default:return"text-slate-400 bg-slate-500/20 border border-slate-500/30"}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-8",children:[i.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[i.jsxs("button",{onClick:t,className:"flex items-center gap-2 text-slate-400 hover:text-white transition-all duration-300 hover:gap-3 group",children:[i.jsx(Wh,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),i.jsx("span",{children:"Powrt do listy leadw"})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-white/20",children:[i.jsx("div",{className:"flex items-start justify-between mb-6",children:i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-3xl font-bold text-white mb-3 bg-gradient-to-r from-white to-blue-200 bg-clip-text text-transparent",children:n.name}),i.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[i.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium border transition-all duration-300 hover:scale-105 ${Jl(n.category)}`,children:n.category}),i.jsx("span",{className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-300 hover:scale-105 ${yf(n.status)}`,children:bf(n.status)}),n.location&&i.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium bg-cyan-500/20 text-cyan-300 border border-cyan-500/30 transition-all duration-300 hover:scale-105",children:n.location}),n.service&&i.jsx("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium bg-orange-500/20 text-orange-300 border border-orange-500/30 transition-all duration-300 hover:scale-105",children:n.service})]})]})}),i.jsxs("div",{className:"space-y-3",children:[n.phone&&i.jsxs("div",{className:"flex items-center gap-3 text-slate-300 group hover:text-blue-400 transition-colors duration-300",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors duration-300",children:i.jsx(Fe,{className:"w-4 h-4 text-blue-400"})}),i.jsx("span",{className:"text-sm",children:n.phone})]}),n.email&&i.jsxs("div",{className:"flex items-center gap-3 text-slate-300 group hover:text-blue-400 transition-colors duration-300",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors duration-300",children:i.jsx(Vi,{className:"w-4 h-4 text-blue-400"})}),i.jsx("span",{className:"text-sm",children:n.email})]}),n.site&&i.jsxs("div",{className:"flex items-center gap-3 text-slate-300 group hover:text-blue-400 transition-colors duration-300",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors duration-300",children:i.jsx(Fl,{className:"w-4 h-4 text-blue-400"})}),i.jsx("a",{href:n.site,target:"_blank",rel:"noopener noreferrer",className:"text-sm hover:underline",children:n.site})]}),n.contact_person&&i.jsxs("div",{className:"flex items-center gap-3 text-slate-300 group hover:text-blue-400 transition-colors duration-300",children:[i.jsx("div",{className:"p-2 rounded-lg bg-blue-500/10 group-hover:bg-blue-500/20 transition-colors duration-300",children:i.jsx(rr,{className:"w-4 h-4 text-blue-400"})}),i.jsxs("span",{className:"text-sm",children:["Osoba kontaktowa: ",n.contact_person]})]})]})]}),n.notes&&i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-gradient-to-br from-amber-500/10 to-orange-500/10 border border-amber-500/30 shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-amber-500/50",children:[i.jsxs("h2",{className:"text-xl font-bold text-amber-400 flex items-center gap-2 mb-4",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-amber-500 to-orange-500",children:i.jsx(Si,{className:"w-5 h-5"})}),"Notatka z ostatniej rozmowy"]}),i.jsx("p",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed",children:n.notes})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-blue-500 to-violet-500",children:i.jsx(Si,{className:"w-5 h-5"})}),"Opis"]}),i.jsx("div",{className:"flex gap-2",children:!N&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>g(!0),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 text-white text-sm hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-blue-500/50 hover:scale-105 active:scale-95",children:n.description?"Edytuj opis":"Dodaj opis"}),i.jsxs("button",{onClick:()=>w(!x),className:"px-4 py-2 rounded-lg bg-white/5 text-white text-sm hover:bg-white/10 transition-all duration-300 flex items-center gap-2 hover:scale-105 active:scale-95",children:[i.jsx(dm,{className:"w-4 h-4"}),"Historia"]})]})})]}),N?i.jsxs("div",{className:"space-y-3",children:[i.jsx("textarea",{value:p,onChange:S=>h(S.target.value),rows:6,className:"w-full px-4 py-3 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none transition-all duration-300",placeholder:"Dodaj szczegowy opis leada...",autoFocus:!0}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:xe,className:"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 text-white hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-blue-500/50 hover:scale-105 active:scale-95",children:"Zapisz"}),i.jsx("button",{onClick:()=>{h(n.description||""),g(!1)},className:"px-4 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-600 transition-all duration-300 hover:scale-105 active:scale-95",children:"Anuluj"})]})]}):i.jsx("p",{className:"text-slate-300 whitespace-pre-wrap leading-relaxed",children:n.description||i.jsx("span",{className:"text-slate-500 italic",children:"Brak opisu"})}),x&&i.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 ",children:[i.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Historia zmian opisu"}),u.length===0?i.jsx("p",{className:"text-sm text-slate-400 text-center py-4",children:"Brak historii"}):i.jsx("div",{className:"space-y-3 max-h-64 overflow-y-auto scrollbar-hide",children:u.map((S,H)=>i.jsxs("div",{className:"p-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-300 ",style:{animationDelay:`${H*.05}s`},children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("span",{className:"text-xs text-slate-400",children:b(S.created_at)}),i.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-400",children:S.created_by})]}),i.jsx("p",{className:"text-sm text-slate-300 whitespace-pre-wrap",children:S.description})]},S.id))})]})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-green-500 to-emerald-500",children:i.jsx(jt,{className:"w-5 h-5"})}),"Zadania"]}),i.jsxs("button",{onClick:()=>z(!C),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 text-white text-sm hover:from-green-600 hover:to-emerald-600 transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-green-500/50 hover:scale-105 active:scale-95",children:[i.jsx(on,{className:"w-4 h-4"}),"Dodaj zadanie"]})]}),C&&i.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-white/5 border border-white/10 space-y-3 ",children:[i.jsx("input",{type:"text",value:T.title,onChange:S=>V({...T,title:S.target.value}),placeholder:"Tytu zadania",className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",autoFocus:!0}),i.jsx("textarea",{value:T.description,onChange:S=>V({...T,description:S.target.value}),placeholder:"Opis zadania",rows:2,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent resize-none transition-all duration-300"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("input",{type:"date",value:T.due_date,onChange:S=>V({...T,due_date:S.target.value}),className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300"}),i.jsxs("select",{value:T.priority,onChange:S=>V({...T,priority:S.target.value}),className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-300",children:[i.jsx("option",{value:"low",children:"Niski priorytet"}),i.jsx("option",{value:"medium",children:"redni priorytet"}),i.jsx("option",{value:"high",children:"Wysoki priorytet"})]})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:_e,className:"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-green-500 to-emerald-500 text-white hover:from-green-600 hover:to-emerald-600 transition-all duration-300 shadow-lg hover:shadow-green-500/50 hover:scale-105 active:scale-95",children:"Zapisz zadanie"}),i.jsx("button",{onClick:()=>{z(!1),V({title:"",description:"",due_date:"",priority:"medium"})},className:"px-4 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-600 transition-all duration-300 hover:scale-105 active:scale-95",children:"Anuluj"})]})]}),i.jsx("div",{className:"space-y-3",children:c.length===0?i.jsx("p",{className:"text-slate-400 text-center py-8 italic",children:"Brak zada"}):c.map((S,H)=>i.jsx("div",{className:`p-4 rounded-lg border transition-all duration-300 hover:scale-[1.02]  ${S.completed?"bg-green-500/10 border-green-500/30 hover:bg-green-500/20":"bg-white/5 border-white/10 hover:bg-white/10 hover:border-white/20"}`,style:{animationDelay:`${H*.05}s`},children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("button",{onClick:()=>E(S),className:`mt-1 w-5 h-5 rounded border-2 flex items-center justify-center transition-all duration-300 hover:scale-110 ${S.completed?"bg-green-500 border-green-500":"border-white/30 hover:border-green-500"}`,children:S.completed&&i.jsx(jt,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-medium transition-all duration-300 ${S.completed?"line-through text-slate-500":"text-white"}`,children:S.title}),S.description&&i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:S.description}),i.jsxs("div",{className:"flex items-center gap-3 mt-2",children:[i.jsx("span",{className:`text-xs px-2 py-1 rounded ${F(S.priority)}`,children:S.priority==="high"?"Wysoki":S.priority==="medium"?"redni":"Niski"}),i.jsxs("span",{className:"text-xs text-slate-400",children:[i.jsx(sn,{className:"w-3 h-3 inline mr-1"}),L(S.due_date)]})]})]}),i.jsx("button",{onClick:()=>U(S.id,S.title),className:"text-red-400 hover:text-red-300 transition-all duration-300 hover:scale-110 active:scale-95",children:i.jsx(dr,{className:"w-4 h-4"})})]})},S.id))})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-white/20",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-orange-500 to-red-500",children:i.jsx(Fe,{className:"w-5 h-5"})}),"Rozmowy"]}),i.jsxs("button",{onClick:()=>A(!M),className:"px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500 text-white text-sm hover:from-orange-600 hover:to-red-600 transition-all duration-300 flex items-center gap-2 shadow-lg hover:shadow-orange-500/50 hover:scale-105 active:scale-95",children:[i.jsx(on,{className:"w-4 h-4"}),"Dodaj rozmow"]})]}),M&&i.jsxs("div",{className:"mb-4 p-4 rounded-lg bg-white/5 border border-white/10 space-y-3 ",children:[i.jsx("textarea",{value:q.notes,onChange:S=>K({...q,notes:S.target.value}),placeholder:"Notatki z rozmowy",rows:3,className:"w-full px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent resize-none transition-all duration-300",autoFocus:!0}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("input",{type:"number",value:q.duration,onChange:S=>K({...q,duration:S.target.value}),placeholder:"Czas trwania (min)",className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300"}),i.jsx("input",{type:"text",value:q.outcome,onChange:S=>K({...q,outcome:S.target.value}),placeholder:"Wynik rozmowy",className:"px-3 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-300"})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("button",{onClick:O,className:"flex-1 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500 text-white hover:from-orange-600 hover:to-red-600 transition-all duration-300 shadow-lg hover:shadow-orange-500/50 hover:scale-105 active:scale-95",children:"Zapisz rozmow"}),i.jsx("button",{onClick:()=>{A(!1),K({notes:"",duration:"",outcome:""})},className:"px-4 py-2 rounded-lg bg-slate-700 text-white hover:bg-slate-600 transition-all duration-300 hover:scale-105 active:scale-95",children:"Anuluj"})]})]}),i.jsx("div",{className:"space-y-3",children:a.length===0?i.jsx("p",{className:"text-slate-400 text-center py-8 italic",children:"Brak rozmw"}):a.map((S,H)=>i.jsx("div",{className:"p-4 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 hover:border-white/20 transition-all duration-300 hover:scale-[1.02] ",style:{animationDelay:`${H*.05}s`},children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2 flex-wrap",children:[i.jsx("span",{className:"text-xs text-slate-400",children:b(S.call_date)}),S.duration&&i.jsxs("span",{className:"text-xs px-2 py-1 rounded bg-slate-700 text-slate-300",children:[S.duration," min"]}),S.outcome&&i.jsx("span",{className:"text-xs px-2 py-1 rounded bg-blue-500/20 text-blue-400 border border-blue-500/30",children:S.outcome})]}),i.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:S.notes})]}),i.jsx("button",{onClick:()=>B(S.id),className:"text-red-400 hover:text-red-300 transition-all duration-300 hover:scale-110 active:scale-95",children:i.jsx(dr,{className:"w-4 h-4"})})]})},S.id))})]})]}),i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl hover:shadow-2xl transition-all duration-300 hover:border-white/20 sticky top-8",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[i.jsx("div",{className:"p-2 rounded-lg bg-gradient-to-br from-violet-500 to-purple-500",children:i.jsx(ei,{className:"w-5 h-5"})}),"AI Prompts"]}),i.jsx("button",{onClick:()=>v(!0),className:"w-full px-4 py-3 rounded-lg bg-gradient-to-r from-violet-500 to-purple-500 text-white hover:from-violet-600 hover:to-purple-600 transition-all duration-300 shadow-lg hover:shadow-violet-500/50 font-medium hover:scale-105 active:scale-95",children:"Wygeneruj nowy prompt"}),i.jsx("div",{className:"mt-4 space-y-2",children:s.map((S,H)=>i.jsxs("button",{onClick:()=>_(S),className:"w-full p-3 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/20 text-left transition-all duration-300 hover:scale-[1.02] ",style:{animationDelay:`${H*.05}s`},children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400 mb-1",children:[i.jsx(ls,{className:"w-3 h-3"}),L(S.created_at)]}),i.jsx("p",{className:"text-sm text-white font-medium",children:S.name})]},S.id))})]})})]})]}),m&&i.jsx(tv,{lead:n,onClose:()=>v(!1),onSaved:()=>{v(!1),X()}}),y&&i.jsx(nv,{prompt:y,onClose:()=>_(null)})]},n.id)}function Su(){const[e,t]=k.useState("overview"),[n,r]=k.useState([]),[s,o]=k.useState(null),[a,l]=k.useState(!1),[c,d]=k.useState([]),[u,f]=k.useState(new Set),[m,v]=k.useState(""),[y,_]=k.useState("all"),[N,g]=k.useState("all"),[p,h]=k.useState("all"),[x,w]=k.useState("all"),[C,z]=k.useState(!1),[T,V]=k.useState("date"),[M,A]=k.useState(!1),[q,K]=k.useState([]),[X,xe]=k.useState([]),[_e,O]=k.useState([]),[E,U]=k.useState({totalLeads:0,newLeads:0,noAnswer:0,appointmentScheduled:0,agreed:0,notInterested:0});k.useEffect(()=>{e==="overview"&&(B(),b())},[e]);const B=async()=>{const{data:j}=await R.from("leads").select("*").order("created_at",{ascending:!1}),{count:I}=await R.from("leads").select("*",{count:"exact",head:!0}),D=j||[],Z=D.filter(Me=>Me.status==="new"&&(Me.call_status==="pending"||!Me.call_status)).length,se=D.filter(Me=>Me.call_status==="no_answer").length,pe=D.filter(Me=>Me.call_status==="appointment_scheduled").length,mt=D.filter(Me=>Me.call_status==="agreed").length,De=D.filter(Me=>Me.call_status==="not_interested").length,{data:te}=await R.from("activity_logs").select("*").order("created_at",{ascending:!1}).limit(5);r(j||[]),d(te||[]),U({totalLeads:I||0,newLeads:Z||0,noAnswer:se||0,appointmentScheduled:pe||0,agreed:mt||0,notInterested:De||0})},b=async()=>{const{data:j}=await R.from("leads").select("category").not("category","is",null),{data:I}=await R.from("leads").select("location").not("location","is",null),{data:D}=await R.from("leads").select("owner_email").not("owner_email","is",null);if(j){const Z=[...new Set(j.map(se=>se.category).filter(Boolean))];K(Z.sort())}if(I){const Z=[...new Set(I.map(se=>se.location).filter(Boolean))];xe(Z.sort())}if(D){const Z=[...new Set(D.map(se=>se.owner_email).filter(Boolean))];O(Z.sort())}},L=(j,I)=>{I.stopPropagation();const D=new Set(u);D.has(j)?D.delete(j):D.add(j),f(D)},F=()=>{f(new Set),z(!1)},H=(()=>{let j=[...n];return C&&(j=j.filter(I=>u.has(I.id))),m&&(j=j.filter(I=>{var D;return I.name.toLowerCase().includes(m.toLowerCase())||((D=I.phone)==null?void 0:D.toLowerCase().includes(m.toLowerCase()))})),y!=="all"&&(j=j.filter(I=>I.category===y)),N!=="all"&&(j=j.filter(I=>I.location===N)),p!=="all"&&(j=j.filter(I=>I.owner_email===p)),x==="new"?j=j.filter(I=>I.status==="new"&&(I.call_status==="pending"||!I.call_status)):x!=="all"&&(j=j.filter(I=>I.call_status===x)),j.sort((I,D)=>{switch(T){case"name":return I.name.localeCompare(D.name);case"category":return I.category.localeCompare(D.category);case"date":default:return new Date(D.created_at).getTime()-new Date(I.created_at).getTime()}}),j})(),ee=j=>{const I=new Date(j),Z=Math.floor((new Date().getTime()-I.getTime())/1e3);return Z<60?"Przed chwil":Z<3600?`${Math.floor(Z/60)} min temu`:Z<86400?`${Math.floor(Z/3600)} godz. temu`:`${Math.floor(Z/86400)} dni temu`},re=j=>["deleted","bulk_deleted"].includes(j)?"warning":(["created","completed","converted"].includes(j)||["status_changed","updated"].includes(j),"info");return s?i.jsx(rv,{lead:s,onBack:()=>o(null)}):i.jsxs("div",{className:"space-y-8 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent mb-2",children:"Dashboard"}),i.jsx("p",{className:"text-slate-400",children:"Zarzdzaj leadami i rozwijaj swoj sprzeda"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 p-1 rounded-xl bg-white/5 backdrop-blur-sm border border-white/10",children:[i.jsxs("button",{onClick:()=>t("overview"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${e==="overview"?"bg-gradient-to-r from-blue-500 to-violet-500 text-white shadow-lg":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[i.jsx(Kh,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Leady"})]}),i.jsxs("button",{onClick:()=>t("analytics"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${e==="analytics"?"bg-gradient-to-r from-blue-500 to-violet-500 text-white shadow-lg":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[i.jsx(im,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Analityka"})]}),i.jsxs("button",{onClick:()=>t("kanban"),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${e==="kanban"?"bg-gradient-to-r from-blue-500 to-violet-500 text-white shadow-lg":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[i.jsx(hm,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Tablica"})]})]}),i.jsxs("div",{className:"relative",children:[i.jsxs("button",{onClick:()=>l(!a),className:"relative p-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 transition-all",children:[i.jsx(qh,{className:"w-5 h-5 text-slate-300"}),c.length>0&&i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),a&&i.jsxs("div",{className:"absolute right-0 top-14 w-80 p-4 rounded-xl bg-slate-900/95 backdrop-blur-xl border border-white/10 shadow-2xl z-50 animate-scale-in",children:[i.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Ostatnie zdarzenia"}),c.length===0?i.jsx("div",{className:"text-center py-4",children:i.jsx("p",{className:"text-sm text-slate-400",children:"Brak ostatnich zdarze"})}):i.jsx("div",{className:"space-y-2",children:c.map(j=>i.jsxs("div",{className:"p-3 rounded-lg bg-white/5 hover:bg-white/10 border border-white/10 transition-all cursor-pointer",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("p",{className:"text-sm text-white flex-1",children:j.description}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs ${re(j.action_type)==="warning"?"bg-yellow-500/20 text-yellow-300":"bg-blue-500/20 text-blue-300"}`,children:re(j.action_type)==="warning"?"Uwaga":"Info"})]}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx("span",{className:"text-xs text-slate-500",children:j.user_name}),i.jsx("span",{className:"text-xs text-slate-500",children:""}),i.jsx("span",{className:"text-xs text-slate-500",children:ee(j.created_at)})]})]},j.id))}),i.jsx("button",{onClick:()=>t("analytics"),className:"w-full mt-3 py-2 rounded-lg bg-white/5 hover:bg-white/10 text-sm text-slate-300 hover:text-white transition-all",children:"Zobacz wszystkie w Analityce"})]})]})]})]}),e==="overview"&&i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[i.jsxs("button",{onClick:()=>w("all"),className:`p-6 rounded-2xl backdrop-blur-xl border transition-all duration-300 hover:scale-105 text-left ${x==="all"?"bg-gradient-to-br from-blue-500/30 to-cyan-500/30 border-blue-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 shadow-lg",children:i.jsx(Fr,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-4xl font-bold text-white",children:E.totalLeads})]}),i.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Wszystkie leady"})]}),i.jsxs("button",{onClick:()=>w("new"),className:`p-6 rounded-2xl backdrop-blur-xl border transition-all duration-300 hover:scale-105 text-left ${x==="new"?"bg-gradient-to-br from-green-500/30 to-emerald-500/30 border-green-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-green-500 to-emerald-500 shadow-lg",children:i.jsx(rr,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-4xl font-bold text-white",children:E.newLeads})]}),i.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Nowe leady"})]}),i.jsxs("button",{onClick:()=>w("no_answer"),className:`p-6 rounded-2xl backdrop-blur-xl border transition-all duration-300 hover:scale-105 text-left ${x==="no_answer"?"bg-gradient-to-br from-yellow-500/30 to-orange-500/30 border-yellow-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-yellow-500 to-orange-500 shadow-lg",children:i.jsx(Fe,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-4xl font-bold text-white",children:E.noAnswer})]}),i.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Nie odebra"})]}),i.jsxs("button",{onClick:()=>w("appointment_scheduled"),className:`p-6 rounded-2xl backdrop-blur-xl border transition-all duration-300 hover:scale-105 text-left ${x==="appointment_scheduled"?"bg-gradient-to-br from-blue-500/30 to-violet-500/30 border-blue-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-blue-500 to-violet-500 shadow-lg",children:i.jsx(Nm,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-4xl font-bold text-white",children:E.appointmentScheduled})]}),i.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Umwiona rozmowa"})]}),i.jsxs("button",{onClick:()=>w("agreed"),className:`p-6 rounded-2xl backdrop-blur-xl border transition-all duration-300 hover:scale-105 text-left ${x==="agreed"?"bg-gradient-to-br from-violet-500/30 to-purple-500/30 border-violet-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-violet-500 to-purple-500 shadow-lg",children:i.jsx(rr,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-4xl font-bold text-white",children:E.agreed})]}),i.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Zgodzi si"})]}),i.jsxs("button",{onClick:()=>w("not_interested"),className:`p-6 rounded-2xl backdrop-blur-xl border transition-all duration-300 hover:scale-105 text-left ${x==="not_interested"?"bg-gradient-to-br from-red-500/30 to-pink-500/30 border-red-500/50":"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-red-500 to-pink-500 shadow-lg",children:i.jsx(Fr,{className:"w-6 h-6 text-white"})}),i.jsx("span",{className:"text-4xl font-bold text-white",children:E.notInterested})]}),i.jsx("h3",{className:"text-sm font-medium text-slate-300",children:"Nie zainteresowany"})]})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:"Twoje leady"}),i.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[u.size>0&&`Zaznaczono: ${u.size}  `,"Wywietlono: ",H.length," z ",n.length]})]}),i.jsxs("button",{onClick:()=>A(!M),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 hover:scale-105 active:scale-95 ${M||m||y!=="all"||N!=="all"||p!=="all"||C?"bg-gradient-to-r from-blue-500 to-violet-500 text-white shadow-lg":"bg-white/5 text-white hover:bg-white/10"}`,children:[i.jsx(Ul,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Filtry"}),i.jsx(om,{className:`w-4 h-4 transition-transform duration-300 ${M?"rotate-180":""}`})]})]}),M&&i.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-white/5 border border-white/10 space-y-4 animate-slide-down",children:[i.jsxs("div",{className:"relative",children:[i.jsx(cs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Szukaj po nazwie lub numerze telefonu...",value:m,onChange:j=>v(j.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-300"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Kategoria"}),i.jsxs("select",{value:y,onChange:j=>_(j.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Wszystkie kategorie"}),q.map(j=>i.jsx("option",{value:j,children:j},j))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Lokalizacja"}),i.jsxs("select",{value:N,onChange:j=>g(j.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Wszystkie lokalizacje"}),X.map(j=>i.jsx("option",{value:j,children:j},j))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Opiekun"}),i.jsxs("select",{value:p,onChange:j=>h(j.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Wszyscy opiekunowie"}),_e.map(j=>i.jsx("option",{value:j,children:j},j))]})]})]}),i.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[i.jsxs("button",{onClick:()=>z(!C),disabled:u.size===0,className:`flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-medium transition-all duration-300 ${C?"bg-orange-500 text-white shadow-lg":u.size===0?"bg-white/5 text-slate-600 cursor-not-allowed":"bg-white/5 text-slate-300 hover:bg-white/10 hover:text-white"}`,children:[i.jsx(yn,{className:"w-4 h-4"}),"Poka tylko zaznaczone (",u.size,")"]}),i.jsxs("button",{onClick:()=>{v(""),_("all"),g("all"),h("all"),V("date"),z(!1),F()},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 text-sm font-medium transition-all duration-300 hover:scale-105 active:scale-95",children:[i.jsx(kt,{className:"w-4 h-4"}),"Wyczy filtry"]})]})]}),u.size>0&&i.jsxs("div",{className:"mb-4 p-3 rounded-lg bg-blue-500/10 border border-blue-500/30 flex items-center justify-between animate-slide-down",children:[i.jsxs("p",{className:"text-sm text-blue-400",children:["Zaznaczono ",u.size," ",u.size===1?"lead":"leadw"]}),i.jsx("button",{onClick:F,className:"text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Odznacz wszystkie"})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:H.length===0?i.jsxs("div",{className:"col-span-2 text-center py-12",children:[i.jsx(Fr,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400 mb-2",children:n.length===0?"Brak leadw":"Nie znaleziono leadw speniajcych kryteria"}),(m||y!=="all"||N!=="all"||p!=="all"||C)&&i.jsx("button",{onClick:()=>{v(""),_("all"),g("all"),h("all"),z(!1)},className:"mt-2 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Wyczy filtry"})]}):H.map((j,I)=>i.jsxs("div",{className:"relative p-5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-blue-500/50 transition-all group animate-slide-in",style:{animationDelay:`${I*.05}s`},children:[i.jsx("div",{className:"absolute top-3 left-3 z-10",children:i.jsx("button",{onClick:D=>L(j.id,D),className:`w-6 h-6 rounded border-2 flex items-center justify-center transition-all duration-300 hover:scale-110 ${u.has(j.id)?"bg-blue-500 border-blue-500":"border-white/30 hover:border-blue-500 bg-slate-900/50"}`,children:u.has(j.id)&&i.jsx(yn,{className:"w-4 h-4 text-white"})})}),i.jsx("button",{onClick:()=>o(j),className:"w-full text-left",children:i.jsxs("div",{className:"flex items-start gap-4 pl-8",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:scale-110 transition-transform flex-shrink-0",children:j.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-blue-400 transition-colors mb-2",children:j.name}),i.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Jl(j.category)}`,children:j.category}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${yf(j.status)}`,children:bf(j.status)})]}),j.description&&i.jsx("p",{className:"text-sm text-slate-300 line-clamp-2 mb-3",children:j.description}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[j.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(Fe,{className:"w-3 h-3"}),j.phone]}),j.location&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(Gh,{className:"w-3 h-3"}),j.location]}),j.owner_email&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(gs,{className:"w-3 h-3"}),j.owner_email]}),j.site&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(Fl,{className:"w-3 h-3"}),i.jsx("a",{href:j.site,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors truncate",onClick:D=>D.stopPropagation(),children:j.site})]})]})]})]})})]},j.id))})]})]}),e==="kanban"&&i.jsx(Hx,{}),e==="analytics"&&i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsx(Vx,{}),i.jsx(qx,{})]})]})}function Nf({client:e,onClose:t,onSave:n}){var c,d;const[r,s]=k.useState({name:(e==null?void 0:e.name)||"",contact_person:(e==null?void 0:e.contact_person)||"",phone:(e==null?void 0:e.phone)||"",email:(e==null?void 0:e.email)||"",status:(e==null?void 0:e.status)||"active",description:(e==null?void 0:e.description)||"",tags:((c=e==null?void 0:e.tags)==null?void 0:c.join(", "))||"",next_contact:((d=e==null?void 0:e.next_contact)==null?void 0:d.split("T")[0])||""}),[o,a]=k.useState(!1),l=async u=>{u.preventDefault(),a(!0);const f=r.tags.split(",").map(v=>v.trim()).filter(v=>v.length>0),m={name:r.name,contact_person:r.contact_person||"",phone:r.phone||null,email:r.email||null,status:r.status,description:r.description,tags:f,next_contact:r.next_contact||null,updated_at:new Date().toISOString()};e?await R.from("clients").update(m).eq("id",e.id):await R.from("clients").insert([m]),a(!1),n()};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm animate-fade-in",children:i.jsxs("div",{className:"w-full max-w-2xl bg-slate-900/95 backdrop-blur-xl border border-white/10 rounded-2xl shadow-2xl animate-scale-in",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:e?"Edytuj klienta":"Dodaj nowego klienta"}),i.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-white/10 transition-colors",children:i.jsx(kt,{className:"w-6 h-6 text-slate-400"})})]}),i.jsxs("form",{onSubmit:l,className:"p-6 space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Nazwa klienta / Firma *"}),i.jsx("input",{type:"text",required:!0,value:r.name,onChange:u=>s({...r,name:u.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300",placeholder:"np. TechStart Sp. z o.o."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Imi i nazwisko kontaktu"}),i.jsx("input",{type:"text",value:r.contact_person,onChange:u=>s({...r,contact_person:u.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300",placeholder:"Jan Kowalski"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Telefon"}),i.jsx("input",{type:"tel",value:r.phone,onChange:u=>s({...r,phone:u.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300",placeholder:"+48 123 456 789"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),i.jsx("input",{type:"email",value:r.email,onChange:u=>s({...r,email:u.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300",placeholder:"kontakt@firma.pl"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Status"}),i.jsxs("div",{className:"relative",children:[i.jsx("select",{value:r.status,onChange:u=>s({...r,status:u.target.value}),className:"w-full px-4 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all appearance-none cursor-pointer hover:bg-slate-800/70",children:Yi.map(u=>i.jsx("option",{value:u.value,className:"bg-slate-800 text-white py-2",children:u.label},u.value))}),i.jsx("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Kolejny kontakt"}),i.jsx("input",{type:"date",value:r.next_contact,onChange:u=>s({...r,next_contact:u.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Tagi (oddzielone przecinkami)"}),i.jsx("input",{type:"text",value:r.tags,onChange:u=>s({...r,tags:u.target.value}),className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300",placeholder:"np. e-commerce, priorytet, duy-kontrakt"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Opis / Notatki"}),i.jsx("textarea",{value:r.description,onChange:u=>s({...r,description:u.target.value}),rows:4,className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all duration-300 resize-none",placeholder:"Dodaj notatki o kliencie..."})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 rounded-xl bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all duration-300",children:"Anuluj"}),i.jsxs("button",{type:"submit",disabled:o,className:"flex-1 flex items-center justify-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-violet-500 text-white font-medium shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(Wl,{className:"w-5 h-5"}),o?"Zapisywanie...":"Zapisz"]})]})]})]})})}function sv({client:e,onBack:t}){const[n,r]=k.useState(e),[s,o]=k.useState([]),[a,l]=k.useState([]),[c,d]=k.useState(!1),[u,f]=k.useState(!1),[m,v]=k.useState({title:"",description:"",due_date:"",priority:"medium"});k.useEffect(()=>{y()},[n.id]);const y=async()=>{const{data:x}=await R.from("clients").select("*").eq("id",n.id).single();x&&r(x);const{data:w}=await R.from("calls").select("*").eq("client_id",n.id).order("call_date",{ascending:!1});w&&o(w);const{data:C}=await R.from("tasks").select("*").eq("client_id",n.id).order("due_date",{ascending:!0});C&&l(C)},_=()=>{d(!1),y()},N=async x=>{await R.from("tasks").update({completed:!x.completed}).eq("id",x.id),y()},g=async()=>{!m.title||!m.due_date||(await R.from("tasks").insert([{client_id:n.id,title:m.title,description:m.description,due_date:m.due_date,priority:m.priority,completed:!1}]),v({title:"",description:"",due_date:"",priority:"medium"}),f(!1),y())},p=x=>new Date(x).toLocaleString("pl-PL",{day:"2-digit",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}),h=x=>new Date(x).toLocaleDateString("pl-PL",{day:"2-digit",month:"long",year:"numeric"});return i.jsxs("div",{className:"space-y-6 animate-fade-in",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("button",{onClick:t,className:"p-3 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-300 group",children:i.jsx(Wh,{className:"w-5 h-5 text-slate-400 group-hover:text-white transition-colors"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:n.name}),i.jsx("p",{className:"text-slate-400 mt-1",children:"Profil klienta"})]}),i.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-violet-500 text-white font-medium shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300",children:[i.jsx(Pa,{className:"w-5 h-5"}),"Edytuj"]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl",children:[i.jsxs("h2",{className:"text-xl font-bold text-white mb-6 flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-blue-500 to-violet-500 flex items-center justify-center",children:i.jsx(au,{className:"w-5 h-5 text-white"})}),"Historia rozmw"]}),s.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500/20 to-violet-500/20 flex items-center justify-center mx-auto mb-4",children:i.jsx(au,{className:"w-8 h-8 text-slate-400"})}),i.jsx("p",{className:"text-slate-400",children:"Brak historii rozmw"})]}):i.jsx("div",{className:"space-y-4",children:s.map((x,w)=>i.jsxs("div",{className:"relative pl-8 pb-6 last:pb-0",style:{animationDelay:`${w*100}ms`},children:[i.jsx("div",{className:"absolute left-0 top-2 w-4 h-4 rounded-full bg-gradient-to-br from-blue-500 to-violet-500 shadow-lg shadow-blue-500/50"}),w!==s.length-1&&i.jsx("div",{className:"absolute left-[7px] top-6 bottom-0 w-0.5 bg-gradient-to-b from-blue-500/50 to-transparent"}),i.jsxs("div",{className:"p-4 rounded-xl bg-white/5 border border-white/10 hover:bg-white/10 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsx("h3",{className:"font-semibold text-white",children:x.subject}),i.jsx("span",{className:"text-xs text-slate-400",children:p(x.call_date)})]}),x.notes&&i.jsx("p",{className:"text-sm text-slate-300 mb-2",children:x.notes}),x.duration>0&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(sn,{className:"w-4 h-4"}),x.duration," min"]})]})]},x.id))})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-orange-500 to-red-500 flex items-center justify-center",children:i.jsx(jt,{className:"w-5 h-5 text-white"})}),"Zadania"]}),i.jsxs("button",{onClick:()=>f(!u),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500 text-white text-sm font-medium hover:scale-105 transition-all duration-300",children:[i.jsx(on,{className:"w-4 h-4"}),u?"Anuluj":"Dodaj zadanie"]})]}),u&&i.jsxs("div",{className:"mb-4 p-4 rounded-xl bg-white/5 border border-white/10 space-y-3",children:[i.jsx("input",{type:"text",placeholder:"Tytu zadania *",value:m.title,onChange:x=>v({...m,title:x.target.value}),className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500/50"}),i.jsx("textarea",{placeholder:"Opis zadania",value:m.description,onChange:x=>v({...m,description:x.target.value}),rows:2,className:"w-full px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-orange-500/50 resize-none"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsx("input",{type:"date",value:m.due_date,onChange:x=>v({...m,due_date:x.target.value}),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-orange-500/50"}),i.jsxs("select",{value:m.priority,onChange:x=>v({...m,priority:x.target.value}),className:"px-4 py-2 rounded-lg bg-white/5 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-orange-500/50 cursor-pointer",children:[i.jsx("option",{value:"low",children:"Niski priorytet"}),i.jsx("option",{value:"medium",children:"redni priorytet"}),i.jsx("option",{value:"high",children:"Wysoki priorytet"})]})]}),i.jsx("button",{onClick:g,disabled:!m.title||!m.due_date,className:"w-full px-4 py-2 rounded-lg bg-gradient-to-r from-orange-500 to-red-500 text-white font-medium hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:"Zapisz zadanie"})]}),a.length===0&&!u?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-orange-500/20 to-red-500/20 flex items-center justify-center mx-auto mb-4",children:i.jsx(jt,{className:"w-8 h-8 text-slate-400"})}),i.jsx("p",{className:"text-slate-400",children:"Brak zada"})]}):i.jsx("div",{className:"space-y-3",children:a.map(x=>i.jsx("div",{className:`p-4 rounded-xl border transition-all duration-300 hover:scale-[1.02] cursor-pointer ${x.completed?"bg-green-500/10 border-green-500/30":"bg-white/5 border-white/10"}`,onClick:()=>N(x),children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center flex-shrink-0 mt-0.5 transition-all duration-300 ${x.completed?"bg-green-500 border-green-500":"border-white/30 hover:border-blue-500"}`,children:x.completed&&i.jsx(jt,{className:"w-4 h-4 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:`font-medium mb-1 ${x.completed?"text-slate-400 line-through":"text-white"}`,children:x.title}),x.description&&i.jsx("p",{className:"text-sm text-slate-400 mb-2",children:x.description}),i.jsxs("div",{className:"flex items-center gap-3 text-xs",children:[i.jsx("span",{className:"text-slate-400",children:h(x.due_date)}),i.jsx("span",{className:`px-2 py-1 rounded-full ${x.priority==="high"?"bg-red-500/20 text-red-300":x.priority==="medium"?"bg-yellow-500/20 text-yellow-300":"bg-green-500/20 text-green-300"}`,children:x.priority==="high"?"Pilne":x.priority==="medium"?"rednie":"Niskie"})]})]})]})},x.id))})]})]}),i.jsx("div",{className:"lg:col-span-1 space-y-6",children:i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl",children:[i.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"Informacje"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Status"}),i.jsx("div",{className:"mt-1",children:i.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-sm font-medium border ${jf(n.status)}`,children:kf(n.status)})})]}),n.phone&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Telefon"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Fe,{className:"w-4 h-4 text-slate-400"}),i.jsx("a",{href:`tel:${n.phone}`,className:"text-white hover:text-blue-400 transition-colors",children:n.phone})]})]}),n.email&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Email"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(Vi,{className:"w-4 h-4 text-slate-400"}),i.jsx("a",{href:`mailto:${n.email}`,className:"text-white hover:text-blue-400 transition-colors truncate",children:n.email})]})]}),n.last_contact&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Ostatni kontakt"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ls,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"text-white",children:h(n.last_contact)})]})]}),n.next_contact&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Nastpny kontakt"}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(ls,{className:"w-4 h-4 text-slate-400"}),i.jsx("span",{className:"text-white",children:h(n.next_contact)})]})]}),n.tags&&n.tags.length>0&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wider mb-2 block",children:"Tagi"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(x=>i.jsxs("span",{className:"px-3 py-1 rounded-lg bg-gradient-to-r from-blue-500/20 to-violet-500/20 border border-blue-500/30 text-sm text-blue-300 flex items-center gap-1",children:[i.jsx(Ki,{className:"w-3 h-3"}),x]},x))})]}),n.description&&i.jsxs("div",{children:[i.jsx("label",{className:"text-xs text-slate-400 uppercase tracking-wider",children:"Opis"}),i.jsx("p",{className:"text-sm text-slate-300 mt-1",children:n.description})]})]})]})})]}),c&&i.jsx(Nf,{client:n,onClose:()=>d(!1),onSave:_})]})}function iv(){const[e,t]=k.useState([]),[n,r]=k.useState([]),[s,o]=k.useState(""),[a,l]=k.useState("all"),[c,d]=k.useState(!1),[u,f]=k.useState(null),[m,v]=k.useState("table");k.useEffect(()=>{y()},[]),k.useEffect(()=>{_()},[e,s,a]);const y=async()=>{const{data:w}=await R.from("clients").select("*").order("created_at",{ascending:!1});w&&t(w)},_=()=>{let w=[...e];s&&(w=w.filter(C=>{var z,T;return C.name.toLowerCase().includes(s.toLowerCase())||((z=C.phone)==null?void 0:z.toLowerCase().includes(s.toLowerCase()))||((T=C.email)==null?void 0:T.toLowerCase().includes(s.toLowerCase()))})),a!=="all"&&(w=w.filter(C=>C.status===a)),r(w)},N=()=>{y(),d(!1)},g=w=>{f(w),v("profile")},p=()=>{v("table"),f(null),y()},h=async(w,C)=>{if(confirm(`Czy na pewno chcesz usun klienta "${C}"? Ta operacja jest nieodwracalna.`))try{const{error:z}=await R.from("clients").delete().eq("id",w);if(z)throw z;y()}catch(z){console.error("Error deleting client:",z),alert("Wystpi bd podczas usuwania klienta")}},x=w=>w?new Date(w).toLocaleDateString("pl-PL",{day:"2-digit",month:"2-digit",year:"numeric"}):"-";return m==="profile"&&u?i.jsx(sv,{client:u,onBack:p}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent mb-2",children:"Klienci"}),i.jsx("p",{className:"text-slate-400",children:"Zarzdzaj swoimi klientami"})]}),i.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-gradient-to-r from-blue-500 to-violet-500 text-white font-medium shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300",children:[i.jsx(on,{className:"w-5 h-5"}),"Dodaj klienta"]})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(cs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Szukaj klienta...",value:s,onChange:w=>o(w.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 backdrop-blur-xl transition-all duration-300"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(Ul,{className:"w-5 h-5 text-slate-400"}),i.jsxs("div",{className:"relative",children:[i.jsxs("select",{value:a,onChange:w=>l(w.target.value),className:"pl-4 pr-10 py-3 rounded-xl bg-slate-800/50 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent backdrop-blur-xl transition-all cursor-pointer hover:bg-slate-800/70 appearance-none",children:[i.jsx("option",{value:"all",className:"bg-slate-800 text-white py-2",children:"Wszystkie statusy"}),Yi.map(w=>i.jsx("option",{value:w.value,className:"bg-slate-800 text-white py-2",children:w.label},w.value))]}),i.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:i.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})]})]}),i.jsx("div",{className:"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl shadow-xl overflow-hidden",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"w-full",children:[i.jsx("thead",{children:i.jsxs("tr",{className:"border-b border-white/10",children:[i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-300",children:"Klient"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-300",children:"Kontakt"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-300",children:"Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-300",children:"Ostatni kontakt"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-300",children:"Kolejny kontakt"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-300",children:"Tagi"}),i.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-slate-300",children:"Akcje"})]})}),i.jsx("tbody",{children:n.length===0?i.jsx("tr",{children:i.jsx("td",{colSpan:7,className:"px-6 py-12 text-center",children:i.jsxs("div",{className:"flex flex-col items-center gap-3",children:[i.jsx("div",{className:"w-16 h-16 rounded-full bg-gradient-to-br from-blue-500/20 to-violet-500/20 flex items-center justify-center",children:i.jsx(cs,{className:"w-8 h-8 text-slate-400"})}),i.jsx("p",{className:"text-slate-400",children:"Nie znaleziono klientw"})]})})}):n.map((w,C)=>i.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5 transition-all duration-300 group cursor-pointer",style:{animationDelay:`${C*50}ms`},children:[i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-violet-500 flex items-center justify-center text-white font-bold shadow-lg group-hover:scale-110 transition-transform",children:w.name.charAt(0).toUpperCase()}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-white",children:w.name}),w.description&&i.jsx("p",{className:"text-xs text-slate-400 truncate max-w-xs",children:w.description})]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"space-y-1",children:[w.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx(Fe,{className:"w-4 h-4 text-slate-400"}),w.phone]}),w.email&&i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx(Vi,{className:"w-4 h-4 text-slate-400"}),w.email]})]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium border ${jf(w.status)}`,children:kf(w.status)})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx(ls,{className:"w-4 h-4 text-slate-400"}),x(w.last_contact)]})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-300",children:[i.jsx(ls,{className:"w-4 h-4 text-slate-400"}),x(w.next_contact)]})}),i.jsx("td",{className:"px-6 py-4",children:w.tags&&w.tags.length>0?i.jsxs("div",{className:"flex flex-wrap gap-1",children:[w.tags.slice(0,2).map(z=>i.jsxs("span",{className:"px-2 py-1 rounded-lg bg-white/10 text-xs text-slate-300 flex items-center gap-1",children:[i.jsx(Ki,{className:"w-3 h-3"}),z]},z)),w.tags.length>2&&i.jsxs("span",{className:"px-2 py-1 rounded-lg bg-white/10 text-xs text-slate-300",children:["+",w.tags.length-2]})]}):i.jsx("span",{className:"text-sm text-slate-500",children:"-"})}),i.jsx("td",{className:"px-6 py-4",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>g(w),className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-blue-500/20 text-blue-300 border border-blue-500/30 hover:bg-blue-500/30 hover:scale-105 transition-all duration-300",children:[i.jsx(um,{className:"w-4 h-4"}),"Zobacz"]}),i.jsxs("button",{onClick:z=>{z.stopPropagation(),h(w.id,w.name)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/20 text-red-300 border border-red-500/30 hover:bg-red-500/30 hover:scale-105 transition-all duration-300",children:[i.jsx(dr,{className:"w-4 h-4"}),"Usu"]})]})})]},w.id))})]})})}),c&&i.jsx(Nf,{onClose:()=>d(!1),onSave:N})]})}function ov({lead:e,onClose:t,onUpdate:n}){const[r,s]=k.useState(null),[o,a]=k.useState(""),[l,c]=k.useState(""),[d,u]=k.useState(""),[f,m]=k.useState(!1),[v,y]=k.useState(e.call_attempts||0),_=async()=>{if(!r){alert("Prosz wybra status");return}if((r==="appointment_scheduled"||r==="agreed")&&!o){alert("Prosz poda dat");return}m(!0);try{const{data:{user:N}}=await R.auth.getUser(),g={call_status:r,notes:d||"",call_attempts:v,owner_email:(N==null?void 0:N.email)||null,status:"in_progress"};r==="appointment_scheduled"||r==="agreed"?(g.appointment_date=o,g.appointment_time=l||null):(g.appointment_date=null,g.appointment_time=null);const{error:p}=await R.from("leads").update(g).eq("id",e.id);if(p)throw p;n(),t()}catch(N){console.error("Error updating lead:",N),alert("Wystpi bd podczas zapisywania")}finally{m(!1)}};return i.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto border border-white/10 animate-scale-in",children:[i.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-white/10",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Akcja dla leada"}),i.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Wybierz odpowiedni akcj"})]}),i.jsx("button",{onClick:t,className:"p-2 hover:bg-white/10 rounded-lg transition-colors",children:i.jsx(kt,{className:"w-5 h-5 text-slate-400 hover:text-white"})})]}),i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-blue-500/10 to-violet-500/10 backdrop-blur-xl p-5 rounded-xl border border-blue-500/20 space-y-3",children:[e.owner_link?i.jsx("a",{href:e.owner_link,target:"_blank",rel:"noopener noreferrer",className:"font-bold text-white text-xl hover:text-cyan-400 transition-colors cursor-pointer inline-block",children:e.name}):i.jsx("h3",{className:"font-bold text-white text-xl",children:e.name}),e.phone&&i.jsxs("p",{className:"text-slate-300 text-sm",children:[i.jsx("span",{className:"font-medium text-blue-400",children:"Telefon:"})," ",e.phone]}),e.category&&i.jsxs("p",{className:"text-slate-300 text-sm",children:[i.jsx("span",{className:"font-medium text-blue-400",children:"Kategoria:"})," ",e.category]}),e.subcategory&&i.jsxs("p",{className:"text-slate-300 text-sm",children:[i.jsx("span",{className:"font-medium text-blue-400",children:"Podkategoria:"})," ",e.subcategory]}),e.location&&i.jsxs("p",{className:"text-slate-300 text-sm",children:[i.jsx("span",{className:"font-medium text-blue-400",children:"Lokalizacja:"})," ",e.location]}),e.owner_link&&i.jsxs("p",{className:"text-slate-300 text-sm",children:[i.jsx("span",{className:"font-medium text-blue-400",children:"Google Profil:"})," ",i.jsx("a",{href:e.owner_link,target:"_blank",rel:"noopener noreferrer",className:"text-cyan-400 hover:text-cyan-300 hover:underline transition-colors",children:"Otwrz profil"})]})]}),e.notes&&i.jsxs("div",{className:"bg-gradient-to-br from-amber-500/10 to-orange-500/10 backdrop-blur-xl p-5 rounded-xl border border-amber-500/20",children:[i.jsxs("h4",{className:"font-bold text-amber-400 text-sm mb-2 flex items-center gap-2",children:[i.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Poprzednia notatka:"]}),i.jsx("p",{className:"text-slate-300 text-sm leading-relaxed whitespace-pre-wrap",children:e.notes})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h4",{className:"font-bold text-white text-lg",children:"Wybierz akcj:"}),i.jsxs("label",{className:"flex items-start space-x-3 p-4 border-2 border-white/10 bg-white/5 rounded-xl cursor-pointer hover:border-red-500/50 hover:bg-white/10 transition-all duration-300 group",children:[i.jsx("input",{type:"checkbox",checked:r==="no_answer",onChange:N=>s(N.target.checked?"no_answer":null),className:"mt-1 w-5 h-5 rounded border-2 border-white/30 bg-transparent checked:bg-red-500 checked:border-red-500 focus:ring-2 focus:ring-red-500/50"}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("span",{className:"font-medium text-white group-hover:text-red-400 transition-colors",children:"Nie odebra"}),r==="no_answer"&&i.jsx("div",{className:"mt-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("span",{className:"text-sm text-slate-400",children:"Liczba prb:"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",onClick:N=>{N.preventDefault(),N.stopPropagation(),y(Math.max(0,v-1))},className:"w-8 h-8 flex items-center justify-center rounded-lg bg-slate-800 hover:bg-slate-700 text-white transition-all",children:i.jsx(vm,{className:"w-4 h-4"})}),i.jsx("span",{className:"w-12 text-center font-bold text-white text-lg",children:v}),i.jsx("button",{type:"button",onClick:N=>{N.preventDefault(),N.stopPropagation(),y(v+1)},className:"w-8 h-8 flex items-center justify-center rounded-lg bg-slate-800 hover:bg-slate-700 text-white transition-all",children:i.jsx(on,{className:"w-4 h-4"})})]})]})})]})]}),i.jsxs("label",{className:"flex items-start space-x-3 p-4 border-2 border-white/10 bg-white/5 rounded-xl cursor-pointer hover:border-blue-500/50 hover:bg-white/10 transition-all duration-300 group",children:[i.jsx("input",{type:"checkbox",checked:r==="appointment_scheduled",onChange:N=>s(N.target.checked?"appointment_scheduled":null),className:"mt-1 w-5 h-5 rounded border-2 border-white/30 bg-transparent checked:bg-blue-500 checked:border-blue-500 focus:ring-2 focus:ring-blue-500/50"}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("span",{className:"font-medium text-white group-hover:text-blue-400 transition-colors",children:"Umwiona rozmowa"}),r==="appointment_scheduled"&&i.jsxs("div",{className:"space-y-3 mt-3",children:[i.jsx("input",{type:"date",value:o,onChange:N=>a(N.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all"}),i.jsx("input",{type:"time",value:l,onChange:N=>c(N.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all"}),i.jsx("textarea",{placeholder:"Notatka...",value:d,onChange:N=>u(N.target.value),rows:2,className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white placeholder-slate-500 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all resize-none"})]})]})]}),i.jsxs("label",{className:"flex items-start space-x-3 p-4 border-2 border-white/10 bg-white/5 rounded-xl cursor-pointer hover:border-green-500/50 hover:bg-white/10 transition-all duration-300 group",children:[i.jsx("input",{type:"checkbox",checked:r==="agreed",onChange:N=>s(N.target.checked?"agreed":null),className:"mt-1 w-5 h-5 rounded border-2 border-white/30 bg-transparent checked:bg-green-500 checked:border-green-500 focus:ring-2 focus:ring-green-500/50"}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("span",{className:"font-medium text-white group-hover:text-green-400 transition-colors",children:"Zgodzi si"}),r==="agreed"&&i.jsxs("div",{className:"space-y-3 mt-3",children:[i.jsx("input",{type:"date",value:o,onChange:N=>a(N.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500/50 transition-all"}),i.jsx("input",{type:"time",value:l,onChange:N=>c(N.target.value),className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500/50 transition-all"}),i.jsx("textarea",{placeholder:"Notatka...",value:d,onChange:N=>u(N.target.value),rows:2,className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white placeholder-slate-500 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500/50 focus:border-green-500/50 transition-all resize-none"})]})]})]}),i.jsxs("label",{className:"flex items-start space-x-3 p-4 border-2 border-white/10 bg-white/5 rounded-xl cursor-pointer hover:border-gray-500/50 hover:bg-white/10 transition-all duration-300 group",children:[i.jsx("input",{type:"checkbox",checked:r==="not_interested",onChange:N=>s(N.target.checked?"not_interested":null),className:"mt-1 w-5 h-5 rounded border-2 border-white/30 bg-transparent checked:bg-gray-500 checked:border-gray-500 focus:ring-2 focus:ring-gray-500/50"}),i.jsxs("div",{className:"flex-1 space-y-3",children:[i.jsx("span",{className:"font-medium text-white group-hover:text-gray-400 transition-colors",children:"Nie jest zainteresowany"}),r==="not_interested"&&i.jsx("div",{className:"space-y-3 mt-3",children:i.jsx("textarea",{placeholder:"Notatka - powd braku zainteresowania...",value:d,onChange:N=>u(N.target.value),rows:2,className:"w-full px-4 py-3 bg-slate-900 border border-slate-700 text-white placeholder-slate-500 rounded-xl focus:outline-none focus:ring-2 focus:ring-gray-500/50 focus:border-gray-500/50 transition-all resize-none"})})]})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 p-6 border-t border-white/10",children:[i.jsx("button",{onClick:t,className:"px-6 py-3 text-slate-300 bg-slate-800 rounded-xl hover:bg-slate-700 hover:text-white transition-all duration-300",children:"Anuluj"}),i.jsx("button",{onClick:_,disabled:f||!r,className:"px-8 py-3 bg-gradient-to-r from-blue-500 to-violet-500 text-white font-medium rounded-xl shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:f?"Zapisywanie...":"Zapisz"})]})]})})}const Cu=[{id:"all",label:"Wszystkie Leady",color:"from-blue-500 to-cyan-500"},{id:"new",label:"Nowe Leady",color:"from-green-500 to-emerald-500"},{id:"no_answer",label:"Nie Odebra",color:"from-yellow-500 to-orange-500"},{id:"appointment_scheduled",label:"Umwiona Rozmowa",color:"from-blue-500 to-violet-500"},{id:"agreed",label:"Zgodzi Si",color:"from-violet-500 to-purple-500"},{id:"not_interested",label:"Nie Jest Zainteresowany",color:"from-red-500 to-pink-500"}];function av(){var _e;const[e,t]=k.useState("all"),[n,r]=k.useState([]),[s,o]=k.useState([]),[a,l]=k.useState(""),[c,d]=k.useState("all"),[u,f]=k.useState("all"),[m,v]=k.useState("all"),[y,_]=k.useState(!1),[N,g]=k.useState(null),[p,h]=k.useState([]),[x,w]=k.useState([]),[C,z]=k.useState([]),[T,V]=k.useState({all:0,new:0,no_answer:0,appointment_scheduled:0,agreed:0,not_interested:0});k.useEffect(()=>{M(),q()},[]),k.useEffect(()=>{K()},[n,e,a,c,u,m]);const M=async()=>{const{data:O}=await R.from("leads").select("*").order("created_at",{ascending:!1});O&&(r(O),A(O))},A=O=>{V({all:O.length,new:O.filter(E=>E.status==="new"&&(E.call_status==="pending"||!E.call_status)).length,no_answer:O.filter(E=>E.call_status==="no_answer").length,appointment_scheduled:O.filter(E=>E.call_status==="appointment_scheduled").length,agreed:O.filter(E=>E.call_status==="agreed").length,not_interested:O.filter(E=>E.call_status==="not_interested").length})},q=async()=>{const{data:O}=await R.from("leads").select("category").not("category","is",null),{data:E}=await R.from("leads").select("location").not("location","is",null),{data:U}=await R.from("leads").select("owner_email").not("owner_email","is",null);if(O){const B=[...new Set(O.map(b=>b.category).filter(Boolean))];h(B.sort())}if(E){const B=[...new Set(E.map(b=>b.location).filter(Boolean))];w(B.sort())}if(U){const B=[...new Set(U.map(b=>b.owner_email).filter(Boolean))];z(B.sort())}},K=()=>{let O=[...n];e==="new"?O=O.filter(E=>E.status==="new"&&(E.call_status==="pending"||!E.call_status)):e!=="all"&&(O=O.filter(E=>E.call_status===e)),a&&(O=O.filter(E=>{var U;return E.name.toLowerCase().includes(a.toLowerCase())||((U=E.phone)==null?void 0:U.toLowerCase().includes(a.toLowerCase()))})),c!=="all"&&(O=O.filter(E=>E.category===c)),u!=="all"&&(O=O.filter(E=>E.location===u)),m!=="all"&&(O=O.filter(E=>E.owner_email===m)),o(O)},X=()=>{l(""),d("all"),f("all"),v("all")},xe=a||c!=="all"||u!=="all"||m!=="all";return i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent mb-2",children:"Leady"}),i.jsx("p",{className:"text-slate-400",children:"Zarzdzaj wszystkimi leadami w jednym miejscu"})]})}),i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-3",children:Cu.map(O=>i.jsxs("button",{onClick:()=>t(O.id),className:`p-4 rounded-xl backdrop-blur-xl border transition-all duration-300 hover:scale-105 ${e===O.id?`bg-gradient-to-br ${O.color}/30 border-blue-500/50`:"bg-white/5 border-white/10 hover:bg-white/10"}`,children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx(pm,{className:"w-5 h-5 text-blue-400"}),i.jsx("span",{className:"text-2xl font-bold text-white",children:T[O.id]})]}),i.jsx("p",{className:"text-xs text-slate-300 text-left",children:O.label})]},O.id))}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 shadow-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-white",children:(_e=Cu.find(O=>O.id===e))==null?void 0:_e.label}),i.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:["Wywietlono: ",s.length," z ",T[e]]})]}),i.jsxs("button",{onClick:()=>_(!y),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-all duration-300 ${y||xe?"bg-gradient-to-r from-blue-500 to-violet-500 text-white shadow-lg":"bg-white/5 text-white hover:bg-white/10"}`,children:[i.jsx(Ul,{className:"w-4 h-4"}),i.jsx("span",{className:"text-sm font-medium",children:"Filtry"})]})]}),y&&i.jsxs("div",{className:"mb-6 p-4 rounded-xl bg-white/5 border border-white/10 space-y-4 animate-slide-down",children:[i.jsxs("div",{className:"relative",children:[i.jsx(cs,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",placeholder:"Szukaj po nazwie lub numerze telefonu...",value:a,onChange:O=>l(O.target.value),className:"w-full pl-12 pr-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all duration-300"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Kategoria"}),i.jsxs("select",{value:c,onChange:O=>d(O.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Wszystkie kategorie"}),p.map(O=>i.jsx("option",{value:O,children:O},O))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Lokalizacja"}),i.jsxs("select",{value:u,onChange:O=>f(O.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Wszystkie lokalizacje"}),x.map(O=>i.jsx("option",{value:O,children:O},O))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Opiekun"}),i.jsxs("select",{value:m,onChange:O=>v(O.target.value),className:"w-full px-4 py-3 rounded-xl bg-slate-900 border border-slate-700 text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:"Wszyscy opiekunowie"}),C.map(O=>i.jsx("option",{value:O,children:O},O))]})]})]}),xe&&i.jsx("div",{className:"flex items-center justify-end pt-3 border-t border-white/10",children:i.jsxs("button",{onClick:X,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 text-sm font-medium transition-all duration-300",children:[i.jsx(kt,{className:"w-4 h-4"}),"Wyczy filtry"]})})]}),i.jsx("div",{className:"space-y-3",children:s.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx(cs,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),i.jsx("p",{className:"text-slate-400 mb-2",children:T[e]===0?"Brak leadw w tej kategorii":"Nie znaleziono leadw speniajcych kryteria"}),xe&&i.jsx("button",{onClick:X,className:"mt-2 text-sm text-blue-400 hover:text-blue-300 transition-colors",children:"Wyczy filtry"})]}):s.map((O,E)=>i.jsx("div",{className:"p-5 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-blue-500/50 transition-all group cursor-pointer",style:{animationDelay:`${E*.05}s`},onClick:()=>g(O),children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[i.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-violet-500 to-purple-500 flex items-center justify-center text-white font-bold text-xl shadow-lg group-hover:scale-110 transition-transform flex-shrink-0",children:O.name.charAt(0).toUpperCase()}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-blue-400 transition-colors mb-2",children:O.name}),i.jsxs("div",{className:"flex items-center gap-2 mb-3 flex-wrap",children:[i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium border ${Jl(O.category)}`,children:O.category}),O.subcategory&&i.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-slate-700/50 text-slate-300",children:O.subcategory})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[O.phone&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(Fe,{className:"w-3 h-3"}),O.phone]}),O.location&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(Gh,{className:"w-3 h-3"}),O.location]}),O.owner_email&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(gs,{className:"w-3 h-3"}),O.owner_email]}),O.site&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx(Fl,{className:"w-3 h-3"}),i.jsx("a",{href:O.site,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors truncate",onClick:U=>U.stopPropagation(),children:O.site})]})]})]})]}),i.jsxs("button",{onClick:()=>g(O),className:"flex items-center gap-2 px-6 py-3 rounded-lg bg-gradient-to-r from-blue-500 to-violet-500 text-white font-medium shadow-lg hover:shadow-xl transition-all hover:scale-105",children:[i.jsx(Hh,{className:"w-4 h-4"}),"Akcje"]})]})},O.id))})]}),N&&i.jsx(ov,{lead:N,onClose:()=>g(null),onUpdate:()=>{M(),g(null)}})]})}const lv=[{key:"name",label:"Nazwa firmy",required:!0},{key:"phone",label:"Telefon",required:!1},{key:"email",label:"Email",required:!1},{key:"site",label:"Strona www",required:!1},{key:"category",label:"Kategoria",required:!1},{key:"description",label:"Opis/Notatki",required:!1},{key:"owner_link",label:"Link waciciela",required:!1},{key:"source",label:"rdo",required:!1}],Eu=["Dekarze"],zu=["PL Dolnolskie"],cv=["Strony WWW"];function uv(){const[e,t]=k.useState(!1),[n,r]=k.useState(null),[s,o]=k.useState([]),[a,l]=k.useState([]),[c,d]=k.useState([]),[u,f]=k.useState(""),[m,v]=k.useState(""),[y,_]=k.useState(""),[N,g]=k.useState(""),[p,h]=k.useState(""),[x,w]=k.useState(""),[C,z]=k.useState([]),[T,V]=k.useState([]),[M,A]=k.useState([]),[q,K]=k.useState(!1),[X,xe]=k.useState(null),_e=k.useRef(null);k.useEffect(()=>{O()},[]);const O=async()=>{const{data:j}=await R.from("leads").select("category").not("category","is",null);if(j){const D=[...new Set(j.map(Z=>Z.category).filter(Boolean))];z([...Eu,...D].filter((Z,se,pe)=>pe.indexOf(Z)===se).sort())}else z(Eu);const{data:I}=await R.from("leads").select("location").not("location","is",null);if(I){const D=[...new Set(I.map(Z=>Z.location).filter(Boolean))];V([...zu,...D].filter((Z,se,pe)=>pe.indexOf(Z)===se).sort())}else V(zu);A(cv)},E=j=>{j.preventDefault(),t(!0)},U=()=>{t(!1)},B=j=>{j.preventDefault(),t(!1);const I=j.dataTransfer.files[0];I&&(I.type==="text/csv"||I.name.endsWith(".csv"))&&L(I)},b=j=>{var D;const I=(D=j.target.files)==null?void 0:D[0];I&&L(I)},L=j=>{r(j),xe(null);const I=new FileReader;I.onload=D=>{var se;const Z=(se=D.target)==null?void 0:se.result;S(Z)},I.readAsText(j)},F=j=>{const I=[];let D="",Z=!1;for(let se=0;se<j.length;se++){const pe=j[se],mt=j[se+1];pe==='"'?Z&&mt==='"'?(D+='"',se++):Z=!Z:(pe===","||pe==="	"||pe===";")&&!Z?(I.push(D.trim()),D=""):D+=pe}return I.push(D.trim()),I},S=j=>{const I=j.split(`
`).filter(pe=>pe.trim());if(I.length===0)return;const D=F(I[0]);o(D);const Z=[];for(let pe=1;pe<Math.min(I.length,11);pe++){const mt=F(I[pe]);Z.push(mt)}l(Z);const se=D.map((pe,mt)=>{let De=null;const te=pe.toLowerCase();return te.includes("name")||te.includes("nazwa")?De="name":te.includes("phone")||te.includes("telefon")?De="phone":te.includes("email")||te.includes("mail")?De="email":te.includes("site")||te.includes("strona")||te.includes("www")?De="site":te.includes("category")||te.includes("kategoria")||te.includes("query")?De="category":te.includes("description")||te.includes("note")||te.includes("notat")||te.includes("opis")?De="description":te.includes("owner_link")||te.includes("google")||te.includes("location_link")?De="owner_link":(te.includes("source")||te.includes("type")||te.includes("typ"))&&(De="source"),{csvColumn:pe,csvIndex:mt,dbField:De}});d(se)},H=(j,I)=>{d(c.map(D=>D.csvIndex===j?{...D,dbField:I}:D))},ee=async()=>{if(a.length===0)return;if(!c.find(se=>se.dbField==="name")){alert('Musisz zmapowa kolumn "Nazwa firmy" przed importem!');return}K(!0);let I=0,D=0;const Z=new FileReader;Z.onload=async se=>{var De;const mt=((De=se.target)==null?void 0:De.result).split(`
`).filter(te=>te.trim());for(let te=1;te<mt.length;te++){const Me=F(mt[te]),Ee={};if(c.forEach(Rt=>{Rt.dbField&&Me[Rt.csvIndex]&&(Ee[Rt.dbField]=Me[Rt.csvIndex]||"")}),!Ee.name){D++;continue}let $t=!1;if(Ee.phone){const{data:Rt}=await R.from("leads").select("id").eq("phone",Ee.phone).maybeSingle();if(Rt&&($t=!0),!$t){const{data:eo}=await R.from("clients").select("id").eq("phone",Ee.phone).maybeSingle();eo&&($t=!0)}}if(!$t){const{data:Rt}=await R.from("leads").select("id").eq("name",Ee.name).maybeSingle();if(Rt&&($t=!0),!$t){const{data:eo}=await R.from("clients").select("id").eq("name",Ee.name).maybeSingle();eo&&($t=!0)}}if($t){console.log(`Pominito duplikat: ${Ee.name}`),D++;continue}const Sf=m||u||"Inne",Cf=Ee.category||"",Ef=N||y||"",zf=x||p||"",{error:Ql}=await R.from("leads").insert([{name:Ee.name,phone:Ee.phone||null,email:Ee.email||null,site:Ee.site||"",description:Ee.description||"",source:Ee.source||"Import",category:Sf,subcategory:Cf,location:Ef,service:zf,owner_link:Ee.owner_link||"",status:"new"}]);Ql?(console.error("Import error:",Ql),D++):I++}K(!1),xe({success:I,failed:D}),O()},Z.readAsText(n)},re=()=>{const j=`nazwa,telefon,email,strona,kategoria,notatki,link_google
Przykadowa Firma,+48 123 456 789,kontakt@firma.pl,https://firma.pl,Trenerzy personalni,Notatki o firmie,https://maps.google.com/...`,I=new Blob([j],{type:"text/csv"}),D=URL.createObjectURL(I),Z=document.createElement("a");Z.href=D,Z.download="szablon_import_leadow.csv",Z.click()};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent mb-2",children:"Import leadw"}),i.jsx("p",{className:"text-slate-400",children:"Importuj leady z pliku CSV z intuicyjnym mapowaniem kolumn"})]}),i.jsxs("button",{onClick:re,className:"flex items-center gap-2 px-6 py-3 rounded-xl bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all duration-300",children:[i.jsx(cm,{className:"w-5 h-5"}),"Pobierz szablon"]})]}),i.jsxs("div",{onDragOver:E,onDragLeave:U,onDrop:B,className:`relative p-12 rounded-2xl border-2 border-dashed transition-all duration-300 cursor-pointer group ${e?"border-blue-500 bg-blue-500/10 scale-105":"border-white/20 bg-white/5 hover:border-blue-500/50 hover:bg-white/10"}`,onClick:()=>{var j;return(j=_e.current)==null?void 0:j.click()},children:[i.jsx("input",{ref:_e,type:"file",accept:".csv",onChange:b,className:"hidden"}),i.jsxs("div",{className:"flex flex-col items-center gap-4",children:[i.jsx("div",{className:`w-20 h-20 rounded-2xl flex items-center justify-center transition-all duration-300 ${e?"bg-gradient-to-br from-blue-500 to-violet-500 scale-110":"bg-gradient-to-br from-blue-500/20 to-violet-500/20 group-hover:scale-110"}`,children:i.jsx(Oa,{className:`w-10 h-10 ${e?"text-white":"text-blue-400"}`})}),i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-lg font-semibold text-white mb-2",children:e?"Upu plik tutaj":"Przecignij i upu plik CSV"}),i.jsx("p",{className:"text-sm text-slate-400",children:"lub kliknij, aby wybra plik"})]}),n&&i.jsxs("div",{className:"mt-4 flex items-center gap-3 px-6 py-3 rounded-xl bg-gradient-to-r from-green-500/20 to-emerald-500/20 border border-green-500/30",children:[i.jsx(Si,{className:"w-5 h-5 text-green-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-white",children:n.name}),i.jsxs("p",{className:"text-xs text-slate-400",children:[(n.size/1024).toFixed(2)," KB"]})]})]})]})]}),s.length>0&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10",children:[i.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Mapowanie kolumn"}),i.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Pocz kolumny z CSV z polami w bazie danych. Kolumny zostay automatycznie wykryte, ale moesz je zmieni."}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[1fr,auto,1fr] gap-6",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-semibold text-blue-400 mb-3 uppercase tracking-wide",children:"Kolumny CSV"}),c.map((j,I)=>i.jsxs("div",{className:"min-h-[72px] flex flex-col justify-center p-4 rounded-xl bg-blue-500/10 border border-blue-500/30 text-white font-medium",children:[i.jsx("div",{className:"text-sm font-bold mb-1",children:j.csvColumn}),a[0]&&a[0][j.csvIndex]&&i.jsxs("div",{className:"text-xs text-slate-400 truncate",children:["Przykad: ",a[0][j.csvIndex]]})]},I))]}),i.jsx("div",{className:"flex items-center justify-center",children:i.jsx("div",{className:"h-full w-px bg-gradient-to-b from-transparent via-white/20 to-transparent"})}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("h4",{className:"text-sm font-semibold text-violet-400 mb-3 uppercase tracking-wide",children:"Pola w bazie danych"}),c.map((j,I)=>i.jsxs("div",{className:"relative min-h-[72px] flex items-center",children:[i.jsxs("select",{value:j.dbField||"",onChange:D=>H(j.csvIndex,D.target.value||null),className:"w-full p-4 rounded-xl bg-violet-500/10 border border-violet-500/30 text-white font-medium focus:outline-none focus:ring-2 focus:ring-violet-500/50 cursor-pointer appearance-none [&>option]:bg-slate-900 [&>option]:text-white",style:{colorScheme:"dark"},children:[i.jsx("option",{value:"",className:"bg-slate-900 text-white",children:"-- Nie importuj --"}),lv.map(D=>i.jsxs("option",{value:D.key,className:"bg-slate-900 text-white",children:[D.label," ",D.required?"(wymagane)":""]},D.key))]}),i.jsx(Hh,{className:"absolute right-4 top-1/2 -translate-y-1/2 w-4 h-4 text-violet-400 pointer-events-none"})]},I))]})]})]}),i.jsxs("div",{className:"space-y-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Kategoria"}),i.jsx("p",{className:"text-sm text-slate-400 mb-3",children:"Wybierz z listy lub wpisz now kategori"}),i.jsxs("select",{value:u,onChange:j=>{f(j.target.value),j.target.value!=="custom"&&v("")},className:"w-full px-4 py-3 rounded-xl bg-slate-800/80 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 cursor-pointer mb-3 hover:bg-slate-800 transition-colors",children:[i.jsx("option",{value:"",className:"bg-slate-900 text-slate-400",children:"-- Wybierz kategori --"}),C.map(j=>i.jsx("option",{value:j,className:"bg-slate-900 text-white hover:bg-slate-800",children:j},j)),i.jsx("option",{value:"custom",className:"bg-slate-900 text-blue-400",children:"+ Dodaj now kategori"})]}),u==="custom"&&i.jsx("input",{type:"text",value:m,onChange:j=>v(j.target.value),placeholder:"Wpisz nazw nowej kategorii",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Lokalizacja"}),i.jsx("p",{className:"text-sm text-slate-400 mb-3",children:"Wybierz z listy lub wpisz now lokalizacj"}),i.jsxs("select",{value:y,onChange:j=>{_(j.target.value),j.target.value!=="custom"&&g("")},className:"w-full px-4 py-3 rounded-xl bg-slate-800/80 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 cursor-pointer mb-3 hover:bg-slate-800 transition-colors",children:[i.jsx("option",{value:"",className:"bg-slate-900 text-slate-400",children:"-- Wybierz lokalizacj --"}),T.map(j=>i.jsx("option",{value:j,className:"bg-slate-900 text-white hover:bg-slate-800",children:j},j)),i.jsx("option",{value:"custom",className:"bg-slate-900 text-blue-400",children:"+ Dodaj now lokalizacj"})]}),y==="custom"&&i.jsx("input",{type:"text",value:N,onChange:j=>g(j.target.value),placeholder:"Np. WWKALISZ (Wojewdztwo Wielkopolskie Kalisz)",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Usuga"}),i.jsx("p",{className:"text-sm text-slate-400 mb-3",children:"Wybierz z listy lub wpisz now usug"}),i.jsxs("select",{value:p,onChange:j=>{h(j.target.value),j.target.value!=="custom"&&w("")},className:"w-full px-4 py-3 rounded-xl bg-slate-800/80 border border-white/10 text-white focus:outline-none focus:ring-2 focus:ring-blue-500/50 cursor-pointer mb-3 hover:bg-slate-800 transition-colors",children:[i.jsx("option",{value:"",className:"bg-slate-900 text-slate-400",children:"-- Wybierz usug --"}),M.map(j=>i.jsx("option",{value:j,className:"bg-slate-900 text-white hover:bg-slate-800",children:j},j)),i.jsx("option",{value:"custom",className:"bg-slate-900 text-blue-400",children:"+ Dodaj now usug"})]}),p==="custom"&&i.jsx("input",{type:"text",value:x,onChange:j=>w(j.target.value),placeholder:"Np. WEBSITES, AI Automation",className:"w-full px-4 py-3 rounded-xl bg-white/5 border border-white/10 text-white placeholder-slate-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50"})]}),i.jsxs("button",{onClick:ee,disabled:q,className:"w-full flex items-center justify-center gap-2 px-6 py-4 rounded-xl bg-gradient-to-r from-blue-500 to-violet-500 text-white font-medium shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[i.jsx(Oa,{className:"w-5 h-5"}),q?"Importowanie...":"Importuj leady"]})]})]}),X&&i.jsxs("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-4",children:"Wynik importu"}),i.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-green-500/20 border border-green-500/30",children:[i.jsx(jt,{className:"w-6 h-6 text-green-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-green-300",children:"Zaimportowano"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:X.success})]})]}),X.failed>0&&i.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-red-500/20 border border-red-500/30",children:[i.jsx(Ml,{className:"w-6 h-6 text-red-400"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-red-300",children:"Bdy/Duplikaty"}),i.jsx("p",{className:"text-2xl font-bold text-white",children:X.failed})]})]})]}),i.jsx("button",{onClick:()=>{r(null),l([]),o([]),d([]),xe(null),f(""),v(""),_(""),g(""),h(""),w(""),O()},className:"w-full px-4 py-2 rounded-xl bg-white/5 border border-white/10 text-white hover:bg-white/10 transition-all duration-300",children:"Importuj kolejny plik"})]})]})}function dv(){return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent mb-2",children:"Ustawienia"}),i.jsx("p",{className:"text-slate-400",children:"Konfiguracja systemu CRM"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"Profil uytkownika",description:"Zarzdzaj swoimi danymi osobowymi",icon:gs,color:"from-blue-500 to-cyan-500"},{title:"Powiadomienia",description:"Konfiguruj alerty i przypomnienia",icon:qh,color:"from-violet-500 to-purple-500"},{title:"Bezpieczestwo",description:"Ustawienia prywatnoci i zabezpiecze",icon:_m,color:"from-green-500 to-emerald-500"},{title:"Baza danych",description:"Zarzdzaj danymi i kopiami zapasowymi",icon:lm,color:"from-orange-500 to-red-500"},{title:"Personalizacja",description:"Dostosuj wygld interfejsu",icon:Bl,color:"from-pink-500 to-rose-500"},{title:"Zaawansowane",description:"Dodatkowe opcje konfiguracyjne",icon:Ta,color:"from-slate-500 to-zinc-500"}].map((e,t)=>i.jsx("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-white/5 border border-white/10 hover:bg-white/10 hover:scale-105 transition-all duration-300 cursor-pointer group",style:{animationDelay:`${t*100}ms`},children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${e.color} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform`,children:i.jsx(e.icon,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-1",children:e.title}),i.jsx("p",{className:"text-sm text-slate-400",children:e.description})]})]})},e.title))}),i.jsx("div",{className:"p-6 rounded-2xl backdrop-blur-xl bg-gradient-to-r from-blue-500/10 to-violet-500/10 border border-blue-500/30",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-violet-500 flex items-center justify-center shadow-lg flex-shrink-0",children:i.jsx(Ta,{className:"w-6 h-6 text-white"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Shepherd CRM v1.0"}),i.jsx("p",{className:"text-sm text-slate-300 mb-4",children:"Premium panel CRM dla firm tworzcych strony internetowe. System oferuje pene zarzdzanie klientami, leadami oraz histori kontaktw."}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10 text-xs text-slate-300",children:"React 18"}),i.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10 text-xs text-slate-300",children:"TypeScript"}),i.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10 text-xs text-slate-300",children:"Supabase"}),i.jsx("span",{className:"px-3 py-1 rounded-lg bg-white/10 text-xs text-slate-300",children:"Tailwind CSS"})]})]})]})})]})}const hv="SH3PH3RD2026";function fv({onLogin:e}){const[t,n]=k.useState(""),[r,s]=k.useState(""),[o,a]=k.useState(""),[l,c]=k.useState(!1),[d,u]=k.useState(""),[f,m]=k.useState(!1),v=async y=>{y.preventDefault(),u(""),c(!0);try{if(f){if(o!==hv){u("Nieprawidowy kod dostpu"),c(!1);return}const{error:_}=await R.auth.signUp({email:t,password:r});if(_)throw _;alert("Konto utworzone! Moesz si teraz zalogowa."),m(!1),s(""),a("")}else{const{error:_}=await R.auth.signInWithPassword({email:t,password:r});if(_)throw _;e()}}catch(_){console.error("Auth error:",_),_.message.includes("Invalid login credentials")?u("Nieprawidowy email lub haso"):_.message.includes("Email not confirmed")?u("Email nie zosta potwierdzony"):u(_.message||"Wystpi bd podczas logowania")}finally{c(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 relative overflow-hidden flex items-center justify-center",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjAzKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-40"}),i.jsxs("div",{className:"relative z-10 w-full max-w-md p-8",children:[i.jsxs("div",{className:"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl shadow-2xl p-8",children:[i.jsxs("div",{className:"flex flex-col items-center mb-8",children:[i.jsx("img",{src:"/channels4_profile-removebg-preview.png",alt:"Shepherd CRM Logo",className:"w-24 h-24 object-contain mb-4"}),i.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent mb-2",children:"Shepherd CRM"}),i.jsx("p",{className:"text-slate-400 text-sm",children:f?"Utwrz nowe konto":"Zaloguj si do panelu"})]}),i.jsxs("form",{onSubmit:v,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Email"}),i.jsxs("div",{className:"relative",children:[i.jsx(Vi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"email",value:t,onChange:y=>n(y.target.value),required:!0,className:"w-full pl-12 pr-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:"twoj@email.pl"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Haso"}),i.jsxs("div",{className:"relative",children:[i.jsx(mm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"password",value:r,onChange:y=>s(y.target.value),required:!0,minLength:6,className:"w-full pl-12 pr-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all",placeholder:""})]})]}),f&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Kod dostpu"}),i.jsxs("div",{className:"relative",children:[i.jsx(fm,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),i.jsx("input",{type:"text",value:o,onChange:y=>a(y.target.value.toUpperCase()),required:f,className:"w-full pl-12 pr-4 py-3 bg-slate-900 border border-slate-700 text-white rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-blue-500/50 transition-all uppercase tracking-wider",placeholder:"Wprowad kod dostepu"})]}),i.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Wprowad specjalny kod dostpu, aby utworzy konto"})]}),d&&i.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-500/10 border border-red-500/30 rounded-xl",children:[i.jsx(Ml,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),i.jsx("p",{className:"text-sm text-red-300",children:d})]}),i.jsxs("button",{type:"submit",disabled:l,className:"w-full flex items-center justify-center gap-2 px-6 py-3 bg-gradient-to-r from-blue-500 to-violet-500 text-white font-medium rounded-xl shadow-lg shadow-blue-500/30 hover:shadow-xl hover:shadow-blue-500/40 hover:scale-105 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100",children:[i.jsx(gm,{className:"w-5 h-5"}),l?"adowanie...":f?"Zarejestruj si":"Zaloguj si"]})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>{m(!f),u(""),a("")},className:"text-sm text-slate-400 hover:text-blue-400 transition-colors",children:f?"Masz ju konto? Zaloguj si":"Nie masz konta? Zarejestruj si"})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-xs text-slate-500",children:"Shepherd CRM - System zarzdzania relacjami z klientami"})})]})]})}function pv(){var d,u;const[e,t]=k.useState("dashboard"),[n,r]=k.useState(null),[s,o]=k.useState(!0);k.useEffect(()=>{R.auth.getSession().then(({data:{session:m}})=>{r((m==null?void 0:m.user)??null),o(!1)});const{data:{subscription:f}}=R.auth.onAuthStateChange((m,v)=>{r((v==null?void 0:v.user)??null)});return()=>f.unsubscribe()},[]);const a=async()=>{await R.auth.signOut(),r(null)},l=[{id:"dashboard",name:"Dashboard",icon:Kh},{id:"clients",name:"Klienci",icon:Fr},{id:"leads",name:"Leady",icon:Hl},{id:"import",name:"Import danych",icon:Oa},{id:"settings",name:"Ustawienia",icon:Ta}],c=()=>{switch(e){case"dashboard":return i.jsx(Su,{});case"clients":return i.jsx(iv,{});case"leads":return i.jsx(av,{});case"import":return i.jsx(uv,{});case"settings":return i.jsx(dv,{});default:return i.jsx(Su,{})}};return s?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 flex items-center justify-center",children:i.jsx("div",{className:"text-white text-xl",children:"adowanie..."})}):n?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-950 via-blue-950 to-slate-900 relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI2MCIgaGVpZ2h0PSI2MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAxMCAwIEwgMCAwIDAgMTAiIGZpbGw9Im5vbmUiIHN0cm9rZT0icmdiYSgyNTUsMjU1LDI1NSwwLjAzKSIgc3Ryb2tlLXdpZHRoPSIxIi8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI2dyaWQpIi8+PC9zdmc+')] opacity-40"}),i.jsxs("div",{className:"relative flex h-screen",children:[i.jsxs("aside",{className:"w-72 p-6 backdrop-blur-xl bg-white/5 border-r border-white/10 shadow-2xl flex flex-col",children:[i.jsx("div",{className:"mb-12",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("img",{src:"/channels4_profile-removebg-preview.png",alt:"Shepherd CRM Logo",className:"w-20 h-20 object-contain"}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-xl font-bold bg-gradient-to-r from-blue-400 to-violet-400 bg-clip-text text-transparent",children:"Shepherd CRM"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Premium Panel"})]})]})}),i.jsx("nav",{className:"space-y-2 flex-1",children:l.map(f=>{const m=f.icon,v=e===f.id;return i.jsxs("button",{onClick:()=>t(f.id),className:`
                    w-full flex items-center gap-3 px-3 py-3.5 rounded-xl font-medium text-sm
                    transition-all duration-300 group relative overflow-hidden
                    ${v?"bg-gradient-to-r from-blue-500/20 to-violet-500/20 text-white shadow-lg shadow-blue-500/20 border border-blue-500/30":"text-slate-400 hover:text-white hover:bg-white/5"}
                  `,children:[v&&i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/10 to-violet-500/10 animate-pulse"}),i.jsx(m,{className:`w-5 h-5 flex-shrink-0 relative z-10 transition-transform duration-300 ${v?"scale-110":"group-hover:scale-110"}`}),i.jsx("span",{className:"relative z-10 whitespace-nowrap overflow-hidden text-ellipsis",children:f.name}),v&&i.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 w-1 h-8 bg-gradient-to-b from-blue-500 to-violet-500 rounded-l-full"})]},f.id)})}),i.jsxs("div",{className:"mt-auto space-y-3",children:[i.jsx("div",{className:"p-4 rounded-xl bg-gradient-to-br from-blue-500/10 to-violet-500/10 border border-blue-500/20 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-blue-500 to-violet-600 flex items-center justify-center text-white font-bold shadow-lg",children:((d=n.email)==null?void 0:d.charAt(0).toUpperCase())||"U"}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-medium text-white truncate",children:((u=n.email)==null?void 0:u.split("@")[0])||"User"}),i.jsx("p",{className:"text-xs text-slate-400 truncate",children:n.email})]})]})}),i.jsxs("button",{onClick:a,className:"w-full flex items-center gap-3 px-4 py-3 rounded-xl text-slate-400 hover:text-white hover:bg-red-500/10 hover:border-red-500/30 border border-white/10 transition-all duration-300",children:[i.jsx(xm,{className:"w-5 h-5"}),i.jsx("span",{children:"Wyloguj si"})]})]})]}),i.jsx("main",{className:"flex-1 overflow-y-auto",children:i.jsx("div",{className:"p-8",children:c()})})]})]}):i.jsx(fv,{onLogin:()=>{}})}Bh(document.getElementById("root")).render(i.jsx(k.StrictMode,{children:i.jsx(pv,{})}));
